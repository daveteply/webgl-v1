(self.webpackChunkwebgl_v1=self.webpackChunkwebgl_v1||[]).push([[523],{4646:function(se,_e,x){var L;se=x.nmd(se),function(){var i,C=[].slice;i=function(){var E,ce,ye,he,j;for(j=Array.isArray||function(h){return"[object Array]"==={}.toString.call(h)},I.SCHEMES={},ce=0,ye=(he="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;ce<ye;ce++)I.SCHEMES[he[ce]]=!0;function I(){var h,m;for(h=[],m=1;m<=4;m++)h.push(new I.mutablecolor(60));this.col=h,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return I.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},I.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},I.prototype.colors=function(){var h,m,u,_,v,S,T,g,b,y;if(b=1,m=this.col[0].get_hue(),(h={mono:function(){},contrast:(y=this,function(){return b=2,y.col[1].set_hue(m),y.col[1].rotate(180)}),triade:function(y){return function(){var P;return b=3,P=60*y._distance,y.col[1].set_hue(m),y.col[1].rotate(180-P),y.col[2].set_hue(m),y.col[2].rotate(180+P)}}(this),tetrade:function(y){return function(){var P;return b=4,P=90*y._distance,y.col[1].set_hue(m),y.col[1].rotate(180),y.col[2].set_hue(m),y.col[2].rotate(180+P),y.col[3].set_hue(m),y.col[3].rotate(P)}}(this),analogic:function(y){return function(){var P;return b=y._add_complement?4:3,P=60*y._distance,y.col[1].set_hue(m),y.col[1].rotate(P),y.col[2].set_hue(m),y.col[2].rotate(360-P),y.col[3].set_hue(m),y.col[3].rotate(180)}}(this)}).monochromatic=h.mono,null==h[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(h[this._scheme](),T=[],u=v=0,g=b-1;0<=g?v<=g:v>=g;u=0<=g?++v:--v)for(_=S=0;S<=3;_=++S)T[4*u+_]=this.col[u].get_hex(this._web_safe,_);return T},I.prototype.colorset=function(){var h,m;for(h=E(this.colors()),m=[];h.length>0;)m.push(h.splice(0,4));return m},I.prototype.from_hue=function(h){if(null==h)throw"from_hue needs an argument";return this.col[0].set_hue(h),this},I.prototype.rgb2ryb=function(){var h,m,u,_,v,S,T,g,b;return null!=(T=1<=arguments.length?C.call(arguments,0):[])[0]&&j(T[0])&&(T=T[0]),S=T[0],m=T[1],h=T[2],S-=g=Math.min(S,m,h),m-=g,h-=g,_=Math.max(S,m,h),S-=b=Math.min(S,m),m-=b,h>0&&m>0&&(h/=2,m/=2),b+=m,h+=m,(v=Math.max(S,b,h))>0&&(S*=u=_/v,b*=u,h*=u),S+=g,b+=g,h+=g,[Math.floor(S),Math.floor(b),Math.floor(h)]},I.prototype.rgb2hsv=function(){var h,m,u,_,v,S,T,g,y;return null!=(g=1<=arguments.length?C.call(arguments,0):[])[0]&&j(g[0])&&(g=g[0]),T=g[0],u=g[1],h=g[2],T/=255,u/=255,h/=255,S=Math.min.apply(Math,[T,u,h]),y=v=Math.max.apply(Math,[T,u,h]),(m=v-S)>0?(_=T===v?(u-h)/m:u===v?2+(h-T)/m:4+(T-u)/m,_*=60,[_%=360,m/v,y]):[0,0,y]},I.prototype.rgbToHsv=function(){var h,m,u,_,v,S,T,g,b,y;if(null!=(g=1<=arguments.length?C.call(arguments,0):[])[0]&&j(g[0])&&(g=g[0]),T=g[0],u=g[1],h=g[2],T/=255,u/=255,h/=255,_=void 0,b=void 0,y=v=Math.max(T,u,h),m=v-(S=Math.min(T,u,h)),b=0===v?0:m/v,v===S)_=0;else{switch(v){case T:_=(u-h)/m+(u<h?6:0);break;case u:_=(h-T)/m+2;break;case h:_=(T-u)/m+4}_/=6}return[_,b,y]},I.prototype.from_hex=function(h){var g,U,B,D,w,H;if(null==h)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(h))throw"from_hex("+h+") - argument must be in the form of RRGGBB";return D=/(..)(..)(..)/.exec(h).slice(1,4),U=function(){var Q,Z,R;for(R=[],Z=0,Q=D.length;Z<Q;Z++)R.push(parseInt(D[Z],16));return R}(),B=this.rgb2ryb([U[0],U[1],U[2]]),w=(g=this.rgbToHsv(B[0],B[1],B[2]))[1],H=g[2],this.from_hue(360*g[0]),this._set_variant_preset([w,H,w,.7*H,.25*w,1,.5*w,1]),this},I.prototype.add_complement=function(h){if(null==h)throw"add_complement needs an argument";return this._add_complement=h,this},I.prototype.web_safe=function(h){if(null==h)throw"web_safe needs an argument";return this._web_safe=h,this},I.prototype.distance=function(h){if(null==h)throw"distance needs an argument";if(h<0)throw"distance("+h+") - argument must be >= 0";if(h>1)throw"distance("+h+") - argument must be <= 1";return this._distance=h,this},I.prototype.scheme=function(h){if(null==h)return this._scheme;if(null==I.SCHEMES[h])throw"'"+h+"' isn't a valid scheme name";return this._scheme=h,this},I.prototype.variation=function(h){if(null==h)throw"variation needs an argument";if(null==I.PRESETS[h])throw"'$v' isn't a valid variation name";return this._set_variant_preset(I.PRESETS[h]),this},I.prototype._set_variant_preset=function(h){var m,u,_;for(_=[],m=u=0;u<=3;m=++u)_.push(this.col[m].set_variant_preset(h));return _},E=function(h){var m,u,_;if(null==h||"object"!=typeof h)return h;if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp)return m="",null!=h.global&&(m+="g"),null!=h.ignoreCase&&(m+="i"),null!=h.multiline&&(m+="m"),null!=h.sticky&&(m+="y"),new RegExp(h.source,m);for(u in _=new h.constructor,h)_[u]=E(h[u]);return _},I.mutablecolor=function(){function h(m){if(null==m)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(m),this.set_variant_preset(I.PRESETS.default)}return h.prototype.hue=0,h.prototype.saturation=[],h.prototype.value=[],h.prototype.base_red=0,h.prototype.base_green=0,h.prototype.base_saturation=0,h.prototype.base_value=0,h.prototype.get_hue=function(){return this.hue},h.prototype.set_hue=function(m){var u,_,v,S,T,g,b,y,P,k;for(_ in u=function(U,B,D){return U+Math.round((B-U)*D)},this.hue=Math.round(m%360),k=(T=this.hue%15+(this.hue-Math.floor(this.hue)))/15,b=(15+(g=this.hue-Math.floor(T)))%360,360===g&&(g=0),360===b&&(b=0),v=I.COLOR_WHEEL[g],S=I.COLOR_WHEEL[b],y={red:0,green:1,blue:2,value:3})this["base_"+_]=u(v[P=y[_]],S[P],k);return this.base_saturation=u(100,100,k)/100,this.base_value/=100},h.prototype.rotate=function(m){return this.set_hue((this.hue+m)%360)},h.prototype.get_saturation=function(m){var u,_;return(u=(_=this.saturation[m])<0?-_*this.base_saturation:_)>1&&(u=1),u<0&&(u=0),u},h.prototype.get_value=function(m){var u,_;return(u=(_=this.value[m])<0?-_*this.base_value:_)>1&&(u=1),u<0&&(u=0),u},h.prototype.set_variant=function(m,u,_){return this.saturation[m]=u,this.value[m]=_},h.prototype.set_variant_preset=function(m){var u,_,v;for(v=[],u=_=0;_<=3;u=++_)v.push(this.set_variant(u,m[2*u],m[2*u+1]));return v},h.prototype.get_hex=function(m,u){var v,S,g,b,y,P,k,B,D,w,H,Q,Z,R;for(k=Math.max.apply(Math,function(){var $,X,W,re;for(re=[],X=0,$=(W=["red","green","blue"]).length;X<$;X++)re.push(this["base_"+(v=W[X])]);return re}.call(this)),Math.min.apply(Math,function(){var $,X,W,re;for(re=[],X=0,$=(W=["red","green","blue"]).length;X<$;X++)re.push(this["base_"+(v=W[X])]);return re}.call(this)),R=255*(u<0?this.base_value:this.get_value(u)),Q=u<0?this.base_saturation:this.get_saturation(u),g=k>0?R/k:0,w=[],P=0,b=(D=["red","green","blue"]).length;P<b;P++)v=D[P],H=Math.min.apply(Math,[255,Math.round(R-(R-this["base_"+v]*g)*Q)]),w.push(H);for(m&&(w=function(){var $,X,W;for(W=[],X=0,$=w.length;X<$;X++)W.push(51*Math.round(w[X]/51));return W}()),S="",B=0,y=w.length;B<y;B++)(Z=w[B].toString(16)).length<2&&(Z="0"+Z),S+=Z;return S},h}(),I}(),null!==se&&null!=se.exports?se.exports=i:void 0!==(L=function(){return i}.apply(_e,[]))&&(se.exports=L)}.call(this)},9575:(se,_e,x)=>{var N;!function(L,i,C,E){"use strict";var v,ce=["","webkit","Moz","MS","ms","o"],ye=i.createElement("div"),j=Math.round,te=Math.abs,I=Date.now;function h(e,t,n){return setTimeout(b(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(u(e,n[t],n),!0)}function u(e,t,n){var o;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==E)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function _(e,t,n){var o="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var f=new Error("get-stack-trace"),p=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",M=L.console&&(L.console.warn||L.console.log);return M&&M.call(L.console,o,p),e.apply(this,arguments)}}v="function"!=typeof Object.assign?function(t){if(t===E||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var f=arguments[o];if(f!==E&&null!==f)for(var p in f)f.hasOwnProperty(p)&&(n[p]=f[p])}return n}:Object.assign;var S=_(function(t,n,o){for(var f=Object.keys(n),p=0;p<f.length;)(!o||o&&t[f[p]]===E)&&(t[f[p]]=n[f[p]]),p++;return t},"extend","Use `assign`."),T=_(function(t,n){return S(t,n,!0)},"merge","Use `assign`.");function g(e,t,n){var f,o=t.prototype;(f=e.prototype=Object.create(o)).constructor=e,f._super=o,n&&v(f,n)}function b(e,t){return function(){return e.apply(t,arguments)}}function y(e,t){return"function"==typeof e?e.apply(t&&t[0]||E,t):e}function P(e,t){return e===E?t:e}function k(e,t,n){u(w(t),function(o){e.addEventListener(o,n,!1)})}function U(e,t,n){u(w(t),function(o){e.removeEventListener(o,n,!1)})}function B(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function D(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function H(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function Q(e){return Array.prototype.slice.call(e,0)}function Z(e,t,n){for(var o=[],f=[],p=0;p<e.length;){var M=t?e[p][t]:e[p];H(f,M)<0&&o.push(e[p]),f[p]=M,p++}return n&&(o=t?o.sort(function(V,z){return V[t]>z[t]}):o.sort()),o}function R(e,t){for(var n,o,f=t[0].toUpperCase()+t.slice(1),p=0;p<ce.length;){if((o=(n=ce[p])?n+f:t)in e)return o;p++}return E}var $=1;function W(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||L}var Ce="ontouchstart"in L,Le=R(L,"PointerEvent")!==E,qe=Ce&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Te="touch",ke="mouse",De=["x","y"],ge=["clientX","clientY"];function q(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(o){y(e.options.enable,[e])&&n.handler(o)},this.init()}function Be(e,t,n){var o=n.pointers.length,f=n.changedPointers.length,p=1&t&&o-f==0,M=12&t&&o-f==0;n.isFirst=!!p,n.isFinal=!!M,p&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,o=t.pointers,f=o.length;n.firstInput||(n.firstInput=Xe(t)),f>1&&!n.firstMultiple?n.firstMultiple=Xe(t):1===f&&(n.firstMultiple=!1);var p=n.firstInput,M=n.firstMultiple,F=M?M.center:p.center,V=t.center=Fe(o);t.timeStamp=I(),t.deltaTime=t.timeStamp-p.timeStamp,t.angle=Oe(F,V),t.distance=Ae(F,V),function(e,t){var n=t.center,o=e.offsetDelta||{},f=e.prevDelta||{},p=e.prevInput||{};(1===t.eventType||4===p.eventType)&&(f=e.prevDelta={x:p.deltaX||0,y:p.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=f.x+(n.x-o.x),t.deltaY=f.y+(n.y-o.y)}(n,t),t.offsetDirection=Ye(t.deltaX,t.deltaY);var z=tt(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=z.x,t.overallVelocityY=z.y,t.overallVelocity=te(z.x)>te(z.y)?z.x:z.y,t.scale=M?function(e,t){return Ae(t[0],t[1],ge)/Ae(e[0],e[1],ge)}(M.pointers,o):1,t.rotation=M?function(e,t){return Oe(t[1],t[0],ge)+Oe(e[1],e[0],ge)}(M.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var f,p,M,F,n=e.lastInterval||t,o=t.timeStamp-n.timeStamp;if(8!=t.eventType&&(o>25||n.velocity===E)){var V=t.deltaX-n.deltaX,z=t.deltaY-n.deltaY,oe=tt(o,V,z);p=oe.x,M=oe.y,f=te(oe.x)>te(oe.y)?oe.x:oe.y,F=Ye(V,z),e.lastInterval=t}else f=n.velocity,p=n.velocityX,M=n.velocityY,F=n.direction;t.velocity=f,t.velocityX=p,t.velocityY=M,t.direction=F}(n,t);var oe=e.element;B(t.srcEvent.target,oe)&&(oe=t.srcEvent.target),t.target=oe}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Xe(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:j(e.pointers[n].clientX),clientY:j(e.pointers[n].clientY)},n++;return{timeStamp:I(),pointers:t,center:Fe(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Fe(e){var t=e.length;if(1===t)return{x:j(e[0].clientX),y:j(e[0].clientY)};for(var n=0,o=0,f=0;f<t;)n+=e[f].clientX,o+=e[f].clientY,f++;return{x:j(n/t),y:j(o/t)}}function tt(e,t,n){return{x:t/e||0,y:n/e||0}}function Ye(e,t){return e===t?1:te(e)>=te(t)?e<0?2:4:t<0?8:16}function Ae(e,t,n){n||(n=De);var o=t[n[0]]-e[n[0]],f=t[n[1]]-e[n[1]];return Math.sqrt(o*o+f*f)}function Oe(e,t,n){return n||(n=De),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(W(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(W(this.element),this.evWin,this.domHandler)}};var r={mousedown:1,mousemove:2,mouseup:4},s="mousedown",l="mousemove mouseup";function d(){this.evEl=s,this.evWin=l,this.pressed=!1,q.apply(this,arguments)}g(d,q,{handler:function(t){var n=r[t.type];1&n&&0===t.button&&(this.pressed=!0),2&n&&1!==t.which&&(n=4),this.pressed&&(4&n&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:ke,srcEvent:t}))}});var A={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},K={2:Te,3:"pen",4:ke,5:"kinect"},Pe="pointerdown",ft="pointermove pointerup pointercancel";function rt(){this.evEl=Pe,this.evWin=ft,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}L.MSPointerEvent&&!L.PointerEvent&&(Pe="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),g(rt,q,{handler:function(t){var n=this.store,o=!1,f=t.type.toLowerCase().replace("ms",""),p=A[f],M=K[t.pointerType]||t.pointerType,F=M==Te,V=H(n,t.pointerId,"pointerId");1&p&&(0===t.button||F)?V<0&&(n.push(t),V=n.length-1):12&p&&(o=!0),!(V<0)&&(n[V]=t,this.callback(this.manager,p,{pointers:n,changedPointers:[t],pointerType:M,srcEvent:t}),o&&n.splice(V,1))}});var Mt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},St="touchstart",Ct="touchstart touchmove touchend touchcancel";function ut(){this.evTarget=St,this.evWin=Ct,this.started=!1,q.apply(this,arguments)}function It(e,t){var n=Q(e.touches),o=Q(e.changedTouches);return 12&t&&(n=Z(n.concat(o),"identifier",!0)),[n,o]}g(ut,q,{handler:function(t){var n=Mt[t.type];if(1===n&&(this.started=!0),this.started){var o=It.call(this,t,n);12&n&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:o[0],changedPointers:o[1],pointerType:Te,srcEvent:t})}}});var At={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Pt="touchstart touchmove touchend touchcancel";function Ve(){this.evTarget=Pt,this.targetIds={},q.apply(this,arguments)}function xt(e,t){var n=Q(e.touches),o=this.targetIds;if(3&t&&1===n.length)return o[n[0].identifier]=!0,[n,n];var f,p,M=Q(e.changedTouches),F=[],V=this.target;if(p=n.filter(function(z){return B(z.target,V)}),1===t)for(f=0;f<p.length;)o[p[f].identifier]=!0,f++;for(f=0;f<M.length;)o[M[f].identifier]&&F.push(M[f]),12&t&&delete o[M[f].identifier],f++;return F.length?[Z(p.concat(F),"identifier",!0),F]:void 0}function nt(){q.apply(this,arguments);var e=b(this.handler,this);this.touch=new Ve(this.manager,e),this.mouse=new d(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ot(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,dt.call(this,t)):12&e&&dt.call(this,t)}function dt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout(function(){var p=o.indexOf(n);p>-1&&o.splice(p,1)},2500)}}function wt(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var f=this.lastTouches[o],p=Math.abs(t-f.x),M=Math.abs(n-f.y);if(p<=25&&M<=25)return!0}return!1}g(Ve,q,{handler:function(t){var n=At[t.type],o=xt.call(this,t,n);!o||this.callback(this.manager,n,{pointers:o[0],changedPointers:o[1],pointerType:Te,srcEvent:t})}}),g(nt,q,{handler:function(t,n,o){var p=o.pointerType==ke;if(!(p&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)){if(o.pointerType==Te)Ot.call(this,n,o);else if(p&&wt.call(this,o))return;this.callback(t,n,o)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pt=R(ye.style,"touchAction"),gt=pt!==E,vt="compute",it="manipulation",Me="none",we="pan-x",Re="pan-y",He=function(){if(!gt)return!1;var e={},t=L.CSS&&L.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||L.CSS.supports("touch-action",n)}),e}();function st(e,t){this.manager=e,this.set(t)}function de(e){this.options=v({},this.defaults,e||{}),this.id=$++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Tt(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ge(e,t){var n=t.manager;return n?n.get(e):e}function ie(){de.apply(this,arguments)}function Ze(){ie.apply(this,arguments),this.pX=null,this.pY=null}function at(){ie.apply(this,arguments)}function ot(){de.apply(this,arguments),this._timer=null,this._input=null}function ct(){ie.apply(this,arguments)}function ht(){ie.apply(this,arguments)}function ze(){de.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Se(e,t){return(t=t||{}).recognizers=P(t.recognizers,Se.defaults.preset),new lt(e,t)}function lt(e,t){this.options=v({},Se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(Le?rt:qe?Ve:Ce?nt:d))(e,Be)}(this),this.touchAction=new st(this,this.options.touchAction),Et(this,!0),u(this.options.recognizers,function(n){var o=this.add(new n[0](n[1]));n[2]&&o.recognizeWith(n[2]),n[3]&&o.requireFailure(n[3])},this)}function Et(e,t){var o,n=e.element;n.style&&(u(e.options.cssProps,function(f,p){o=R(n.style,p),t?(e.oldCssProps[o]=n.style[o],n.style[o]=f):n.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={}))}st.prototype={set:function(e){e==vt&&(e=this.compute()),gt&&this.manager.element.style&&He[e]&&(this.manager.element.style[pt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(D(e,Me))return Me;var t=D(e,we),n=D(e,Re);return t&&n?Me:t||n?t?we:Re:D(e,it)?it:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,f=D(o,Me)&&!He[Me],p=D(o,Re)&&!He[Re],M=D(o,we)&&!He[we];if(f&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return M&&p||!(f||p&&6&n||M&&24&n)?void 0:this.preventSrc(t)}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},de.prototype={defaults:{},set:function(e){return v(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Ge(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===H(t,e=Ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Ge(e,this);var t=H(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function o(f){t.manager.emit(f,e)}n<8&&o(t.options.event+yt(n)),o(t.options.event),e.additionalEvent&&o(e.additionalEvent),n>=8&&o(t.options.event+yt(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=v({},e);if(!y(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},g(ie,de,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=6&t,f=this.attrTest(e);return o&&(8&n||!f)?16|t:o||f?4&n?8|t:2&t?4|t:2:32}}),g(Ze,ie,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Re),24&e&&t.push(we),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,f=e.direction,p=e.deltaX,M=e.deltaY;return f&t.direction||(6&t.direction?(f=0===p?1:p<0?2:4,n=p!=this.pX,o=Math.abs(e.deltaX)):(f=0===M?1:M<0?8:16,n=M!=this.pY,o=Math.abs(e.deltaY))),e.direction=f,n&&o>t.threshold&&f&t.direction},attrTest:function(e){return ie.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Tt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),g(at,ie,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Me]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),g(ot,de,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime>t.time;if(this._input=e,!o||!n||12&e.eventType&&!f)this.reset();else if(1&e.eventType)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=I(),this.manager.emit(this.options.event,this._input)))}}),g(ct,ie,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Me]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),g(ht,ie,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ze.prototype.getTouchAction.call(this)},attrTest:function(e){var n,t=this.options.direction;return 30&t?n=e.overallVelocity:6&t?n=e.overallVelocityX:24&t&&(n=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&te(n)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Tt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),g(ze,de,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[it]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(o&&f&&n){if(4!=e.eventType)return this.failTimeout();var p=!this.pTime||e.timeStamp-this.pTime<t.interval,M=!this.pCenter||Ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,M&&p?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Se.VERSION="2.0.7",Se.defaults={domEvents:!1,touchAction:vt,enable:!0,inputTarget:null,inputClass:null,preset:[[ct,{enable:!1}],[at,{enable:!1},["rotate"]],[ht,{direction:6}],[Ze,{direction:6},["swipe"]],[ze],[ze,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lt.prototype={set:function(e){return v(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,f=t.curRecognizer;(!f||f&&8&f.state)&&(f=t.curRecognizer=null);for(var p=0;p<o.length;)n=o[p],2===t.stopped||f&&n!=f&&!n.canRecognizeWith(f)?n.reset():n.recognize(e),!f&&14&n.state&&(f=t.curRecognizer=n),p++}},get:function(e){if(e instanceof de)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=H(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==E&&t!==E){var n=this.handlers;return u(w(e),function(o){n[o]=n[o]||[],n[o].push(t)}),this}},off:function(e,t){if(e!==E){var n=this.handlers;return u(w(e),function(o){t?n[o]&&n[o].splice(H(n[o],t),1):delete n[o]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&Et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},v(Se,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:lt,Input:q,TouchAction:st,TouchInput:Ve,MouseInput:d,PointerEventInput:rt,TouchMouseInput:nt,SingleTouchInput:ut,Recognizer:de,AttrRecognizer:ie,Tap:ze,Pan:Ze,Swipe:ht,Pinch:at,Rotate:ct,Press:ot,on:k,off:U,each:u,merge:T,extend:S,assign:v,inherit:g,bindFn:b,prefixed:R}),(void 0!==L?L:"undefined"!=typeof self?self:{}).Hammer=Se,(N=function(){return Se}.call(_e,x,_e,se))!==E&&(se.exports=N)}(window,document)},1523:(se,_e,x)=>{"use strict";x.r(_e),x.d(_e,{GameModule:()=>Oe});var N=x(6019),L=x(7286),i=x(3556),C=x(3838),E=x(2620);class ce{constructor(c){this._iterator=0,this._limit=c,this._opacityRate=1/c,this._velocity=C.M8C.randFloat(.02,.4),this._tumble=new C.FM8(C.M8C.randFloat(-.05,.05),C.M8C.randFloat(-.05,.05))}Next(){this._iterator++}get HasNext(){return this._iterator!==this._limit}get OpacityRate(){return this._opacityRate}get Velocity(){return this._velocity}get Tumble(){return this._tumble}}class ye extends C.Kj0{constructor(c,r,s,l,d){var A;super(),this.IsMatch=!1,this.IsRemoved=!1,this.initShell(),this.position.set(c,r,s),this.rotateY(l),this._geometry=new C.DvJ,this._material=null===(A=d.material)||void 0===A?void 0:A.clone(),this._mesh=new C.Kj0(this._geometry,this._material),this._mesh.translateX(.01),this.add(this._mesh),this._thetaStart=Math.abs(l),this._thetaOffset=this._thetaStart,this._matchKey=d.matchKey}set ThetaOffset(c){this._thetaOffset=this.mod(this._thetaStart-c,E.uo)}get ThetaOffset(){return this._thetaOffset}get MatchKey(){return this._matchKey}LockPiece(c){this.IsRemoved||(this._material.opacity=c?.4:1)}InitRemove(){this._pieceRemoval=new ce(C.M8C.randInt(30,60))}Remove(){this._pieceRemoval.HasNext?(this._material.opacity-=this._pieceRemoval.OpacityRate,this._mesh.translateX(this._pieceRemoval.Velocity),this._mesh.rotateX(this._pieceRemoval.Tumble.x),this._mesh.rotateZ(this._pieceRemoval.Tumble.y),this._pieceRemoval.Next()):(this.IsMatch=!1,this.IsRemoved=!0)}Dispose(){this._shellMaterial.dispose(),this._shellGeometry.dispose(),this._material.dispose(),this._geometry.dispose()}initShell(){this._shellMaterial=new C.vBJ({transparent:!0,opacity:0}),this.material=this._shellMaterial;const c=1.05;this._shellGeometry=new C.DvJ(c,c,c),this.geometry=this._shellGeometry}mod(c,r){return(c%r+r)%r}}class he{constructor(c,r,s){this._steps=[],this._iterator=0;const l=1/s;for(let d=l;d<=l*s;d+=l)this._steps.push(C.M8C.lerp(c,r,d));this._steps[s-1]=r}get HasNext(){return this._iterator!==this._steps.length}get Next(){return this._steps[this._iterator++]}}class j extends C.Tme{constructor(c,r,s){super(),this._theta=0,this.position.y=c,r.forEach(l=>{const d=new ye(l.polarCoords.x,0,l.polarCoords.z,l.rotationY,s[Math.floor(Math.random()*s.length)]);this.add(d)});for(let l=0;l<this.children.length;l++){const d=this.children[l];0===l?(d.Prev=this.children[this.children.length-1],d.Next=this.children[l+1]):l===this.children.length-1?(d.Prev=this.children[l-1],d.Next=this.children[0]):(d.Prev=this.children[l-1],d.Next=this.children[l+1])}}set Above(c){this._wheelAbove=c}get Above(){return this._wheelAbove}set Below(c){this._wheelBelow=c}get Below(){return this._wheelBelow}get EaseBetweener(){return this._betweener}Rotate(c){this.rotation.y=c}UpdateTheta(c){this._theta+=c,Math.abs(this._theta)>=E.uo&&(this._theta=0),this.Rotate(this._theta)}SnapToGrid(){const c=Math.ceil(this._theta/E.oE),r=Math.abs(this._theta-c*E.oE),s=Math.abs(this._theta-(c-1)*E.oE),l=this._theta;r<s?this._theta+=r:this._theta-=s,this._betweener=new he(l,this._theta,10);for(const d of this.children)d.ThetaOffset=this._theta}ResetIsMatch(){for(const c of this.children)c.IsMatch=!1}Dispose(){for(const c of this.children)c.Dispose()}}x(4646);let I=(()=>{class a{constructor(){this._currentMaterials=[]}get Materials(){return this._currentMaterials}InitColorsMaterials(){const r=this.getColorScheme();let s=0;this._currentMaterials.length&&(this._currentMaterials.forEach(l=>l.material.dispose()),this._currentMaterials=[]),r.forEach(l=>{this._currentMaterials.push({material:new C.Wid({color:new C.Ilk(l),transparent:!0}),materialColorHex:l,matchKey:s++})})}getColorScheme(){const r=new ColorScheme,s=["contrast","triade","tetrade","analogic"],l=s[C.M8C.randInt(0,s.length-1)];return r.from_hue(C.M8C.randInt(0,359)).scheme(l).variation("hard"),r.colors().map(A=>`#${A}`).slice(0,E.pQ)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})();var h=(()=>{return(a=h||(h={}))[a.Intro=0]="Intro",h;var a})();let m=(()=>{class a{constructor(){this._activeEffects=[],this._introBetweeners=[]}UpdateEffects(r){this._activeEffects.length&&this.animateIntro(r)}BuildIntoAnimation(r,s,l){if(this._introBetweeners=[],l<0)for(let d=r.length-1;d>-1;d--){const A=new he(r[d].position.y,s[d],E.su*(r.length-d));this._introBetweeners.push(A)}else for(let d=0;d<r.length;d++){const A=new he(r[d].position.y,s[d],E.su*(d+1));this._introBetweeners.push(A)}this._activeEffects.push(h.Intro)}animateIntro(r){this._introBetweeners.some(s=>s.HasNext)?this._introBetweeners.forEach((s,l)=>{s.HasNext&&(r[l].position.y=s.Next)}):this._activeEffects.splice(this._activeEffects.findIndex(s=>s===h.Intro),1)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})(),u=(()=>{class a{constructor(r,s){this.materialManager=r,this.effectsManager=s,this._piecePoints=[],this._verticalTargets=[],this._axle=[],this._boardLocking=!1,this._boardLocked=!1,this._pendingLevelChange=!1,this._stack=new C.Tme,this.initCoords()}get Axle(){return this._axle}get BoardLocked(){return this._boardLocked}InitShapes(r){r&&!this._scene&&(this._scene=r),this.dispose(),this.materialManager.InitColorsMaterials();const s=1===C.M8C.randInt(1,3)?10:-10;this._verticalTargets.forEach(()=>{const l=new j(s,this._piecePoints,this.materialManager.Materials);this._axle.push(l),this._stack.add(l)}),this._scene.add(this._stack),this.assignIterationValues(),this.effectsManager.BuildIntoAnimation(this._axle,this._verticalTargets,s)}UpdateShapes(){var r,s,l,d;this.effectsManager.UpdateEffects(this._axle),(null===(s=null===(r=this._activeWheel)||void 0===r?void 0:r.EaseBetweener)||void 0===s?void 0:s.HasNext)&&this._activeWheel.Rotate(null===(d=null===(l=this._activeWheel)||void 0===l?void 0:l.EaseBetweener)||void 0===d?void 0:d.Next),this._boardLocking&&(this.animateLock(this._boardLocking),this._boardLocked=!0),this._boardLocked&&this.animateRemoval()&&(this.animateLock(!1),this._boardLocked=!1,this._pendingLevelChange&&(this.InitShapes(),this._pendingLevelChange=!1))}SetActiveWheel(r){r&&(this._activeWheel=r)}SetMatches(r){this._matchPieces=r,this._matchPieces.forEach(s=>s.InitRemove())}LockBoard(r){this._boardLocking=r}SetLevelChange(){this._pendingLevelChange=!0}animateLock(r){this._axle.forEach(s=>{for(const l of s.children)l.IsMatch||l.LockPiece(r)})}animateRemoval(){const r=!this._matchPieces.some(s=>s.IsMatch);return r||this._matchPieces.forEach(s=>s.Remove()),r}assignIterationValues(){for(let r=0;r<this._axle.length;r++)0===r?(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=void 0):r===this._axle.length-1?(this._axle[r].Above=void 0,this._axle[r].Below=this._axle[r-1]):(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=this._axle[r-1])}initCoords(){for(let r=0;r<E.ZO;r+=E.Dj){const s=C.M8C.degToRad(r),l=E.i8*Math.cos(s),d=E.i8*Math.sin(s);this._piecePoints.push({polarCoords:new C.Pa4(l,0,d),rotationY:-1*s})}for(let r=-3;r<=3;r++)this._verticalTargets.push(r*E.EH)}dispose(){this._axle.length&&this._axle.forEach(r=>r.Dispose()),this._axle=[],this._stack.clear()}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(I),i.LFG(m))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})();x(9575);var v=(()=>{return(a=v||(v={})).Up="Up",a.Down="Down",a.Next="Next",a.Prev="Prev",v;var a})();let S=(()=>{class a{constructor(){this._matches=[]}FindMatches(r,s){for(const l of s)l.ResetIsMatch();return r.IsMatch=!0,this._matches=[r],this.directionalSearch(r),this._matches.length>=E.TT?this._matches:[]}directionalSearch(r){let s;for(const l in v){switch(s=void 0,l){case v.Next:s=this.matchNext(r);break;case v.Prev:s=this.matchPrev(r);break;case v.Up:s=this.matchAbove(r);break;case v.Down:s=this.matchBelow(r)}s&&(s.IsMatch=!0,this._matches.push(s),this.directionalSearch(s))}}matchNext(r){if(!r.Next.IsMatch&&!r.Next.IsRemoved&&r.Next.MatchKey===r.MatchKey)return r.Next}matchPrev(r){if(!r.Prev.IsMatch&&!r.Prev.IsRemoved&&r.Prev.MatchKey===r.MatchKey)return r.Prev}matchAbove(r){const s=r.parent;return s.Above?s.Above.children.find(d=>!d.IsMatch&&!d.IsRemoved&&d.MatchKey===r.MatchKey&&Math.abs(d.ThetaOffset-r.ThetaOffset)<E.Ng):void 0}matchBelow(r){const s=r.parent;return s.Below?s.Below.children.find(d=>!d.IsMatch&&!d.IsRemoved&&d.MatchKey===r.MatchKey&&Math.abs(d.ThetaOffset-r.ThetaOffset)<E.Ng):void 0}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})(),T=(()=>{class a{constructor(){this._level=1,this._levelPieceCount=0,this._score=0,this._timestamp=Date.now()}get Level(){return this._level}get Score(){return this._score}get CurrentLevelPieceCount(){return this._levelPieceCount}get CurrentLevelTarget(){return this._level*E.Ic}UpdateScore(r){Date.now(),this._timestamp=Date.now();let l=0;l=r*this._level,this._score+=l}UpdateLevel(r){this._levelPieceCount+=r;const s=this._levelPieceCount>=this.CurrentLevelTarget;return s&&(this._level++,this._levelPieceCount=0),s}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})(),g=(()=>{class a{constructor(r,s,l){this.objectManager=r,this.gameEngine=s,this.scoringManager=l,this._x=0,this._panning=!1,this._rayCaster=new C.iMs,this._pointerPos=new C.FM8}InitInteractions(r){this._hammer=new Hammer(r),this._hammer.on("panstart",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y);l&&!(null==l?void 0:l.IsRemoved)&&(this._activeWheel=l.parent,this.objectManager.SetActiveWheel(this._activeWheel))}}),this._hammer.on("pan",s=>{var l;this.objectManager.BoardLocked||(this._panning?this.deviceCordRotation(s.center.x):this._panning=!0,s.isFinal&&(this._panning=!1,null===(l=this._activeWheel)||void 0===l||l.SnapToGrid(),this._activeWheel=void 0),this._x=s.center.x)}),this._hammer.on("press",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y);if(l&&!(null==l?void 0:l.IsRemoved)){const d=this.gameEngine.FindMatches(l,this.objectManager.Axle);d.length&&(this.objectManager.LockBoard(!0),this.objectManager.SetMatches(d),this.scoringManager.UpdateScore(d.length),this.scoringManager.UpdateLevel(d.length)&&this.objectManager.SetLevelChange())}}})}UpdateSize(r,s){this._canvasRect=r,this._camera=s}deviceCordRotation(r){this._activeWheel&&this._activeWheel.UpdateTheta(C.M8C.degToRad(r-this._x)*(E.AG/this._canvasRect.width)*-1)}getPickedGamePiece(r,s){const d=this._canvasRect.bottom-this._canvasRect.top;this._pointerPos.x=(r-this._canvasRect.left)/(this._canvasRect.right-this._canvasRect.left)*2-1,this._pointerPos.y=-(s-this._canvasRect.top)/d*2+1,this._rayCaster.setFromCamera(this._pointerPos,this._camera);const A=this._rayCaster.intersectObjects(this.objectManager.Axle);if(A.length){const K=A[0].object;return K.parent instanceof ye?K.parent:K}}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(u),i.LFG(S),i.LFG(T))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})(),b=(()=>{class a{constructor(r,s){this.objectManager=r,this.interactionManager=s,this._width=0,this._height=0}get scene(){return this._scene}InitScene(){if(!this._scene){this._scene=new C.xsS;const r=new C.Ox3(16777215,1);r.position.set(0,0,5),r.target.position.set(0,0,0),this._scene.add(r),this._scene.add(r.target),this._scene.background=new C.Ilk(252645135),this.objectManager.InitShapes(this._scene)}}UpdateSize(r){this._width=r.width,this._height=r.height;const s=this._width/this._height;this._camera?(this._camera.aspect=s,this._camera.updateProjectionMatrix()):(this._camera=new C.cPb(45,s,1,25),this._camera.position.set(0,0,5)),this._renderer&&this._renderer.setSize(this._width,this._height,!1),this.interactionManager.UpdateSize(r,this._camera)}InitRenderer(r){r&&(this._renderer=new C.CP7({canvas:r,antialias:!0})),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}RenderScene(){var r;null===(r=this._renderer)||void 0===r||r.render(this._scene,this._camera)}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(u),i.LFG(g))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})();const y=["mainCanvas"];let P=(()=>{class a{constructor(r,s){this.sceneManager=r,this.interactionManager=s,this._initialRectCalculated=!1}onResize(){var r;this.sceneManager.UpdateSize(null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect())}ngAfterContentChecked(){var r;if(!this._initialRectCalculated){const s=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect();s&&(this.sceneManager.UpdateSize(s),this._initialRectCalculated=!0)}}ngAfterViewInit(){var r;const s=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement;s&&(this.sceneManager.InitRenderer(s),this.interactionManager.InitInteractions(s))}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(b),i.Y36(g))},a.\u0275cmp=i.Xpm({type:a,selectors:[["wgl-canvas"]],viewQuery:function(r,s){if(1&r&&i.Gf(y,5),2&r){let l;i.iGM(l=i.CRH())&&(s.canvas=l.first)}},hostBindings:function(r,s){1&r&&i.NdJ("resize",function(){return s.onResize()},!1,i.Jf7)},decls:2,vars:0,consts:[[1,"main-canvas"],["mainCanvas",""]],template:function(r,s){1&r&&i._UZ(0,"canvas",0,1)},styles:[".main-canvas[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"]}),a})();var k=x(2604),U=x(348),B=x(543),D=x(7908),w=x(9985),H=x(8305),Q=x(5724),Z=x(1537),R=x(5044),$=x(2937);const X=["addListener","removeListener"],W=["addEventListener","removeEventListener"],re=["on","off"];function Ce(a,c,r,s){if((0,R.m)(r)&&(s=r,r=void 0),s)return Ce(a,c,r).pipe((0,$.Z)(s));const[l,d]=function(a){return(0,R.m)(a.addEventListener)&&(0,R.m)(a.removeEventListener)}(a)?W.map(A=>K=>a[A](c,K,r)):function(a){return(0,R.m)(a.addListener)&&(0,R.m)(a.removeListener)}(a)?X.map(Le(a,c)):function(a){return(0,R.m)(a.on)&&(0,R.m)(a.off)}(a)?re.map(Le(a,c)):[];if(!l&&(0,Z.z)(a))return(0,Q.z)(A=>Ce(A,c,r))((0,w.Xf)(a));if(!l)throw new TypeError("Invalid event target");return new H.y(A=>{const K=(...Pe)=>A.next(1<Pe.length?Pe:Pe[0]);return l(K),()=>d(K)})}function Le(a,c){return r=>s=>a[r](c,s)}var ke=x(461);const Qe=["primaryValueBar"],$e=(0,k.pj)(class{constructor(a){this._elementRef=a}},"primary"),Y=new i.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const a=(0,i.f3M)(N.K0),c=a?a.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}}),O=new i.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let G=0,Ie=(()=>{class a extends $e{constructor(r,s,l,d,A){super(r),this._ngZone=s,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.vpe,this._animationEndSubscription=D.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+G++;const K=d?d.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${K}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,A&&(A.color&&(this.color=this.defaultColor=A.color),this.mode=A.mode||this.mode)}get value(){return this._value}set value(r){this._value=pe((0,U.su)(r)||0)}get bufferValue(){return this._bufferValue}set bufferValue(r){this._bufferValue=pe(r||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const r=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ce(r,"transitionend").pipe((0,ke.h)(s=>s.target===r)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(B.Qb,8),i.Y36(Y,8),i.Y36(O,8))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-progress-bar"]],viewQuery:function(r,s){if(1&r&&i.Gf(Qe,5),2&r){let l;i.iGM(l=i.CRH())&&(s._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(r,s){2&r&&(i.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),i.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(r,s){1&r&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1),i.TgZ(2,"defs"),i.TgZ(3,"pattern",2),i._UZ(4,"circle",3),i.qZA(),i.qZA(),i._UZ(5,"rect",4),i.qZA(),i.kcU(),i._UZ(6,"div",5),i._UZ(7,"div",6,7),i._UZ(9,"div",8),i.qZA()),2&r&&(i.xp6(3),i.Q6J("id",s.progressbarId),i.xp6(2),i.uIk("fill",s._rectangleFillValue),i.xp6(1),i.Q6J("ngStyle",s._bufferTransform()),i.xp6(1),i.Q6J("ngStyle",s._primaryTransform()))},directives:[N.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),a})();function pe(a,c=0,r=100){return Math.max(c,Math.min(r,a))}let be=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[N.ez,k.BQ],k.BQ]}),a})();var fe=x(928);function Ee(a,c){if(1&a&&(i.O4$(),i._UZ(0,"circle",3)),2&a){const r=i.oxw();i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}function J(a,c){if(1&a&&(i.O4$(),i._UZ(0,"circle",3)),2&a){const r=i.oxw();i.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}function ue(a,c){if(1&a&&(i.O4$(),i._UZ(0,"circle",3)),2&a){const r=i.oxw();i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}function Ue(a,c){if(1&a&&(i.O4$(),i._UZ(0,"circle",3)),2&a){const r=i.oxw();i.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}const Je=(0,k.pj)(class{constructor(a){this._elementRef=a}},"primary"),Be=new i.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class ne extends Je{constructor(c,r,s,l,d){super(c),this._document=s,this._diameter=100,this._value=0,this.mode="determinate";const A=ne._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),A.has(s.head)||A.set(s.head,new Set([100])),this._noopAnimations="NoopAnimations"===l&&!!d&&!d._forceAnimations,d&&(d.diameter&&(this.diameter=d.diameter),d.strokeWidth&&(this.strokeWidth=d.strokeWidth))}get diameter(){return this._diameter}set diameter(c){this._diameter=(0,U.su)(c),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(c){this._strokeWidth=(0,U.su)(c)}get value(){return"determinate"===this.mode?this._value:0}set value(c){this._value=Math.max(0,Math.min(100,(0,U.su)(c)))}ngOnInit(){const c=this._elementRef.nativeElement;this._styleRoot=(0,fe.kV)(c)||this._document.head,this._attachStyleNode(),c.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const c=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${c} ${c}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const c=this._styleRoot,r=this._diameter,s=ne._diameters;let l=s.get(c);if(!l||!l.has(r)){const d=this._document.createElement("style");d.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),d.textContent=this._getAnimationText(),c.appendChild(d),l||(l=new Set,s.set(c,l)),l.add(r)}}_getAnimationText(){const c=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*c).replace(/END_VALUE/g,""+.2*c).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ne._diameters=new WeakMap,ne.\u0275fac=function(c){return new(c||ne)(i.Y36(i.SBq),i.Y36(fe.t4),i.Y36(N.K0,8),i.Y36(B.Qb,8),i.Y36(Be))},ne.\u0275cmp=i.Xpm({type:ne,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(c,r){2&c&&(i.uIk("aria-valuemin","determinate"===r.mode?0:null)("aria-valuemax","determinate"===r.mode?100:null)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),i.Udp("width",r.diameter,"px")("height",r.diameter,"px"),i.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[i.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(c,r){1&c&&(i.O4$(),i.TgZ(0,"svg",0),i.YNc(1,Ee,1,9,"circle",1),i.YNc(2,J,1,7,"circle",2),i.qZA()),2&c&&(i.Udp("width",r.diameter,"px")("height",r.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===r.mode),i.uIk("viewBox",r._getViewBox()),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},directives:[N.RF,N.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Xe=(()=>{class a extends ne{constructor(r,s,l,d,A){super(r,s,l,d,A),this.mode="indeterminate"}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.SBq),i.Y36(fe.t4),i.Y36(N.K0,8),i.Y36(B.Qb,8),i.Y36(Be))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(r,s){2&r&&(i.Udp("width",s.diameter,"px")("height",s.diameter,"px"),i.ekj("_mat-animation-noopable",s._noopAnimations))},inputs:{color:"color"},features:[i.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,s){1&r&&(i.O4$(),i.TgZ(0,"svg",0),i.YNc(1,ue,1,9,"circle",1),i.YNc(2,Ue,1,7,"circle",2),i.qZA()),2&r&&(i.Udp("width",s.diameter,"px")("height",s.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===s.mode),i.uIk("viewBox",s._getViewBox()),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},directives:[N.RF,N.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),a})(),Fe=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[k.BQ,N.ez],k.BQ]}),a})();const Ye=[{path:"",component:(()=>{class a{constructor(r,s,l,d){this.ngZone=r,this.sceneManager=s,this.objectManager=l,this.scoringManager=d}ngOnInit(){this.sceneManager.InitScene(),this.animate()}animate(){this.ngZone.runOutsideAngular(()=>{this.objectManager.UpdateShapes(),this.sceneManager.RenderScene(),requestAnimationFrame(()=>{this.animate()})})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.R0b),i.Y36(b),i.Y36(u),i.Y36(T))},a.\u0275cmp=i.Xpm({type:a,selectors:[["wgl-game-container"]],decls:14,vars:7,consts:[[1,"game-container"],[1,"game-scoring"],[1,"game-canvas"],[1,"level-progress"],[1,"progress-horizontal",3,"value"],[1,"progress-spinner"],["mode","determinate",3,"value"]],template:function(r,s){1&r&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.TgZ(4,"p"),i._uU(5),i.qZA(),i.qZA(),i._UZ(6,"wgl-canvas",2),i.TgZ(7,"div",3),i._UZ(8,"mat-progress-bar",4),i.TgZ(9,"div",5),i._UZ(10,"mat-spinner",6),i.TgZ(11,"div"),i._uU(12),i.ALo(13,"percent"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&r&&(i.xp6(3),i.hij("Score: ",s.scoringManager.Score,""),i.xp6(2),i.hij("Level: ",s.scoringManager.Level,""),i.xp6(3),i.s9C("value",s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget*100),i.xp6(2),i.s9C("value",s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget*100),i.xp6(2),i.hij(" ",i.lcZ(13,5,s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget)," Complete "))},directives:[P,Ie,Xe],pipes:[N.Zx],styles:[".game-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:none}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]{flex-direction:row}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{text-align:right;flex-direction:column;justify-content:start;flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:45em;flex:unset}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 4/5){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:35em}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 5/3){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:30%}}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:block}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-horizontal[_ngcontent-%COMP%]{display:none}}"]}),a})()}];let Ae=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[N.ez,L.Bz.forChild(Ye)]]}),a})(),Oe=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[b,I,u,g,S,T,m],imports:[[N.ez,Ae,be,Fe]]}),a})()}}]);