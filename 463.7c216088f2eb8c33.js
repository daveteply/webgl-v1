var Pn=Object.defineProperty,Dn=Object.defineProperties,An=Object.getOwnPropertyDescriptors,Di=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable,Ai=(Y,U,S)=>U in Y?Pn(Y,U,{enumerable:!0,configurable:!0,writable:!0,value:S}):Y[U]=S,ne=(Y,U)=>{for(var S in U||(U={}))In.call(U,S)&&Ai(Y,S,U[S]);if(Di)for(var S of Di(U))Ln.call(U,S)&&Ai(Y,S,U[S]);return Y},Ii=(Y,U)=>Dn(Y,An(U));(self.webpackChunkwebgl_v1=self.webpackChunkwebgl_v1||[]).push([[463],{4646:function(Y,U,S){var j;Y=S.nmd(Y),function(){var E,D=[].slice;E=function(){var r,z,It,Ct,st;for(st=Array.isArray||function(u){return"[object Array]"==={}.toString.call(u)},A.SCHEMES={},z=0,It=(Ct="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;z<It;z++)A.SCHEMES[Ct[z]]=!0;function A(){var u,g;for(u=[],g=1;g<=4;g++)u.push(new A.mutablecolor(60));this.col=u,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return A.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},A.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},A.prototype.colors=function(){var u,g,m,b,w,k,M,y,T,x;if(T=1,g=this.col[0].get_hue(),(u={mono:function(){},contrast:(x=this,function(){return T=2,x.col[1].set_hue(g),x.col[1].rotate(180)}),triade:function(x){return function(){var P;return T=3,P=60*x._distance,x.col[1].set_hue(g),x.col[1].rotate(180-P),x.col[2].set_hue(g),x.col[2].rotate(180+P)}}(this),tetrade:function(x){return function(){var P;return T=4,P=90*x._distance,x.col[1].set_hue(g),x.col[1].rotate(180),x.col[2].set_hue(g),x.col[2].rotate(180+P),x.col[3].set_hue(g),x.col[3].rotate(P)}}(this),analogic:function(x){return function(){var P;return T=x._add_complement?4:3,P=60*x._distance,x.col[1].set_hue(g),x.col[1].rotate(P),x.col[2].set_hue(g),x.col[2].rotate(360-P),x.col[3].set_hue(g),x.col[3].rotate(180)}}(this)}).monochromatic=u.mono,null==u[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(u[this._scheme](),M=[],m=w=0,y=T-1;0<=y?w<=y:w>=y;m=0<=y?++w:--w)for(b=k=0;k<=3;b=++k)M[4*m+b]=this.col[m].get_hex(this._web_safe,b);return M},A.prototype.colorset=function(){var u,g;for(u=r(this.colors()),g=[];u.length>0;)g.push(u.splice(0,4));return g},A.prototype.from_hue=function(u){if(null==u)throw"from_hue needs an argument";return this.col[0].set_hue(u),this},A.prototype.rgb2ryb=function(){var u,g,m,b,w,k,M,y,T;return null!=(M=1<=arguments.length?D.call(arguments,0):[])[0]&&st(M[0])&&(M=M[0]),k=M[0],g=M[1],u=M[2],k-=y=Math.min(k,g,u),g-=y,u-=y,b=Math.max(k,g,u),k-=T=Math.min(k,g),g-=T,u>0&&g>0&&(u/=2,g/=2),T+=g,u+=g,(w=Math.max(k,T,u))>0&&(k*=m=b/w,T*=m,u*=m),k+=y,T+=y,u+=y,[Math.floor(k),Math.floor(T),Math.floor(u)]},A.prototype.rgb2hsv=function(){var u,g,m,b,w,k,M,y,x;return null!=(y=1<=arguments.length?D.call(arguments,0):[])[0]&&st(y[0])&&(y=y[0]),M=y[0],m=y[1],u=y[2],M/=255,m/=255,u/=255,k=Math.min.apply(Math,[M,m,u]),x=w=Math.max.apply(Math,[M,m,u]),(g=w-k)>0?(b=M===w?(m-u)/g:m===w?2+(u-M)/g:4+(M-m)/g,b*=60,[b%=360,g/w,x]):[0,0,x]},A.prototype.rgbToHsv=function(){var u,g,m,b,w,k,M,y,T,x;if(null!=(y=1<=arguments.length?D.call(arguments,0):[])[0]&&st(y[0])&&(y=y[0]),M=y[0],m=y[1],u=y[2],M/=255,m/=255,u/=255,b=void 0,T=void 0,x=w=Math.max(M,m,u),g=w-(k=Math.min(M,m,u)),T=0===w?0:g/w,w===k)b=0;else{switch(w){case M:b=(m-u)/g+(m<u?6:0);break;case m:b=(u-M)/g+2;break;case u:b=(M-m)/g+4}b/=6}return[b,T,x]},A.prototype.from_hex=function(u){var y,G,J,H,F,tt;if(null==u)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(u))throw"from_hex("+u+") - argument must be in the form of RRGGBB";return H=/(..)(..)(..)/.exec(u).slice(1,4),G=function(){var lt,W,K;for(K=[],W=0,lt=H.length;W<lt;W++)K.push(parseInt(H[W],16));return K}(),J=this.rgb2ryb([G[0],G[1],G[2]]),F=(y=this.rgbToHsv(J[0],J[1],J[2]))[1],tt=y[2],this.from_hue(360*y[0]),this._set_variant_preset([F,tt,F,.7*tt,.25*F,1,.5*F,1]),this},A.prototype.add_complement=function(u){if(null==u)throw"add_complement needs an argument";return this._add_complement=u,this},A.prototype.web_safe=function(u){if(null==u)throw"web_safe needs an argument";return this._web_safe=u,this},A.prototype.distance=function(u){if(null==u)throw"distance needs an argument";if(u<0)throw"distance("+u+") - argument must be >= 0";if(u>1)throw"distance("+u+") - argument must be <= 1";return this._distance=u,this},A.prototype.scheme=function(u){if(null==u)return this._scheme;if(null==A.SCHEMES[u])throw"'"+u+"' isn't a valid scheme name";return this._scheme=u,this},A.prototype.variation=function(u){if(null==u)throw"variation needs an argument";if(null==A.PRESETS[u])throw"'$v' isn't a valid variation name";return this._set_variant_preset(A.PRESETS[u]),this},A.prototype._set_variant_preset=function(u){var g,m,b;for(b=[],g=m=0;m<=3;g=++m)b.push(this.col[g].set_variant_preset(u));return b},r=function(u){var g,m,b;if(null==u||"object"!=typeof u)return u;if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp)return g="",null!=u.global&&(g+="g"),null!=u.ignoreCase&&(g+="i"),null!=u.multiline&&(g+="m"),null!=u.sticky&&(g+="y"),new RegExp(u.source,g);for(m in b=new u.constructor,u)b[m]=r(u[m]);return b},A.mutablecolor=function(){function u(g){if(null==g)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(g),this.set_variant_preset(A.PRESETS.default)}return u.prototype.hue=0,u.prototype.saturation=[],u.prototype.value=[],u.prototype.base_red=0,u.prototype.base_green=0,u.prototype.base_saturation=0,u.prototype.base_value=0,u.prototype.get_hue=function(){return this.hue},u.prototype.set_hue=function(g){var m,b,w,k,M,y,T,x,P,X;for(b in m=function(G,J,H){return G+Math.round((J-G)*H)},this.hue=Math.round(g%360),X=(M=this.hue%15+(this.hue-Math.floor(this.hue)))/15,T=(15+(y=this.hue-Math.floor(M)))%360,360===y&&(y=0),360===T&&(T=0),w=A.COLOR_WHEEL[y],k=A.COLOR_WHEEL[T],x={red:0,green:1,blue:2,value:3})this["base_"+b]=m(w[P=x[b]],k[P],X);return this.base_saturation=m(100,100,X)/100,this.base_value/=100},u.prototype.rotate=function(g){return this.set_hue((this.hue+g)%360)},u.prototype.get_saturation=function(g){var m,b;return(m=(b=this.saturation[g])<0?-b*this.base_saturation:b)>1&&(m=1),m<0&&(m=0),m},u.prototype.get_value=function(g){var m,b;return(m=(b=this.value[g])<0?-b*this.base_value:b)>1&&(m=1),m<0&&(m=0),m},u.prototype.set_variant=function(g,m,b){return this.saturation[g]=m,this.value[g]=b},u.prototype.set_variant_preset=function(g){var m,b,w;for(w=[],m=b=0;b<=3;m=++b)w.push(this.set_variant(m,g[2*m],g[2*m+1]));return w},u.prototype.get_hex=function(g,m){var w,k,y,T,x,P,X,J,H,F,tt,lt,W,K;for(X=Math.max.apply(Math,function(){var ht,q,et,ut;for(ut=[],q=0,ht=(et=["red","green","blue"]).length;q<ht;q++)ut.push(this["base_"+(w=et[q])]);return ut}.call(this)),Math.min.apply(Math,function(){var ht,q,et,ut;for(ut=[],q=0,ht=(et=["red","green","blue"]).length;q<ht;q++)ut.push(this["base_"+(w=et[q])]);return ut}.call(this)),K=255*(m<0?this.base_value:this.get_value(m)),lt=m<0?this.base_saturation:this.get_saturation(m),y=X>0?K/X:0,F=[],P=0,T=(H=["red","green","blue"]).length;P<T;P++)w=H[P],tt=Math.min.apply(Math,[255,Math.round(K-(K-this["base_"+w]*y)*lt)]),F.push(tt);for(g&&(F=function(){var ht,q,et;for(et=[],q=0,ht=F.length;q<ht;q++)et.push(51*Math.round(F[q]/51));return et}()),k="",J=0,x=F.length;J<x;J++)(W=F[J].toString(16)).length<2&&(W="0"+W),k+=W;return k},u}(),A}(),null!==Y&&null!=Y.exports?Y.exports=E:void 0!==(j=function(){return E}.apply(U,[]))&&(Y.exports=j)}.call(this)},9575:(Y,U,S)=>{var R;!function(j,E,D,r){"use strict";var w,z=["","webkit","Moz","MS","ms","o"],It=E.createElement("div"),st=Math.round,ct=Math.abs,A=Date.now;function u(o,a,c){return setTimeout(T(o,c),a)}function g(o,a,c){return!!Array.isArray(o)&&(m(o,c[a],c),!0)}function m(o,a,c){var d;if(o)if(o.forEach)o.forEach(a,c);else if(o.length!==r)for(d=0;d<o.length;)a.call(c,o[d],d,o),d++;else for(d in o)o.hasOwnProperty(d)&&a.call(c,o[d],d,o)}function b(o,a,c){var d="DEPRECATED METHOD: "+a+"\n"+c+" AT \n";return function(){var f=new Error("get-stack-trace"),_=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",O=j.console&&(j.console.warn||j.console.log);return O&&O.call(j.console,d,_),o.apply(this,arguments)}}w="function"!=typeof Object.assign?function(a){if(a===r||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var f=arguments[d];if(f!==r&&null!==f)for(var _ in f)f.hasOwnProperty(_)&&(c[_]=f[_])}return c}:Object.assign;var k=b(function(a,c,d){for(var f=Object.keys(c),_=0;_<f.length;)(!d||d&&a[f[_]]===r)&&(a[f[_]]=c[f[_]]),_++;return a},"extend","Use `assign`."),M=b(function(a,c){return k(a,c,!0)},"merge","Use `assign`.");function y(o,a,c){var f,d=a.prototype;(f=o.prototype=Object.create(d)).constructor=o,f._super=d,c&&w(f,c)}function T(o,a){return function(){return o.apply(a,arguments)}}function x(o,a){return"function"==typeof o?o.apply(a&&a[0]||r,a):o}function P(o,a){return o===r?a:o}function X(o,a,c){m(F(a),function(d){o.addEventListener(d,c,!1)})}function G(o,a,c){m(F(a),function(d){o.removeEventListener(d,c,!1)})}function J(o,a){for(;o;){if(o==a)return!0;o=o.parentNode}return!1}function H(o,a){return o.indexOf(a)>-1}function F(o){return o.trim().split(/\s+/g)}function tt(o,a,c){if(o.indexOf&&!c)return o.indexOf(a);for(var d=0;d<o.length;){if(c&&o[d][c]==a||!c&&o[d]===a)return d;d++}return-1}function lt(o){return Array.prototype.slice.call(o,0)}function W(o,a,c){for(var d=[],f=[],_=0;_<o.length;){var O=a?o[_][a]:o[_];tt(f,O)<0&&d.push(o[_]),f[_]=O,_++}return c&&(d=a?d.sort(function(Z,Q){return Z[a]>Q[a]}):d.sort()),d}function K(o,a){for(var c,d,f=a[0].toUpperCase()+a.slice(1),_=0;_<z.length;){if((d=(c=z[_])?c+f:a)in o)return d;_++}return r}var ht=1;function et(o){var a=o.ownerDocument||o;return a.defaultView||a.parentWindow||j}var jt="ontouchstart"in j,Xt=K(j,"PointerEvent")!==r,ye=jt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Lt="touch",re="mouse",oe=["x","y"],ft=["clientX","clientY"];function I(o,a){var c=this;this.manager=o,this.callback=a,this.element=o.element,this.target=o.options.inputTarget,this.domHandler=function(d){x(o.options.enable,[o])&&c.handler(d)},this.init()}function ii(o,a,c){var d=c.pointers.length,f=c.changedPointers.length,_=1&a&&d-f==0,O=12&a&&d-f==0;c.isFirst=!!_,c.isFinal=!!O,_&&(o.session={}),c.eventType=a,function(o,a){var c=o.session,d=a.pointers,f=d.length;c.firstInput||(c.firstInput=ze(a)),f>1&&!c.firstMultiple?c.firstMultiple=ze(a):1===f&&(c.firstMultiple=!1);var _=c.firstInput,O=c.firstMultiple,L=O?O.center:_.center,Z=a.center=He(d);a.timeStamp=A(),a.deltaTime=a.timeStamp-_.timeStamp,a.angle=le(L,Z),a.distance=ae(L,Z),function(o,a){var c=a.center,d=o.offsetDelta||{},f=o.prevDelta||{},_=o.prevInput||{};(1===a.eventType||4===_.eventType)&&(f=o.prevDelta={x:_.deltaX||0,y:_.deltaY||0},d=o.offsetDelta={x:c.x,y:c.y}),a.deltaX=f.x+(c.x-d.x),a.deltaY=f.y+(c.y-d.y)}(c,a),a.offsetDirection=we(a.deltaX,a.deltaY);var Q=Ce(a.deltaTime,a.deltaX,a.deltaY);a.overallVelocityX=Q.x,a.overallVelocityY=Q.y,a.overallVelocity=ct(Q.x)>ct(Q.y)?Q.x:Q.y,a.scale=O?function(o,a){return ae(a[0],a[1],ft)/ae(o[0],o[1],ft)}(O.pointers,d):1,a.rotation=O?function(o,a){return le(a[1],a[0],ft)+le(o[1],o[0],ft)}(O.pointers,d):0,a.maxPointers=c.prevInput?a.pointers.length>c.prevInput.maxPointers?a.pointers.length:c.prevInput.maxPointers:a.pointers.length,function(o,a){var f,_,O,L,c=o.lastInterval||a,d=a.timeStamp-c.timeStamp;if(8!=a.eventType&&(d>25||c.velocity===r)){var Z=a.deltaX-c.deltaX,Q=a.deltaY-c.deltaY,at=Ce(d,Z,Q);_=at.x,O=at.y,f=ct(at.x)>ct(at.y)?at.x:at.y,L=we(Z,Q),o.lastInterval=a}else f=c.velocity,_=c.velocityX,O=c.velocityY,L=c.direction;a.velocity=f,a.velocityX=_,a.velocityY=O,a.direction=L}(c,a);var at=o.element;J(a.srcEvent.target,at)&&(at=a.srcEvent.target),a.target=at}(o,c),o.emit("hammer.input",c),o.recognize(c),o.session.prevInput=c}function ze(o){for(var a=[],c=0;c<o.pointers.length;)a[c]={clientX:st(o.pointers[c].clientX),clientY:st(o.pointers[c].clientY)},c++;return{timeStamp:A(),pointers:a,center:He(a),deltaX:o.deltaX,deltaY:o.deltaY}}function He(o){var a=o.length;if(1===a)return{x:st(o[0].clientX),y:st(o[0].clientY)};for(var c=0,d=0,f=0;f<a;)c+=o[f].clientX,d+=o[f].clientY,f++;return{x:st(c/a),y:st(d/a)}}function Ce(o,a,c){return{x:a/o||0,y:c/o||0}}function we(o,a){return o===a?1:ct(o)>=ct(a)?o<0?2:4:a<0?8:16}function ae(o,a,c){c||(c=oe);var d=a[c[0]]-o[c[0]],f=a[c[1]]-o[c[1]];return Math.sqrt(d*d+f*f)}function le(o,a,c){return c||(c=oe),180*Math.atan2(a[c[1]]-o[c[1]],a[c[0]]-o[c[0]])/Math.PI}I.prototype={handler:function(){},init:function(){this.evEl&&X(this.element,this.evEl,this.domHandler),this.evTarget&&X(this.target,this.evTarget,this.domHandler),this.evWin&&X(et(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&G(this.element,this.evEl,this.domHandler),this.evTarget&&G(this.target,this.evTarget,this.domHandler),this.evWin&&G(et(this.element),this.evWin,this.domHandler)}};var ai={mousedown:1,mousemove:2,mouseup:4},li="mousedown",ci="mousemove mouseup";function ce(){this.evEl=li,this.evWin=ci,this.pressed=!1,I.apply(this,arguments)}y(ce,I,{handler:function(a){var c=ai[a.type];1&c&&0===a.button&&(this.pressed=!0),2&c&&1!==a.which&&(c=4),this.pressed&&(4&c&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[a],changedPointers:[a],pointerType:re,srcEvent:a}))}});var xe={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ee={2:Lt,3:"pen",4:re,5:"kinect"},Ye="pointerdown",Ue="pointermove pointerup pointercancel";function Me(){this.evEl=Ye,this.evWin=Ue,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}j.MSPointerEvent&&!j.PointerEvent&&(Ye="MSPointerDown",Ue="MSPointerMove MSPointerUp MSPointerCancel"),y(Me,I,{handler:function(a){var c=this.store,d=!1,f=a.type.toLowerCase().replace("ms",""),_=xe[f],O=Ee[a.pointerType]||a.pointerType,L=O==Lt,Z=tt(c,a.pointerId,"pointerId");1&_&&(0===a.button||L)?Z<0&&(c.push(a),Z=c.length-1):12&_&&(d=!0),!(Z<0)&&(c[Z]=a,this.callback(this.manager,_,{pointers:c,changedPointers:[a],pointerType:O,srcEvent:a}),d&&c.splice(Z,1))}});var hi={touchstart:1,touchmove:2,touchend:4,touchcancel:8},di="touchstart",ui="touchstart touchmove touchend touchcancel";function Wt(){this.evTarget=di,this.evWin=ui,this.started=!1,I.apply(this,arguments)}function he(o,a){var c=lt(o.touches),d=lt(o.changedTouches);return 12&a&&(c=W(c.concat(d),"identifier",!0)),[c,d]}y(Wt,I,{handler:function(a){var c=hi[a.type];if(1===c&&(this.started=!0),this.started){var d=he.call(this,a,c);12&c&&d[0].length-d[1].length==0&&(this.started=!1),this.callback(this.manager,c,{pointers:d[0],changedPointers:d[1],pointerType:Lt,srcEvent:a})}}});var Te={touchstart:1,touchmove:2,touchend:4,touchcancel:8},je="touchstart touchmove touchend touchcancel";function Pt(){this.evTarget=je,this.targetIds={},I.apply(this,arguments)}function fi(o,a){var c=lt(o.touches),d=this.targetIds;if(3&a&&1===c.length)return d[c[0].identifier]=!0,[c,c];var f,_,O=lt(o.changedTouches),L=[],Z=this.target;if(_=c.filter(function(Q){return J(Q.target,Z)}),1===a)for(f=0;f<_.length;)d[_[f].identifier]=!0,f++;for(f=0;f<O.length;)d[O[f].identifier]&&L.push(O[f]),12&a&&delete d[O[f].identifier],f++;return L.length?[W(_.concat(L),"identifier",!0),L]:void 0}function ke(){I.apply(this,arguments);var o=T(this.handler,this);this.touch=new Pt(this.manager,o),this.mouse=new ce(this.manager,o),this.primaryTouch=null,this.lastTouches=[]}function pi(o,a){1&o?(this.primaryTouch=a.changedPointers[0].identifier,de.call(this,a)):12&o&&de.call(this,a)}function de(o){var a=o.changedPointers[0];if(a.identifier===this.primaryTouch){var c={x:a.clientX,y:a.clientY};this.lastTouches.push(c);var d=this.lastTouches;setTimeout(function(){var _=d.indexOf(c);_>-1&&d.splice(_,1)},2500)}}function gi(o){for(var a=o.srcEvent.clientX,c=o.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var f=this.lastTouches[d],_=Math.abs(a-f.x),O=Math.abs(c-f.y);if(_<=25&&O<=25)return!0}return!1}y(Pt,I,{handler:function(a){var c=Te[a.type],d=fi.call(this,a,c);!d||this.callback(this.manager,c,{pointers:d[0],changedPointers:d[1],pointerType:Lt,srcEvent:a})}}),y(ke,I,{handler:function(a,c,d){var _=d.pointerType==re;if(!(_&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(d.pointerType==Lt)pi.call(this,c,d);else if(_&&gi.call(this,d))return;this.callback(a,c,d)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ue=K(It.style,"touchAction"),We=ue!==r,Oe="compute",fe="manipulation",_t="none",Vt="pan-x",Zt="pan-y",qt=function(){if(!We)return!1;var o={},a=j.CSS&&j.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(c){o[c]=!a||j.CSS.supports("touch-action",c)}),o}();function Kt(o,a){this.manager=o,this.set(a)}function yt(o){this.options=w({},this.defaults,o||{}),this.id=ht++,this.manager=null,this.options.enable=P(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ge(o){return 16&o?"cancel":8&o?"end":4&o?"move":2&o?"start":""}function Pe(o){return 16==o?"down":8==o?"up":2==o?"left":4==o?"right":""}function Qt(o,a){var c=a.manager;return c?c.get(o):o}function nt(){yt.apply(this,arguments)}function Jt(){nt.apply(this,arguments),this.pX=null,this.pY=null}function te(){nt.apply(this,arguments)}function me(){yt.apply(this,arguments),this._timer=null,this._input=null}function _e(){nt.apply(this,arguments)}function gt(){nt.apply(this,arguments)}function Ht(){yt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function bt(o,a){return(a=a||{}).recognizers=P(a.recognizers,bt.defaults.preset),new ve(o,a)}function ve(o,a){this.options=w({},bt.defaults,a||{}),this.options.inputTarget=this.options.inputTarget||o,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=o,this.input=function(o){return new(o.options.inputClass||(Xt?Me:ye?Pt:jt?ke:ce))(o,ii)}(this),this.touchAction=new Kt(this,this.options.touchAction),Ie(this,!0),m(this.options.recognizers,function(c){var d=this.add(new c[0](c[1]));c[2]&&d.recognizeWith(c[2]),c[3]&&d.requireFailure(c[3])},this)}function Ie(o,a){var d,c=o.element;c.style&&(m(o.options.cssProps,function(f,_){d=K(c.style,_),a?(o.oldCssProps[d]=c.style[d],c.style[d]=f):c.style[d]=o.oldCssProps[d]||""}),a||(o.oldCssProps={}))}Kt.prototype={set:function(o){o==Oe&&(o=this.compute()),We&&this.manager.element.style&&qt[o]&&(this.manager.element.style[ue]=o),this.actions=o.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var o=[];return m(this.manager.recognizers,function(a){x(a.options.enable,[a])&&(o=o.concat(a.getTouchAction()))}),function(o){if(H(o,_t))return _t;var a=H(o,Vt),c=H(o,Zt);return a&&c?_t:a||c?a?Vt:Zt:H(o,fe)?fe:"auto"}(o.join(" "))},preventDefaults:function(o){var a=o.srcEvent,c=o.offsetDirection;if(!this.manager.session.prevented){var d=this.actions,f=H(d,_t)&&!qt[_t],_=H(d,Zt)&&!qt[Zt],O=H(d,Vt)&&!qt[Vt];if(f&&1===o.pointers.length&&o.distance<2&&o.deltaTime<250)return;return O&&_||!(f||_&&6&c||O&&24&c)?void 0:this.preventSrc(a)}a.preventDefault()},preventSrc:function(o){this.manager.session.prevented=!0,o.preventDefault()}},yt.prototype={defaults:{},set:function(o){return w(this.options,o),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(o){if(g(o,"recognizeWith",this))return this;var a=this.simultaneous;return a[(o=Qt(o,this)).id]||(a[o.id]=o,o.recognizeWith(this)),this},dropRecognizeWith:function(o){return g(o,"dropRecognizeWith",this)||(o=Qt(o,this),delete this.simultaneous[o.id]),this},requireFailure:function(o){if(g(o,"requireFailure",this))return this;var a=this.requireFail;return-1===tt(a,o=Qt(o,this))&&(a.push(o),o.requireFailure(this)),this},dropRequireFailure:function(o){if(g(o,"dropRequireFailure",this))return this;o=Qt(o,this);var a=tt(this.requireFail,o);return a>-1&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(o){return!!this.simultaneous[o.id]},emit:function(o){var a=this,c=this.state;function d(f){a.manager.emit(f,o)}c<8&&d(a.options.event+ge(c)),d(a.options.event),o.additionalEvent&&d(o.additionalEvent),c>=8&&d(a.options.event+ge(c))},tryEmit:function(o){if(this.canEmit())return this.emit(o);this.state=32},canEmit:function(){for(var o=0;o<this.requireFail.length;){if(!(33&this.requireFail[o].state))return!1;o++}return!0},recognize:function(o){var a=w({},o);if(!x(this.options.enable,[this,a]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(a),30&this.state&&this.tryEmit(a)},process:function(o){},getTouchAction:function(){},reset:function(){}},y(nt,yt,{defaults:{pointers:1},attrTest:function(o){var a=this.options.pointers;return 0===a||o.pointers.length===a},process:function(o){var a=this.state,c=o.eventType,d=6&a,f=this.attrTest(o);return d&&(8&c||!f)?16|a:d||f?4&c?8|a:2&a?4|a:2:32}}),y(Jt,nt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var o=this.options.direction,a=[];return 6&o&&a.push(Zt),24&o&&a.push(Vt),a},directionTest:function(o){var a=this.options,c=!0,d=o.distance,f=o.direction,_=o.deltaX,O=o.deltaY;return f&a.direction||(6&a.direction?(f=0===_?1:_<0?2:4,c=_!=this.pX,d=Math.abs(o.deltaX)):(f=0===O?1:O<0?8:16,c=O!=this.pY,d=Math.abs(o.deltaY))),o.direction=f,c&&d>a.threshold&&f&a.direction},attrTest:function(o){return nt.prototype.attrTest.call(this,o)&&(2&this.state||!(2&this.state)&&this.directionTest(o))},emit:function(o){this.pX=o.deltaX,this.pY=o.deltaY;var a=Pe(o.direction);a&&(o.additionalEvent=this.options.event+a),this._super.emit.call(this,o)}}),y(te,nt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(o){return this._super.attrTest.call(this,o)&&(Math.abs(o.scale-1)>this.options.threshold||2&this.state)},emit:function(o){1!==o.scale&&(o.additionalEvent=this.options.event+(o.scale<1?"in":"out")),this._super.emit.call(this,o)}}),y(me,yt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(o){var a=this.options,c=o.pointers.length===a.pointers,d=o.distance<a.threshold,f=o.deltaTime>a.time;if(this._input=o,!d||!c||12&o.eventType&&!f)this.reset();else if(1&o.eventType)this.reset(),this._timer=u(function(){this.state=8,this.tryEmit()},a.time,this);else if(4&o.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(o){8===this.state&&(o&&4&o.eventType?this.manager.emit(this.options.event+"up",o):(this._input.timeStamp=A(),this.manager.emit(this.options.event,this._input)))}}),y(_e,nt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(o){return this._super.attrTest.call(this,o)&&(Math.abs(o.rotation)>this.options.threshold||2&this.state)}}),y(gt,nt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Jt.prototype.getTouchAction.call(this)},attrTest:function(o){var c,a=this.options.direction;return 30&a?c=o.overallVelocity:6&a?c=o.overallVelocityX:24&a&&(c=o.overallVelocityY),this._super.attrTest.call(this,o)&&a&o.offsetDirection&&o.distance>this.options.threshold&&o.maxPointers==this.options.pointers&&ct(c)>this.options.velocity&&4&o.eventType},emit:function(o){var a=Pe(o.offsetDirection);a&&this.manager.emit(this.options.event+a,o),this.manager.emit(this.options.event,o)}}),y(Ht,yt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[fe]},process:function(o){var a=this.options,c=o.pointers.length===a.pointers,d=o.distance<a.threshold,f=o.deltaTime<a.time;if(this.reset(),1&o.eventType&&0===this.count)return this.failTimeout();if(d&&f&&c){if(4!=o.eventType)return this.failTimeout();var _=!this.pTime||o.timeStamp-this.pTime<a.interval,O=!this.pCenter||ae(this.pCenter,o.center)<a.posThreshold;if(this.pTime=o.timeStamp,this.pCenter=o.center,O&&_?this.count+=1:this.count=1,this._input=o,0==this.count%a.taps)return this.hasRequireFailures()?(this._timer=u(function(){this.state=8,this.tryEmit()},a.interval,this),2):8}return 32},failTimeout:function(){return this._timer=u(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),bt.VERSION="2.0.7",bt.defaults={domEvents:!1,touchAction:Oe,enable:!0,inputTarget:null,inputClass:null,preset:[[_e,{enable:!1}],[te,{enable:!1},["rotate"]],[gt,{direction:6}],[Jt,{direction:6},["swipe"]],[Ht],[Ht,{event:"doubletap",taps:2},["tap"]],[me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ve.prototype={set:function(o){return w(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},stop:function(o){this.session.stopped=o?2:1},recognize:function(o){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(o);var c,d=this.recognizers,f=a.curRecognizer;(!f||f&&8&f.state)&&(f=a.curRecognizer=null);for(var _=0;_<d.length;)c=d[_],2===a.stopped||f&&c!=f&&!c.canRecognizeWith(f)?c.reset():c.recognize(o),!f&&14&c.state&&(f=a.curRecognizer=c),_++}},get:function(o){if(o instanceof yt)return o;for(var a=this.recognizers,c=0;c<a.length;c++)if(a[c].options.event==o)return a[c];return null},add:function(o){if(g(o,"add",this))return this;var a=this.get(o.options.event);return a&&this.remove(a),this.recognizers.push(o),o.manager=this,this.touchAction.update(),o},remove:function(o){if(g(o,"remove",this))return this;if(o=this.get(o)){var a=this.recognizers,c=tt(a,o);-1!==c&&(a.splice(c,1),this.touchAction.update())}return this},on:function(o,a){if(o!==r&&a!==r){var c=this.handlers;return m(F(o),function(d){c[d]=c[d]||[],c[d].push(a)}),this}},off:function(o,a){if(o!==r){var c=this.handlers;return m(F(o),function(d){a?c[d]&&c[d].splice(tt(c[d],a),1):delete c[d]}),this}},emit:function(o,a){this.options.domEvents&&function(o,a){var c=E.createEvent("Event");c.initEvent(o,!0,!0),c.gesture=a,a.target.dispatchEvent(c)}(o,a);var c=this.handlers[o]&&this.handlers[o].slice();if(c&&c.length){a.type=o,a.preventDefault=function(){a.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](a),d++}},destroy:function(){this.element&&Ie(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},w(bt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:ve,Input:I,TouchAction:Kt,TouchInput:Pt,MouseInput:ce,PointerEventInput:Me,TouchMouseInput:ke,SingleTouchInput:Wt,Recognizer:yt,AttrRecognizer:nt,Tap:Ht,Pan:Jt,Swipe:gt,Pinch:te,Rotate:_e,Press:me,on:X,off:G,each:m,merge:M,extend:k,assign:w,inherit:y,bindFn:T,prefixed:K}),(void 0!==j?j:"undefined"!=typeof self?self:{}).Hammer=bt,(R=function(){return bt}.call(U,S,U,Y))!==r&&(Y.exports=R)}(window,document)},7463:(Y,U,S)=>{"use strict";S.r(U),S.d(U,{GameModule:()=>Rn});var R=S(6019),j=S(3698),E=S(3838),D=S(348),r=S(1514),z=S(273),It=S(2997),Ct=S(8305),st=S(9985),ct=S(5724),A=S(1537),u=S(5044),g=S(2937);const m=["addListener","removeListener"],b=["addEventListener","removeEventListener"],w=["on","off"];function k(n,e,t,i){if((0,u.m)(t)&&(i=t,t=void 0),i)return k(n,e,t).pipe((0,g.Z)(i));const[s,l]=function(n){return(0,u.m)(n.addEventListener)&&(0,u.m)(n.removeEventListener)}(n)?b.map(h=>p=>n[h](e,p,t)):function(n){return(0,u.m)(n.addListener)&&(0,u.m)(n.removeListener)}(n)?m.map(M(n,e)):function(n){return(0,u.m)(n.on)&&(0,u.m)(n.off)}(n)?w.map(M(n,e)):[];if(!s&&(0,A.z)(n))return(0,ct.z)(h=>k(h,e,t))((0,st.Xf)(n));if(!s)throw new TypeError("Invalid event target");return new Ct.y(h=>{const p=(...v)=>h.next(1<v.length?v:v[0]);return s(p),()=>l(p)})}function M(n,e){return t=>i=>n[t](e,i)}var P=S(7908);class X extends P.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const G={setInterval(...n){const{delegate:e}=G;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=G;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var J=S(3980);class H extends X{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return G.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;G.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(l){i=!0,s=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const F={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=F;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=e(l=>{t=void 0,n(l)});return new P.w0(()=>null==t?void 0:t(s))},requestAnimationFrame(...n){const{delegate:e}=F;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=F;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},lt={now:()=>(lt.delegate||Date).now(),delegate:void 0};class W{constructor(e,t=W.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}W.now=lt.now;class K extends W{constructor(e,t=W.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}new class extends K{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,s=-1;e=e||t.shift();const l=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++s<l&&(e=t.shift()));if(this._active=!1,i){for(;++s<l&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends H{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=F.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(F.cancelAnimationFrame(t),e._scheduled=void 0)}});let jt,ut=1;const Xt={};function ye(n){return n in Xt&&(delete Xt[n],!0)}const Lt={setImmediate(n){const e=ut++;return Xt[e]=!0,jt||(jt=Promise.resolve()),jt.then(()=>ye(e)&&n()),e},clearImmediate(n){ye(n)}},{setImmediate:re,clearImmediate:Ve}=Lt,Gt={setImmediate(...n){const{delegate:e}=Gt;return((null==e?void 0:e.setImmediate)||re)(...n)},clearImmediate(n){const{delegate:e}=Gt;return((null==e?void 0:e.clearImmediate)||Ve)(n)},delegate:void 0},kt=(new class extends K{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,s=-1;e=e||t.shift();const l=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++s<l&&(e=t.shift()));if(this._active=!1,i){for(;++s<l&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends H{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Gt.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Gt.clearImmediate(t),e._scheduled=void 0)}}),new K(H));var Ft=S(9947),Ot=S(8889),dt=S(7398);function oe(n,e=kt){return function(n){return(0,Ft.e)((e,t)=>{let i=!1,s=null,l=null,h=!1;const p=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const C=s;s=null,t.next(C)}h&&t.complete()},v=()=>{l=null,h&&t.complete()};e.subscribe(new Ot.Q(t,C=>{i=!0,s=C,l||(0,st.Xf)(n()).subscribe(l=new Ot.Q(t,p,v))},()=>{h=!0,(!i||!l||l.closed)&&t.complete()}))})}(()=>function(n=0,e,t=kt){let i=-1;return null!=e&&((0,dt.K)(e)?t=e:i=e),new Ct.y(s=>{let l=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let h=0;return t.schedule(function(){s.closed||(s.next(h++),0<=i?this.schedule(void 0,i):s.complete())},l)})}(n,e))}var ft=S(461),I=S(928),Rt=S(8290);let we=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new z.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ct.y(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(oe(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,It.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,ft.h)(l=>!l||s.indexOf(l)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,l)=>{this._scrollableContainsElement(l,t)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=(0,D.fI)(i),l=t.getElementRef().nativeElement;do{if(s==l)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>k(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(r.R0b),r.LFG(I.t4),r.LFG(R.K0,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new z.x,this._changeListener=l=>{this._change.next(l)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,l=s.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-l.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(oe(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(I.t4),r.LFG(r.R0b),r.LFG(R.K0,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})(),Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[Rt.vT,I.ud,xe],Rt.vT,xe]}),n})();class Wt{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class he extends Wt{constructor(e,t,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s}}class Te extends Wt{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class je extends Wt{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class Pt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof he?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Te?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof je?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Xe extends Pt{constructor(e,t,i,s,l){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=h=>{const p=h.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=l}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let de=(()=>{class n extends Pt{constructor(t,i,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(p,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,l=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),h=i.createComponent(l,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=t,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(R.K0))},n.\u0275dir=r.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();var Oe=S(3719),Nt=S(9468),fe=S(6263);const _t=(0,I.Mq)();class Vt{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,D.HM)(-this._previousScrollPosition.left),e.style.top=(0,D.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,s=this._document.body.style,l=i.scrollBehavior||"",h=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),_t&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_t&&(i.scrollBehavior=l,s.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class qt{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Kt{enable(){}disable(){}attach(){}}function pe(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Re(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class $t{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();pe(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ot=(()=>{class n{constructor(t,i,s,l){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new Kt,this.close=h=>new qt(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new Vt(this._viewportRuler,this._document),this.reposition=h=>new $t(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(we),r.LFG(Se),r.LFG(r.R0b),r.LFG(R.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xt{constructor(e){if(this.scrollStrategy=new Kt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class zt{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let ge=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(R.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n extends ge{constructor(t){super(t),this._keydownListener=i=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){s[l]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(R.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qt=(()=>{class n extends ge{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=(0,I.sA)(s)},this._clickListener=s=>{const l=(0,I.sA)(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const C=p[v];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(l)||C.overlayElement.contains(h))break;C._outsidePointerEvents.next(s)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(R.K0),r.LFG(I.t4))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nt=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||(0,I.Oy)()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let l=0;l<s.length;l++)s[l].remove()}const i=this._document.createElement("div");i.classList.add(t),(0,I.Oy)()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(R.K0),r.LFG(I.t4))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Jt{constructor(e,t,i,s,l,h,p,v,C){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=l,this._keyboardDispatcher=h,this._document=p,this._location=v,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new z.x,this._attachments=new z.x,this._detachments=new z.x,this._locationChanges=P.w0.EMPTY,this._backdropClickHandler=N=>this._backdropClick.next(N),this._keydownEvents=new z.x,this._outsidePointerEvents=new z.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Nt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=ne(ne({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ii(ne({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,D.HM)(this._config.width),e.height=(0,D.HM)(this._config.height),e.minWidth=(0,D.HM)(this._config.minWidth),e.minHeight=(0,D.HM)(this._config.minHeight),e.maxWidth=(0,D.HM)(this._config.maxWidth),e.maxHeight=(0,D.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const s=(0,D.Eq)(t||[]).filter(l=>!!l);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,fe.R)((0,Oe.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const te="cdk-overlay-connected-position-bounding-box",me=/([A-Za-z%]+)$/;class _e{constructor(e,t,i,s,l){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new z.x,this._resizeSubscription=P.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(te),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,h),v=this._getOverlayPoint(p,t,h),C=this._getOverlayFit(v,t,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(C,v,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<C.visibleArea)&&(l={overlayFit:C,overlayPoint:v,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const v of s){const C=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);C>p&&(p=C,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(te),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,s;if("center"==t.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==t.originX?l:h}return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:s}}_getOverlayPoint(e,t,i){let s,l;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,l="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+l}}_getOverlayFit(e,t,i,s){const l=bt(t);let{x:h,y:p}=e,v=this._getOffset(s,"x"),C=this._getOffset(s,"y");v&&(h+=v),C&&(p+=C);let ie=0-p,Ut=p+l.height-i.height,At=this._subtractOverflows(l.width,0-h,h+l.width-i.width),Ri=this._subtractOverflows(l.height,ie,Ut),Pi=At*Ri;return{visibleArea:Pi,isCompletelyWithinViewport:l.width*l.height===Pi,fitsInViewportVertically:Ri===l.height,fitsInViewportHorizontally:At==l.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,l=i.right-t.x,h=Ht(this._overlayRef.getConfig().minHeight),p=Ht(this._overlayRef.getConfig().minWidth),C=e.fitsInViewportHorizontally||null!=p&&p<=l;return(e.fitsInViewportVertically||null!=h&&h<=s)&&C}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=bt(t),l=this._viewportRect,h=Math.max(e.x+s.width-l.width,0),p=Math.max(e.y+s.height-l.height,0),v=Math.max(l.top-i.top-e.y,0),C=Math.max(l.left-i.left-e.x,0);let N=0,rt=0;return N=s.width<=l.width?C||-h:e.x<this._viewportMargin?l.left-i.left-e.x:0,rt=s.height<=l.height?v||-p:e.y<this._viewportMargin?l.top-i.top-e.y:0,this._previousPushAmount={x:N,y:rt},{x:e.x+N,y:e.y+rt}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new zt(e,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let l=0;l<t.length;l++)t[l].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let l,h,p,N,rt,ie;if("top"===t.overlayY)h=e.y,l=i.height-h+this._viewportMargin;else if("bottom"===t.overlayY)p=i.height-e.y+2*this._viewportMargin,l=i.height-p+this._viewportMargin;else{const Ut=Math.min(i.bottom-e.y+i.top,e.y),At=this._lastBoundingBoxSize.height;l=2*Ut,h=e.y-Ut,l>At&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.y-At/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)ie=i.width-e.x+this._viewportMargin,N=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)rt=e.x,N=i.right-e.x;else{const Ut=Math.min(i.right-e.x+i.left,e.x),At=this._lastBoundingBoxSize.width;N=2*Ut,rt=e.x-Ut,N>At&&!this._isInitialRender&&!this._growAfterOpen&&(rt=e.x-At/2)}return{top:h,left:rt,bottom:p,right:ie,width:N,height:l}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;s.height=(0,D.HM)(i.height),s.top=(0,D.HM)(i.top),s.bottom=(0,D.HM)(i.bottom),s.width=(0,D.HM)(i.width),s.left=(0,D.HM)(i.left),s.right=(0,D.HM)(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",l&&(s.maxHeight=(0,D.HM)(l)),h&&(s.maxWidth=(0,D.HM)(h))}this._lastBoundingBoxSize=i,gt(this._boundingBox.style,s)}_resetBoundingBoxStyles(){gt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},s=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(s){const N=this._viewportRuler.getViewportScrollPosition();gt(i,this._getExactOverlayY(t,e,N)),gt(i,this._getExactOverlayX(t,e,N))}else i.position="static";let p="",v=this._getOffset(t,"x"),C=this._getOffset(t,"y");v&&(p+=`translateX(${v}px) `),C&&(p+=`translateY(${C}px)`),i.transform=p.trim(),h.maxHeight&&(s?i.maxHeight=(0,D.HM)(h.maxHeight):l&&(i.maxHeight="")),h.maxWidth&&(s?i.maxWidth=(0,D.HM)(h.maxWidth):l&&(i.maxWidth="")),gt(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},l=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":s.top=(0,D.HM)(l.y),s}_getExactOverlayX(e,t,i){let h,s={left:"",right:""},l=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),h=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===h?s.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":s.left=(0,D.HM)(l.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Re(e,i),isOriginOutsideView:pe(e,i),isOverlayClipped:Re(t,i),isOverlayOutsideView:pe(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,D.Eq)(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof r.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function gt(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ht(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(me);return t&&"px"!==t?null:parseFloat(e)}return n||null}function bt(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const De="cdk-global-overlay-wrapper";class Ae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(De),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:l,maxWidth:h,maxHeight:p}=i,v=!("100%"!==s&&"100vw"!==s||h&&"100%"!==h&&"100vw"!==h),C=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p);e.position=this._cssPosition,e.marginLeft=v?"0":this._leftOffset,e.marginTop=C?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,v?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(De),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ve=(()=>{class n{constructor(t,i,s,l){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=l}global(){return new Ae}flexibleConnectedTo(t){return new _e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Se),r.LFG(R.K0),r.LFG(I.t4),r.LFG(nt))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=0,ee=(()=>{class n{constructor(t,i,s,l,h,p,v,C,N,rt,ie){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=p,this._ngZone=v,this._document=C,this._directionality=N,this._location=rt,this._outsideClickDispatcher=ie}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),l=this._createPortalOutlet(s),h=new xt(t);return h.direction=h.direction||this._directionality.value,new Jt(l,i,s,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ie++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new Xe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ot),r.LFG(nt),r.LFG(r._Vd),r.LFG(ve),r.LFG(Pe),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(R.K0),r.LFG(Rt.Is),r.LFG(R.Ye),r.LFG(Qt))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const f={provide:new r.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ee],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let _=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[ee,f],imports:[[Rt.vT,ue,Ee],Ee]}),n})();var L=S(6731),Z=S(5048),Q=S(3970),at=S(8966),mt=S(9814),_i=S(1628),Le=S(9555);function Li(n,e){}class Ze{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Fi={dialogContainer:(0,mt.X$)("dialogContainer",[(0,mt.SB)("void, exit",(0,mt.oB)({opacity:0,transform:"scale(0.7)"})),(0,mt.SB)("enter",(0,mt.oB)({transform:"none"})),(0,mt.eR)("* => enter",(0,mt.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,mt.oB)({transform:"none",opacity:1}))),(0,mt.eR)("* => void, * => exit",(0,mt.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,mt.oB)({opacity:0})))])};let Bi=(()=>{class n extends Pt{constructor(t,i,s,l,h,p,v,C){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=s,this._config=h,this._interactivityChecker=p,this._ngZone=v,this._focusMonitor=C,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=N=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(N)),this._ariaLabelledBy=h.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(i)}_focusByCssSelector(t,i){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=(0,I.ht)(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,I.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=(0,I.ht)();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(at.qV),r.Y36(r.sBO),r.Y36(R.K0,8),r.Y36(Ze),r.Y36(at.ic),r.Y36(r.R0b),r.Y36(at.tE))},n.\u0275dir=r.lG2({type:n,viewQuery:function(t,i){if(1&t&&r.Gf(de,7),2&t){let s;r.iGM(s=r.CRH())&&(i._portalOutlet=s.first)}},features:[r.qOj]}),n})(),Ni=(()=>{class n extends Bi{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=r.n5z(n)))(i||n)}}(),n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&r.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&t&&(r.Ikx("id",i._id),r.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),r.d8E("@dialogContainer",i._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&r.YNc(0,Li,0,0,"ng-template",0)},directives:[de],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Fi.dialogContainer]}}),n})(),Vi=0;class vi{constructor(e,t,i="mat-dialog-"+Vi++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new z.x,this._afterClosed=new z.x,this._beforeClosed=new z.x,this._state=0,t._id=i,t._animationStateChanged.pipe((0,ft.h)(s=>"opened"===s.state),(0,Nt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,ft.h)(s=>"closed"===s.state),(0,Nt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe((0,ft.h)(s=>s.keyCode===_i.hY&&!this.disableClose&&!(0,_i.Vb)(s))).subscribe(s=>{s.preventDefault(),qe(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():qe(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,ft.h)(t=>"closing"===t.state),(0,Nt.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function qe(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const yi=new r.OlP("MatDialogData"),zi=new r.OlP("mat-dialog-default-options"),bi=new r.OlP("mat-dialog-scroll-strategy"),Yi={provide:bi,deps:[ee],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Ui=(()=>{class n{constructor(t,i,s,l,h,p,v,C,N,rt){this._overlay=t,this._injector=i,this._defaultOptions=s,this._parentDialog=l,this._overlayContainer=h,this._dialogRefConstructor=v,this._dialogContainerType=C,this._dialogDataToken=N,this._animationMode=rt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new z.x,this._afterOpenedAtThisLevel=new z.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=(0,Z.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Q.O)(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){if(i=function(n,e){return ne(ne({},e),n)}(i,this._defaultOptions||new Ze),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const s=this._createOverlay(i),l=this._attachDialogContainer(s,i);if("NoopAnimations"!==this._animationMode){const p=l._animationStateChanged.subscribe(v=>{"opening"===v.state&&(this._dialogAnimatingOpen=!0),"opened"===v.state&&(this._dialogAnimatingOpen=!1,p.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new P.w0),this._animationStateSubscriptions.add(p)}const h=this._attachDialogContent(t,l,s,i);return this._lastDialogRef=h,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.afterClosed().subscribe(()=>this._removeOpenDialog(h)),this.afterOpened.next(h),l._initializeWithAttachedContent(),h}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new xt({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const l=r.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Ze,useValue:i}]}),h=new he(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return t.attach(h).instance}_attachDialogContent(t,i,s,l){const h=new this._dialogRefConstructor(s,i,l.id);if(t instanceof r.Rgc)i.attachTemplatePortal(new Te(t,null,{$implicit:l.data,dialogRef:h}));else{const p=this._createInjector(l,h,i),v=i.attachComponentPortal(new he(t,l.viewContainerRef,p));h.componentInstance=v.instance}return h.updateSize(l.width,l.height).updatePosition(l.position),h}_createInjector(t,i,s){const l=t&&t.viewContainerRef&&t.viewContainerRef.injector,h=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!l||!l.get(Rt.Is,null,r.XFs.Optional))&&h.push({provide:Rt.Is,useValue:{value:t.direction,change:(0,It.of)()}}),r.zs3.create({parent:l||this._injector,providers:h})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,l)=>{s?l.setAttribute("aria-hidden",s):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let s=i.length-1;s>-1;s--){let l=i[s];l!==t&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){r.$Z()},n.\u0275dir=r.lG2({type:n}),n})(),Ke=(()=>{class n extends Ui{constructor(t,i,s,l,h,p,v,C){super(t,i,l,p,v,h,vi,Ni,yi,C)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(ee),r.LFG(r.zs3),r.LFG(R.Ye,8),r.LFG(zi,8),r.LFG(bi),r.LFG(n,12),r.LFG(nt),r.LFG(Le.Qb,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Xi=(()=>{class n{constructor(t,i,s){this.dialogRef=t,this._elementRef=i,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){qe(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(vi,8),r.Y36(r.SBq),r.Y36(Ke))},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&r.NdJ("click",function(l){return i._onButtonClick(l)}),2&t&&r.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),n})(),Gi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),Wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=r.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Ke,Yi],imports:[[_,ue,L.BQ],L.BQ]}),n})();var B=S(2620),Yt=(()=>{return(n=Yt||(Yt={}))[n.ColorOnly=1]="ColorOnly",n[n.ColorAndBumpMaps=2]="ColorAndBumpMaps",n[n.Emoji=3]="Emoji",Yt;var n})();let Fe=(()=>{class n{constructor(t){this.document=t,this._bumpMaps=["assets/maps-bump/Bark 0499.JPG.jpg","assets/maps-bump/Bark 0515.JPG.jpg","assets/maps-bump/Brick 2371 bump map.jpg","assets/maps-bump/Brick 2852b bump map.jpg","assets/maps-bump/Concrete 3035 bump map.jpg","assets/maps-bump/Fabric 0071 bump map.jpg","assets/maps-bump/Fabric 0106.jpg","assets/maps-bump/Fabric 0140c.jpg","assets/maps-bump/Gravel 2486 bump map.jpg","assets/maps-bump/Metal 2350 bump map.jpg","assets/maps-bump/Metal 2860 bump map.jpg","assets/maps-bump/Plastic 2923f.jpg","assets/maps-bump/Rubber 0472.jpg"],this._bumpMapsCache=[],this._emojiCodes=[[128512,128516,128521,128522,128519,129315],[128567,128564,129317,129392,129320,129323],[129303,129297,128541,129322,128523,128527],[129397,129398,129396,129327,129312,129400]],this._textures=[],this.LevelTexturesLoaded=new r.vpe,this.LevelTextureLoadProgress=new r.vpe,this.LevelTextureLoadError=new r.vpe,this._loaderManager=new E.lLk(()=>{this.LevelTexturesLoaded.next()},(i,s,l)=>{this.LevelTextureLoadProgress.next(s/l*100)},i=>{this.LevelTextureLoadError.next(i)}),this._textureLoader=new E.dpR(this._loaderManager)}get Textures(){return this._textures}get LevelType(){return this._levelType}InitLevelTextures(t){switch(this._levelType=t,this._textures.forEach(i=>i.dispose),this._textures=[],this._levelType){case Yt.ColorOnly:this.LevelTexturesLoaded.next();break;case Yt.ColorAndBumpMaps:const i=this._bumpMaps[E.M8C.randInt(0,this._bumpMaps.length-1)],s=this._bumpMapsCache.find(h=>h.name===i);s?(this._textures.push(s),this.LevelTexturesLoaded.next()):this._textureLoader.load(i,h=>{h.center=new E.FM8(.5,.5),h.name=i,this._textures.push(h),this._bumpMapsCache.push(h)});break;default:this.initEmojiData().forEach(h=>{this._textureLoader.load(h,p=>{p.center=new E.FM8(.5,.5),this._textures.push(p)})})}}initEmojiData(){const t=this.document.createElement("canvas");t.width=t.height=80;const s=[],l=t.getContext("2d");if(l){const h=this._emojiCodes[E.M8C.randInt(0,this._emojiCodes.length-1)];for(let p=0;p<B.Gz;p++){const v=h[p];l.clearRect(0,0,80,80),l.fillStyle="white",l.fillRect(0,0,80,80),l.font="75px Arial",l.textBaseline="middle",l.textAlign="center",l.fillText(String.fromCodePoint(v),40,45),s.push(t.toDataURL())}}return s}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(R.K0))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();var Ci=S(86);const Ki=["primaryValueBar"],$i=(0,L.pj)(class{constructor(n){this._elementRef=n}},"primary"),Qi=new r.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,r.f3M)(R.K0),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),tn=new r.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let en=0,wi=(()=>{class n extends $i{constructor(t,i,s,l,h){super(t),this._ngZone=i,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new r.vpe,this._animationEndSubscription=P.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+en++;const p=l?l.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===s,h&&(h.color&&(this.color=this.defaultColor=h.color),this.mode=h.mode||this.mode)}get value(){return this._value}set value(t){this._value=Si((0,D.su)(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=Si(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=k(t,"transitionend").pipe((0,ft.h)(i=>i.target===t)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Le.Qb,8),r.Y36(Qi,8),r.Y36(tn,8))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(t,i){if(1&t&&r.Gf(Ki,5),2&t){let s;r.iGM(s=r.CRH())&&(i._primaryValueBar=s.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,i){2&t&&(r.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),r.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[r.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r.O4$(),r.TgZ(1,"svg",1),r.TgZ(2,"defs"),r.TgZ(3,"pattern",2),r._UZ(4,"circle",3),r.qZA(),r.qZA(),r._UZ(5,"rect",4),r.qZA(),r.kcU(),r._UZ(6,"div",5),r._UZ(7,"div",6,7),r._UZ(9,"div",8),r.qZA()),2&t&&(r.xp6(3),r.Q6J("id",i.progressbarId),r.xp6(2),r.uIk("fill",i._rectangleFillValue),r.xp6(1),r.Q6J("ngStyle",i._bufferTransform()),r.xp6(1),r.Q6J("ngStyle",i._primaryTransform()))},directives:[R.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function Si(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[R.ez,L.BQ],L.BQ]}),n})();function rn(n,e){1&n&&(r.TgZ(0,"span"),r._uU(1,"Welcome!"),r.qZA())}function sn(n,e){1&n&&r._uU(0,"Level Complete!")}function on(n,e){if(1&n&&(r.TgZ(0,"div",8),r.TgZ(1,"p"),r._uU(2," Game pieces can move "),r.TgZ(3,"b"),r._uU(4,"right"),r.qZA(),r._uU(5," or "),r.TgZ(6,"b"),r._uU(7,"left"),r.qZA(),r._uU(8,", or be flipped "),r.TgZ(9,"b"),r._uU(10,"up"),r.qZA(),r._uU(11," or "),r.TgZ(12,"b"),r._uU(13,"down"),r.qZA(),r._uU(14,". Press a game piece to make a match! "),r.qZA(),r.TgZ(15,"p"),r._uU(16," Must match "),r.TgZ(17,"b"),r._uU(18),r.qZA(),r._uU(19," top-to-bottom or side-to-side. "),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(18),r.hij("at least ",t.matchTarget," pieces")}}function an(n,e){if(1&n&&(r.TgZ(0,"table"),r.TgZ(1,"tr"),r.TgZ(2,"td"),r._uU(3,"Fastest match time:"),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.qZA(),r.TgZ(6,"tr"),r.TgZ(7,"td"),r._uU(8,"Move Count:"),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.qZA(),r.TgZ(11,"tr"),r.TgZ(12,"td"),r._uU(13,"Piece Count:"),r.qZA(),r.TgZ(14,"td"),r._uU(15),r.qZA(),r.qZA(),r.qZA()),2&n){const t=r.oxw();r.xp6(5),r.hij("",t.data.stats.fastestMatchMs,"ms"),r.xp6(5),r.Oqu(t.data.stats.moveCount),r.xp6(5),r.Oqu(t.data.stats.pieceCount)}}function ln(n,e){if(1&n&&r._UZ(0,"mat-progress-bar",9),2&n){const t=r.oxw();r.Q6J("value",t.progress)}}function cn(n,e){1&n&&(r.TgZ(0,"span"),r._uU(1,"Play!"),r.qZA())}function hn(n,e){1&n&&r._uU(0,"Next Level!")}let xi=(()=>{class n{constructor(t,i){this.textureManager=t,this.data=i,this.matchTarget=B.TT,this.ctaDisabled=!0,this.progress=0,this.levelMaterialType=Yt}ngOnInit(){this.textureManager.LevelType===Yt.ColorOnly&&(this.ctaDisabled=!1,this.progress=100),this.textureManager.LevelTexturesLoaded.subscribe(()=>{this.ctaDisabled=!1}),this.textureManager.LevelTextureLoadProgress.subscribe(t=>{this.progress=t})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Fe),r.Y36(yi))},n.\u0275cmp=r.Xpm({type:n,selectors:[["wgl-level-dialog"]],decls:15,vars:7,consts:[[4,"ngIf","ngIfElse"],["levelHeader",""],["class","intro",4,"ngIf","ngIfElse"],["levelContent",""],[3,"value",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary","mat-dialog-close",""],["levelButtonContent",""],[1,"intro"],[3,"value"]],template:function(t,i){if(1&t&&(r.TgZ(0,"h2"),r.YNc(1,rn,2,0,"span",0),r.YNc(2,sn,1,0,"ng-template",null,1,r.W1O),r.qZA(),r.TgZ(4,"mat-dialog-content"),r.YNc(5,on,20,1,"div",2),r.YNc(6,an,16,3,"ng-template",null,3,r.W1O),r._UZ(8,"br"),r.YNc(9,ln,1,1,"mat-progress-bar",4),r.qZA(),r.TgZ(10,"mat-dialog-actions",5),r.TgZ(11,"button",6),r.YNc(12,cn,2,0,"span",0),r.YNc(13,hn,1,0,"ng-template",null,7,r.W1O),r.qZA(),r.qZA()),2&t){const s=r.MAs(3),l=r.MAs(7),h=r.MAs(14);r.xp6(1),r.Q6J("ngIf",0===i.data.score)("ngIfElse",s),r.xp6(4),r.Q6J("ngIf",0===i.data.score)("ngIfElse",l),r.xp6(4),r.Q6J("ngIf",i.data.materialType!==i.levelMaterialType.ColorOnly),r.xp6(3),r.Q6J("ngIf",0===i.data.score)("ngIfElse",h)}},directives:[R.O5,Gi,Wi,Ci.lW,Xi,wi],styles:[""]}),n})();class Be{constructor(e,t,i){this._steps=[],this._iterator=0;const s=1/i;for(let l=s;l<=s*i;l+=s)this._steps.push(E.M8C.lerp(e,t,l));this._steps[i-1]=t}get HasNext(){return this._iterator!==this._steps.length}get Next(){return this._steps[this._iterator++]}}class dn{constructor(e){this._iterator=0,this._limit=e,this._opacityRate=1/e,this._velocity=E.M8C.randFloat(.02,.4),this._tumble=new E.FM8(E.M8C.randFloat(-.05,.05),E.M8C.randFloat(-.05,.05))}Next(){this._iterator++}get HasNext(){return this._iterator!==this._limit}get OpacityRate(){return this._opacityRate}get Velocity(){return this._velocity}get Tumble(){return this._tumble}}class un{constructor(e,t,i,s){this._matchKey=e,!i&&s&&(this._material=new E.xoR({color:s})),i&&s&&(this._bumpTexture=i,this._bumpTexture.center=new E.FM8(.5,.5),this._material=new E.xoR({color:s,bumpMap:this._bumpTexture,bumpScale:.03})),t&&(this._texture=t,this._texture.center=new E.FM8(.5,.5),this._material=new E.vBJ({map:this._texture})),this._material&&(this._material.transparent=!0)}get MatchKey(){return this._matchKey}get Material(){return this._material}Dispose(){var e,t,i;null===(e=this._texture)||void 0===e||e.dispose(),null===(t=this._bumpTexture)||void 0===t||t.dispose(),null===(i=this._material)||void 0===i||i.dispose()}}class Ei extends E.Tme{constructor(e,t,i,s,l){var h;super(),this._gamePieceMaterials=[],this._matchKeySequence=[1,2,0,3],this.IsMatch=!1,this._isRemoved=!1,this.position.set(e,t,i),this.rotateY(s),this._innerGeometry=new E.nvb(1,1,1,4,4,4),this.initMaterials(l),this._mesh=new E.Kj0(this._innerGeometry,this._gamePieceMaterials.map(p=>p.Material)),this.add(this._mesh),this._thetaStart=Math.abs(s),this._thetaOffset=this._thetaStart,this._matchKey=null===(h=this._gamePieceMaterials[this._matchKeySequence[0]])||void 0===h?void 0:h.MatchKey}get IsRemoved(){return this._isRemoved}set ThetaOffset(e){this._thetaOffset=this.mod(this._thetaStart-e,B.uo)}get ThetaOffset(){return this._thetaOffset}get MatchKey(){return this._matchKey}LockPiece(e){this._isRemoved||this._gamePieceMaterials.forEach(t=>t.Material.opacity=e?.4:1)}InitRemove(){this._pieceRemoval=new dn(E.M8C.randInt(30,60))}Remove(){this._pieceRemoval.HasNext?(this._gamePieceMaterials.forEach(e=>e.Material.opacity-=this._pieceRemoval.OpacityRate),this._mesh.translateX(this._pieceRemoval.Velocity),this._mesh.rotateX(this._pieceRemoval.Tumble.x),this._mesh.rotateZ(this._pieceRemoval.Tumble.y),this._pieceRemoval.Next()):(this.IsMatch=!1,this._isRemoved=!0)}InitFlip(e){this._flipBetweener=new Be(this.rotation.z,this.rotation.z+B.tz*(e?-1:1),15),this._matchKeySequence=this._matchKeySequence.concat(this._matchKeySequence.splice(0,e?this._matchKeySequence.length-1:1)),this._matchKey=this._gamePieceMaterials[this._matchKeySequence[0]].MatchKey}Flip(){return this._flipBetweener.HasNext&&(this.rotation.z=this._flipBetweener.Next),this._flipBetweener.HasNext}Dispose(){this._gamePieceMaterials.forEach(e=>e.Dispose()),this._innerGeometry.dispose()}initMaterials(e){for(let t=0;t<6;t++){const i=e[Math.floor(Math.random()*e.length)];let s;i.Texture&&(s=this.cloneRotateTexture(i.Texture,t)),this._gamePieceMaterials.push(new un(i.MatchKey,s,i.BumpTexture,i.Color))}}cloneRotateTexture(e,t){if(e){const i=e.clone();if(i){switch(i.needsUpdate=!0,t){case 0:i.rotation=2*B.tz;break;case 2:i.rotation=3*B.tz;break;case 3:i.rotation=B.tz}return i}}}mod(e,t){return(e%t+t)%t}}class fn extends E.Tme{constructor(e,t,i){super(),this._theta=0,this.position.y=e,t.forEach(s=>{const l=new Ei(s.polarCoords.x,0,s.polarCoords.z,s.rotationY,i);this.add(l)});for(let s=0;s<this.children.length;s++){const l=this.children[s];0===s?(l.Prev=this.children[this.children.length-1],l.Next=this.children[s+1]):s===this.children.length-1?(l.Prev=this.children[s-1],l.Next=this.children[0]):(l.Prev=this.children[s-1],l.Next=this.children[s+1])}}set Above(e){this._wheelAbove=e}get Above(){return this._wheelAbove}set Below(e){this._wheelBelow=e}get Below(){return this._wheelBelow}get EaseBetweener(){return this._betweener}Rotate(e){this.rotation.y=e}UpdateTheta(e){this._theta+=e,Math.abs(this._theta)>=B.uo&&(this._theta=0),this.Rotate(this._theta)}SnapToGrid(){const e=Math.ceil(this._theta/B.oE),t=Math.abs(this._theta-e*B.oE),i=Math.abs(this._theta-(e-1)*B.oE),s=this._theta;t<i?this._theta+=t:this._theta-=i,this._betweener=new Be(s,this._theta,10);for(const l of this.children)l.ThetaOffset=this._theta}ResetIsMatch(){for(const e of this.children)e.IsMatch=!1}Dispose(){for(const e of this.children)e.Dispose()}}S(4646);let Mi=(()=>{class n{constructor(t){this.textureManager=t,this._currentMaterials=[]}get MaterialData(){return this._currentMaterials}InitMaterials(){this._currentMaterials=[];let t=1,i=[];switch(this.textureManager.LevelType){case 1:i=this.initColorScheme(),i.forEach(l=>{this._currentMaterials.push({MatchKey:t++,Color:l})});break;case 2:i=this.initColorScheme();const s=this.textureManager.Textures[E.M8C.randInt(0,this.textureManager.Textures.length-1)];i.forEach(l=>{this._currentMaterials.push({MatchKey:t++,BumpTexture:s,Color:l})});break;default:for(let l=0;l<B.Gz;l++)this._currentMaterials.push({MatchKey:t++,Texture:this.textureManager.Textures[l]})}}initColorScheme(){const t=new ColorScheme,i=["contrast","triade","tetrade","analogic"],s=i[E.M8C.randInt(0,i.length-1)];return t.from_hue(E.M8C.randInt(0,359)).scheme(s).variation("hard"),t.colors().map(h=>`#${h}`).slice(0,B.Gz)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Fe))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();var Mt=(()=>{return(n=Mt||(Mt={}))[n.Intro=1]="Intro",n[n.Flip=2]="Flip",Mt;var n})();let Ti=(()=>{class n{constructor(){this._activeEffects=[],this._introBetweeners=[]}UpdateEffects(t){this._activeEffects.length&&(this._activeEffects.find(i=>i===Mt.Intro)&&this.animateIntro(t),this._activeEffects.find(i=>i===Mt.Flip)&&this.animateFlip())}BuildIntoAnimation(t,i,s){if(this._introBetweeners=[],s<0)for(let l=t.length-1;l>-1;l--){const h=new Be(t[l].position.y,i[l],B.su*(t.length-l));this._introBetweeners.push(h)}else for(let l=0;l<t.length;l++){const h=new Be(t[l].position.y,i[l],B.su*(l+1));this._introBetweeners.push(h)}this._activeEffects.push(Mt.Intro)}animateIntro(t){this._introBetweeners.some(i=>i.HasNext)?this._introBetweeners.forEach((i,s)=>{i.HasNext&&(t[s].position.y=i.Next)}):this.removeActiveEffect(Mt.Intro)}Flip(t){this._flipTarget=t,this._activeEffects.push(Mt.Flip)}animateFlip(){this._flipTarget.Flip()||this.removeActiveEffect(Mt.Flip)}removeActiveEffect(t){this._activeEffects.splice(this._activeEffects.findIndex(i=>i===t),1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,i){this.materialManager=t,this.effectsManager=i,this._piecePoints=[],this._verticalTargets=[],this._axle=[],this._boardLocking=!1,this._boardLocked=!1,this._pendingLevelChange=!1,this.LevelCompleted=new r.vpe,this._stack=new E.ZAu,this.initCoords()}get Axle(){return this._axle}get BoardLocked(){return this._boardLocked}InitShapes(t){t&&!this._scene&&(this._scene=t),this.dispose(),this.materialManager.InitMaterials();const i=1===E.M8C.randInt(1,3)?10:-10;this._verticalTargets.forEach(()=>{const s=new fn(i,this._piecePoints,this.materialManager.MaterialData);this._axle.push(s),this._stack.add(s)}),this._scene.add(this._stack),this.assignIterationValues(),this.effectsManager.BuildIntoAnimation(this._axle,this._verticalTargets,i)}UpdateShapes(){var t,i,s,l;this.effectsManager.UpdateEffects(this._axle),(null===(i=null===(t=this._activeWheel)||void 0===t?void 0:t.EaseBetweener)||void 0===i?void 0:i.HasNext)&&this._activeWheel.Rotate(null===(l=null===(s=this._activeWheel)||void 0===s?void 0:s.EaseBetweener)||void 0===l?void 0:l.Next),this._boardLocking&&(this.animateLock(this._boardLocking),this._boardLocked=!0),this._boardLocked&&this.animateRemoval()&&(this.animateLock(!1),this._boardLocked=!1,this._pendingLevelChange&&(this._pendingLevelChange=!1,this.LevelCompleted.next()))}SetActiveWheel(t){t&&(this._activeWheel=t)}SetMatches(t){this._matchPieces=t,this._matchPieces.forEach(i=>i.InitRemove())}LockBoard(t){this._boardLocking=t}SetLevelChange(){this._pendingLevelChange=!0}FlipGamePiece(t){this.effectsManager.Flip(t)}animateLock(t){this._axle.forEach(i=>{for(const s of i.children)s.IsMatch||s.LockPiece(t)})}animateRemoval(){const t=!this._matchPieces.some(i=>i.IsMatch);return t||this._matchPieces.forEach(i=>i.Remove()),t}assignIterationValues(){for(let t=0;t<this._axle.length;t++)0===t?(this._axle[t].Above=this._axle[t+1],this._axle[t].Below=void 0):t===this._axle.length-1?(this._axle[t].Above=void 0,this._axle[t].Below=this._axle[t-1]):(this._axle[t].Above=this._axle[t+1],this._axle[t].Below=this._axle[t-1])}initCoords(){for(let t=0;t<B.ZO;t+=B.Dj){const i=E.M8C.degToRad(t),s=B.i8*Math.cos(i),l=B.i8*Math.sin(i);this._piecePoints.push({polarCoords:new E.Pa4(s,0,l),rotationY:-1*i})}for(let t=-3;t<=3;t++)this._verticalTargets.push(t*B.EH)}dispose(){this._axle.length&&this._axle.forEach(t=>t.Dispose()),this._axle=[],this._stack.clear()}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Mi),r.LFG(Ti))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();var pn=S(9575),Dt=(()=>{return(n=Dt||(Dt={})).Up="Up",n.Down="Down",n.Next="Next",n.Prev="Prev",Dt;var n})();let ki=(()=>{class n{constructor(){this._matches=[]}FindMatches(t,i){for(const s of i)s.ResetIsMatch();return t.IsMatch=!0,this._matches=[t],this.directionalSearch(t),this._matches.length>=B.TT?this._matches:[]}directionalSearch(t){let i;for(const s in Dt){switch(i=void 0,s){case Dt.Next:i=this.matchNext(t);break;case Dt.Prev:i=this.matchPrev(t);break;case Dt.Up:i=this.matchAbove(t);break;case Dt.Down:i=this.matchBelow(t)}i&&(i.IsMatch=!0,this._matches.push(i),this.directionalSearch(i))}}matchNext(t){if(!t.Next.IsMatch&&!t.Next.IsRemoved&&t.Next.MatchKey===t.MatchKey)return t.Next}matchPrev(t){if(!t.Prev.IsMatch&&!t.Prev.IsRemoved&&t.Prev.MatchKey===t.MatchKey)return t.Prev}matchAbove(t){const i=t.parent;return i.Above?i.Above.children.find(l=>!l.IsMatch&&!l.IsRemoved&&l.MatchKey===t.MatchKey&&Math.abs(l.ThetaOffset-t.ThetaOffset)<B.Ng):void 0}matchBelow(t){const i=t.parent;return i.Below?i.Below.children.find(l=>!l.IsMatch&&!l.IsRemoved&&l.MatchKey===t.MatchKey&&Math.abs(l.ThetaOffset-t.ThetaOffset)<B.Ng):void 0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(){this._level=1,this._levelPieceCount=0,this._score=0,this._fastestMatchMs=Number.MAX_SAFE_INTEGER,this._moveCount=0,this._timestamp=Date.now()}get Level(){return this._level}get Score(){return this._score}get LevelProgress(){return this._levelPieceCount/(this._level*B.Ic)*100}get LevelStats(){return{fastestMatchMs:this._fastestMatchMs,moveCount:this._moveCount,pieceCount:this._levelPieceCount}}NextLevel(){this._level++,this._levelPieceCount=0,this._timestamp=Date.now()}UpdateScore(t){this._levelPieceCount+=t;const i=Date.now()-this._timestamp;i<this._fastestMatchMs&&(this._fastestMatchMs=i);let s=0;s=t*this._level,s+=Math.ceil(1e3/i*1e3),this._score+=s,this._timestamp=Date.now()}TickMoveCount(){this._moveCount+=1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(t,i,s){this.objectManager=t,this.gameEngine=i,this.scoringManager=s,this._x=0,this._panning=!1,this._rayCaster=new E.iMs,this._pointerPos=new E.FM8}InitInteractions(t){this._hammer=new Hammer(t),this._hammer.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),this._hammer.on("panstart",i=>{if(!this.objectManager.BoardLocked){const s=this.getPickedGamePiece(i.center.x,i.center.y);s&&!(null==s?void 0:s.IsRemoved)&&(this._activeWheel=s.parent,this.objectManager.SetActiveWheel(this._activeWheel))}}),this._hammer.on("pan",i=>{var s;this.objectManager.BoardLocked||(this._panning?this.deviceCordRotation(i.center.x):this._panning=!0,i.isFinal&&(this._panning=!1,null===(s=this._activeWheel)||void 0===s||s.SnapToGrid(),this._activeWheel=void 0,this.scoringManager.TickMoveCount()),this._x=i.center.x)}),this._hammer.on("press",i=>{if(!this.objectManager.BoardLocked){const s=this.getPickedGamePiece(i.center.x,i.center.y);if(s&&!(null==s?void 0:s.IsRemoved)){const l=this.gameEngine.FindMatches(s,this.objectManager.Axle);l.length&&(this.objectManager.LockBoard(!0),this.objectManager.SetMatches(l),this.scoringManager.UpdateScore(l.length),this.scoringManager.LevelProgress>=100&&this.objectManager.SetLevelChange())}}}),this._hammer.on("swipe",i=>{if(!this.objectManager.BoardLocked){const s=this.getPickedGamePiece(i.center.x,i.center.y-i.deltaY);s&&(s.InitFlip(i.direction===pn.DIRECTION_UP),this.objectManager.FlipGamePiece(s),this.scoringManager.TickMoveCount())}})}UpdateSize(t,i){this._canvasRect=t,this._camera=i}deviceCordRotation(t){this._activeWheel&&this._activeWheel.UpdateTheta(E.M8C.degToRad(t-this._x)*(B.AG/this._canvasRect.width)*-1)}getPickedGamePiece(t,i){const l=this._canvasRect.bottom-this._canvasRect.top;this._pointerPos.x=(t-this._canvasRect.left)/(this._canvasRect.right-this._canvasRect.left)*2-1,this._pointerPos.y=-(i-this._canvasRect.top)/l*2+1,this._rayCaster.setFromCamera(this._pointerPos,this._camera);const h=this._rayCaster.intersectObjects(this.objectManager.Axle);if(h.length){const p=h[0].object;return p.parent instanceof Ei?p.parent:p}}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Ne),r.LFG(ki),r.LFG($e))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})(),Je=(()=>{class n{constructor(t,i){this.objectManager=t,this.interactionManager=i,this._width=0,this._height=0}get scene(){return this._scene}InitScene(){this._scene||(this._scene=new E.xsS,this._scene.background=new E.Ilk(252645135),this._pointLight=new E.cek(16777215,1),this._scene.add(this._pointLight),this.objectManager.InitShapes(this._scene))}UpdateSize(t){var i;this._width=t.width,this._height=t.height;const s=this._width/this._height;this._camera?(this._camera.aspect=s,this._camera.updateProjectionMatrix(),this._pointLight.position.copy(this._camera.position)):(this._camera=new E.cPb(45,s,1,25),this._camera.position.set(0,0,5),null===(i=this._pointLight)||void 0===i||i.position.copy(this._camera.position)),this._renderer&&this._renderer.setSize(this._width,this._height,!1),this.interactionManager.UpdateSize(t,this._camera)}InitRenderer(t){t&&(this._renderer=new E.CP7({canvas:t,antialias:!0})),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}RenderScene(){var t;null===(t=this._renderer)||void 0===t||t.render(this._scene,this._camera)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(Ne),r.LFG(Qe))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac}),n})();const gn=["mainCanvas"];let mn=(()=>{class n{constructor(t,i){this.sceneManager=t,this.interactionManager=i,this._initialRectCalculated=!1}onResize(){var t;this.sceneManager.UpdateSize(null===(t=this.canvas)||void 0===t?void 0:t.nativeElement.getBoundingClientRect())}ngAfterContentChecked(){var t;if(!this._initialRectCalculated){const i=null===(t=this.canvas)||void 0===t?void 0:t.nativeElement.getBoundingClientRect();i&&(this.sceneManager.UpdateSize(i),this._initialRectCalculated=!0)}}ngAfterViewInit(){var t;const i=null===(t=this.canvas)||void 0===t?void 0:t.nativeElement;i&&(this.sceneManager.InitRenderer(i),this.interactionManager.InitInteractions(i))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(Je),r.Y36(Qe))},n.\u0275cmp=r.Xpm({type:n,selectors:[["wgl-canvas"]],viewQuery:function(t,i){if(1&t&&r.Gf(gn,5),2&t){let s;r.iGM(s=r.CRH())&&(i.canvas=s.first)}},hostBindings:function(t,i){1&t&&r.NdJ("resize",function(){return i.onResize()},!1,r.Jf7)},decls:2,vars:0,consts:[[1,"main-canvas"],["mainCanvas",""]],template:function(t,i){1&t&&r._UZ(0,"canvas",0,1)},styles:[".main-canvas[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"]}),n})();function _n(n,e){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const t=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.uIk("r",t._getCircleRadius())}}function vn(n,e){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const t=r.oxw();r.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.uIk("r",t._getCircleRadius())}}function yn(n,e){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const t=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.uIk("r",t._getCircleRadius())}}function bn(n,e){if(1&n&&(r.O4$(),r._UZ(0,"circle",3)),2&n){const t=r.oxw();r.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),r.uIk("r",t._getCircleRadius())}}const Sn=(0,L.pj)(class{constructor(n){this._elementRef=n}},"primary"),Oi=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Tt extends Sn{constructor(e,t,i,s,l){super(e),this._document=i,this._diameter=100,this._value=0,this.mode="determinate";const h=Tt._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(i.head)||h.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=(0,D.su)(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=(0,D.su)(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,(0,D.su)(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=(0,I.kV)(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Tt._diameters;let s=i.get(e);if(!s||!s.has(t)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),e.appendChild(l),s||(s=new Set,i.set(e,s)),s.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Tt._diameters=new WeakMap,Tt.\u0275fac=function(e){return new(e||Tt)(r.Y36(r.SBq),r.Y36(I.t4),r.Y36(R.K0,8),r.Y36(Le.Qb,8),r.Y36(Oi))},Tt.\u0275cmp=r.Xpm({type:Tt,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(r.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),r.Udp("width",t.diameter,"px")("height",t.diameter,"px"),r.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,_n,1,9,"circle",1),r.YNc(2,vn,1,7,"circle",2),r.qZA()),2&e&&(r.Udp("width",t.diameter,"px")("height",t.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===t.mode),r.uIk("viewBox",t._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[R.RF,R.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Mn=(()=>{class n extends Tt{constructor(t,i,s,l,h){super(t,i,s,l,h),this.mode="indeterminate"}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(I.t4),r.Y36(R.K0,8),r.Y36(Le.Qb,8),r.Y36(Oi))},n.\u0275cmp=r.Xpm({type:n,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,i){2&t&&(r.Udp("width",i.diameter,"px")("height",i.diameter,"px"),r.ekj("_mat-animation-noopable",i._noopAnimations))},inputs:{color:"color"},features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,i){1&t&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,yn,1,9,"circle",1),r.YNc(2,bn,1,7,"circle",2),r.qZA()),2&t&&(r.Udp("width",i.diameter,"px")("height",i.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===i.mode),r.uIk("viewBox",i._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[R.RF,R.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),n})(),Tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[L.BQ,R.ez],L.BQ]}),n})();const kn=[{path:"",component:(()=>{class n{constructor(t,i,s,l,h,p){this.ngZone=t,this.dialog=i,this.sceneManager=s,this.objectManager=l,this.textureManager=h,this.scoringManager=p}ngOnInit(){const t=this.preloadTextures();this.dialog.open(xi,{maxWidth:"25em",disableClose:!0,data:{score:this.scoringManager.Score,stats:this.scoringManager.LevelStats,materialType:t}}).afterClosed().subscribe(()=>{this.sceneManager.InitScene(),this.animate()}),this.objectManager.LevelCompleted.subscribe(()=>{const s=this.preloadTextures();this.dialog.open(xi,{maxWidth:"25em",disableClose:!0,data:{score:this.scoringManager.Score,stats:this.scoringManager.LevelStats,materialType:s}}).afterClosed().subscribe(()=>{this.scoringManager.NextLevel(),this.objectManager.InitShapes()})})}preloadTextures(){const t=E.M8C.randInt(1,3);return this.textureManager.InitLevelTextures(t),t}animate(){this.objectManager.UpdateShapes(),this.ngZone.runOutsideAngular(()=>{this.sceneManager.RenderScene()}),requestAnimationFrame(()=>{this.animate()})}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.R0b),r.Y36(Ke),r.Y36(Je),r.Y36(Ne),r.Y36(Fe),r.Y36($e))},n.\u0275cmp=r.Xpm({type:n,selectors:[["wgl-game-container"]],decls:15,vars:10,consts:[[1,"game-container"],[1,"game-scoring"],[1,"game-canvas"],[1,"level-progress"],[1,"progress-horizontal",3,"value"],[1,"progress-spinner"],["mode","determinate",3,"value"]],template:function(t,i){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"p"),r._uU(3),r.ALo(4,"number"),r.qZA(),r.TgZ(5,"p"),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"wgl-canvas",2),r.TgZ(8,"div",3),r._UZ(9,"mat-progress-bar",4),r.TgZ(10,"div",5),r._UZ(11,"mat-spinner",6),r.TgZ(12,"div"),r._uU(13),r.ALo(14,"number"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.hij("Score: ",r.lcZ(4,5,i.scoringManager.Score),""),r.xp6(3),r.hij("Level: ",i.scoringManager.Level,""),r.xp6(3),r.s9C("value",i.scoringManager.LevelProgress),r.xp6(2),r.s9C("value",i.scoringManager.LevelProgress),r.xp6(2),r.hij("",r.xi3(14,7,i.scoringManager.LevelProgress,"1.0-0"),"% Complete"))},directives:[mn,wi,Mn],pipes:[R.JJ],styles:[".game-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:none}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]{flex-direction:row}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{text-align:right;flex-direction:column;justify-content:start;flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:45em;flex:unset}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 4/5){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:35em}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 5/3){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:30%}}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:block}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-horizontal[_ngcontent-%COMP%]{display:none}}"]}),n})()}];let On=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[R.ez,j.Bz.forChild(kn)]]}),n})(),Rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({providers:[Je,Mi,Fe,Ne,Qe,ki,$e,Ti],imports:[[R.ez,On,nn,Tn,qi,Ci.ot]]}),n})()}}]);