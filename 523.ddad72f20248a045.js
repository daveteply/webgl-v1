(self.webpackChunkwebgl_v1=self.webpackChunkwebgl_v1||[]).push([[523],{4646:function(oe,ye,k){var U;oe=k.nmd(oe),function(){var n,S=[].slice;n=function(){var b,Q,Ce,pe,K;for(K=Array.isArray||function(h){return"[object Array]"==={}.toString.call(h)},I.SCHEMES={},Q=0,Ce=(pe="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;Q<Ce;Q++)I.SCHEMES[pe[Q]]=!0;function I(){var h,d;for(h=[],d=1;d<=4;d++)h.push(new I.mutablecolor(60));this.col=h,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return I.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},I.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},I.prototype.colors=function(){var h,d,m,v,_,C,T,g,M,y;if(M=1,d=this.col[0].get_hue(),(h={mono:function(){},contrast:(y=this,function(){return M=2,y.col[1].set_hue(d),y.col[1].rotate(180)}),triade:function(y){return function(){var A;return M=3,A=60*y._distance,y.col[1].set_hue(d),y.col[1].rotate(180-A),y.col[2].set_hue(d),y.col[2].rotate(180+A)}}(this),tetrade:function(y){return function(){var A;return M=4,A=90*y._distance,y.col[1].set_hue(d),y.col[1].rotate(180),y.col[2].set_hue(d),y.col[2].rotate(180+A),y.col[3].set_hue(d),y.col[3].rotate(A)}}(this),analogic:function(y){return function(){var A;return M=y._add_complement?4:3,A=60*y._distance,y.col[1].set_hue(d),y.col[1].rotate(A),y.col[2].set_hue(d),y.col[2].rotate(360-A),y.col[3].set_hue(d),y.col[3].rotate(180)}}(this)}).monochromatic=h.mono,null==h[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(h[this._scheme](),T=[],m=_=0,g=M-1;0<=g?_<=g:_>=g;m=0<=g?++_:--_)for(v=C=0;C<=3;v=++C)T[4*m+v]=this.col[m].get_hex(this._web_safe,v);return T},I.prototype.colorset=function(){var h,d;for(h=b(this.colors()),d=[];h.length>0;)d.push(h.splice(0,4));return d},I.prototype.from_hue=function(h){if(null==h)throw"from_hue needs an argument";return this.col[0].set_hue(h),this},I.prototype.rgb2ryb=function(){var h,d,m,v,_,C,T,g,M;return null!=(T=1<=arguments.length?S.call(arguments,0):[])[0]&&K(T[0])&&(T=T[0]),C=T[0],d=T[1],h=T[2],C-=g=Math.min(C,d,h),d-=g,h-=g,v=Math.max(C,d,h),C-=M=Math.min(C,d),d-=M,h>0&&d>0&&(h/=2,d/=2),M+=d,h+=d,(_=Math.max(C,M,h))>0&&(C*=m=v/_,M*=m,h*=m),C+=g,M+=g,h+=g,[Math.floor(C),Math.floor(M),Math.floor(h)]},I.prototype.rgb2hsv=function(){var h,d,m,v,_,C,T,g,y;return null!=(g=1<=arguments.length?S.call(arguments,0):[])[0]&&K(g[0])&&(g=g[0]),T=g[0],m=g[1],h=g[2],T/=255,m/=255,h/=255,C=Math.min.apply(Math,[T,m,h]),y=_=Math.max.apply(Math,[T,m,h]),(d=_-C)>0?(v=T===_?(m-h)/d:m===_?2+(h-T)/d:4+(T-m)/d,v*=60,[v%=360,d/_,y]):[0,0,y]},I.prototype.rgbToHsv=function(){var h,d,m,v,_,C,T,g,M,y;if(null!=(g=1<=arguments.length?S.call(arguments,0):[])[0]&&K(g[0])&&(g=g[0]),T=g[0],m=g[1],h=g[2],T/=255,m/=255,h/=255,v=void 0,M=void 0,y=_=Math.max(T,m,h),d=_-(C=Math.min(T,m,h)),M=0===_?0:d/_,_===C)v=0;else{switch(_){case T:v=(m-h)/d+(m<h?6:0);break;case m:v=(h-T)/d+2;break;case h:v=(T-m)/d+4}v/=6}return[v,M,y]},I.prototype.from_hex=function(h){var g,D,B,F,N,H;if(null==h)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(h))throw"from_hex("+h+") - argument must be in the form of RRGGBB";return F=/(..)(..)(..)/.exec(h).slice(1,4),D=function(){var $,Z,L;for(L=[],Z=0,$=F.length;Z<$;Z++)L.push(parseInt(F[Z],16));return L}(),B=this.rgb2ryb([D[0],D[1],D[2]]),N=(g=this.rgbToHsv(B[0],B[1],B[2]))[1],H=g[2],this.from_hue(360*g[0]),this._set_variant_preset([N,H,N,.7*H,.25*N,1,.5*N,1]),this},I.prototype.add_complement=function(h){if(null==h)throw"add_complement needs an argument";return this._add_complement=h,this},I.prototype.web_safe=function(h){if(null==h)throw"web_safe needs an argument";return this._web_safe=h,this},I.prototype.distance=function(h){if(null==h)throw"distance needs an argument";if(h<0)throw"distance("+h+") - argument must be >= 0";if(h>1)throw"distance("+h+") - argument must be <= 1";return this._distance=h,this},I.prototype.scheme=function(h){if(null==h)return this._scheme;if(null==I.SCHEMES[h])throw"'"+h+"' isn't a valid scheme name";return this._scheme=h,this},I.prototype.variation=function(h){if(null==h)throw"variation needs an argument";if(null==I.PRESETS[h])throw"'$v' isn't a valid variation name";return this._set_variant_preset(I.PRESETS[h]),this},I.prototype._set_variant_preset=function(h){var d,m,v;for(v=[],d=m=0;m<=3;d=++m)v.push(this.col[d].set_variant_preset(h));return v},b=function(h){var d,m,v;if(null==h||"object"!=typeof h)return h;if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp)return d="",null!=h.global&&(d+="g"),null!=h.ignoreCase&&(d+="i"),null!=h.multiline&&(d+="m"),null!=h.sticky&&(d+="y"),new RegExp(h.source,d);for(m in v=new h.constructor,h)v[m]=b(h[m]);return v},I.mutablecolor=function(){function h(d){if(null==d)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(d),this.set_variant_preset(I.PRESETS.default)}return h.prototype.hue=0,h.prototype.saturation=[],h.prototype.value=[],h.prototype.base_red=0,h.prototype.base_green=0,h.prototype.base_saturation=0,h.prototype.base_value=0,h.prototype.get_hue=function(){return this.hue},h.prototype.set_hue=function(d){var m,v,_,C,T,g,M,y,A,w;for(v in m=function(D,B,F){return D+Math.round((B-D)*F)},this.hue=Math.round(d%360),w=(T=this.hue%15+(this.hue-Math.floor(this.hue)))/15,M=(15+(g=this.hue-Math.floor(T)))%360,360===g&&(g=0),360===M&&(M=0),_=I.COLOR_WHEEL[g],C=I.COLOR_WHEEL[M],y={red:0,green:1,blue:2,value:3})this["base_"+v]=m(_[A=y[v]],C[A],w);return this.base_saturation=m(100,100,w)/100,this.base_value/=100},h.prototype.rotate=function(d){return this.set_hue((this.hue+d)%360)},h.prototype.get_saturation=function(d){var m,v;return(m=(v=this.saturation[d])<0?-v*this.base_saturation:v)>1&&(m=1),m<0&&(m=0),m},h.prototype.get_value=function(d){var m,v;return(m=(v=this.value[d])<0?-v*this.base_value:v)>1&&(m=1),m<0&&(m=0),m},h.prototype.set_variant=function(d,m,v){return this.saturation[d]=m,this.value[d]=v},h.prototype.set_variant_preset=function(d){var m,v,_;for(_=[],m=v=0;v<=3;m=++v)_.push(this.set_variant(m,d[2*m],d[2*m+1]));return _},h.prototype.get_hex=function(d,m){var _,C,g,M,y,A,w,B,F,N,H,$,Z,L;for(w=Math.max.apply(Math,function(){var J,X,z,ne;for(ne=[],X=0,J=(z=["red","green","blue"]).length;X<J;X++)ne.push(this["base_"+(_=z[X])]);return ne}.call(this)),Math.min.apply(Math,function(){var J,X,z,ne;for(ne=[],X=0,J=(z=["red","green","blue"]).length;X<J;X++)ne.push(this["base_"+(_=z[X])]);return ne}.call(this)),L=255*(m<0?this.base_value:this.get_value(m)),$=m<0?this.base_saturation:this.get_saturation(m),g=w>0?L/w:0,N=[],A=0,M=(F=["red","green","blue"]).length;A<M;A++)_=F[A],H=Math.min.apply(Math,[255,Math.round(L-(L-this["base_"+_]*g)*$)]),N.push(H);for(d&&(N=function(){var J,X,z;for(z=[],X=0,J=N.length;X<J;X++)z.push(51*Math.round(N[X]/51));return z}()),C="",B=0,y=N.length;B<y;B++)(Z=N[B].toString(16)).length<2&&(Z="0"+Z),C+=Z;return C},h}(),I}(),null!==oe&&null!=oe.exports?oe.exports=n:void 0!==(U=function(){return n}.apply(ye,[]))&&(oe.exports=U)}.call(this)},9575:(oe,ye,k)=>{var R;!function(U,n,S,b){"use strict";var _,Q=["","webkit","Moz","MS","ms","o"],Ce=n.createElement("div"),K=Math.round,ie=Math.abs,I=Date.now;function h(e,t,i){return setTimeout(M(e,i),t)}function d(e,t,i){return!!Array.isArray(e)&&(m(e,i[t],i),!0)}function m(e,t,i){var o;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==b)for(o=0;o<e.length;)t.call(i,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e)}function v(e,t,i){var o="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var f=new Error("get-stack-trace"),p=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",E=U.console&&(U.console.warn||U.console.log);return E&&E.call(U.console,o,p),e.apply(this,arguments)}}_="function"!=typeof Object.assign?function(t){if(t===b||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var f=arguments[o];if(f!==b&&null!==f)for(var p in f)f.hasOwnProperty(p)&&(i[p]=f[p])}return i}:Object.assign;var C=v(function(t,i,o){for(var f=Object.keys(i),p=0;p<f.length;)(!o||o&&t[f[p]]===b)&&(t[f[p]]=i[f[p]]),p++;return t},"extend","Use `assign`."),T=v(function(t,i){return C(t,i,!0)},"merge","Use `assign`.");function g(e,t,i){var f,o=t.prototype;(f=e.prototype=Object.create(o)).constructor=e,f._super=o,i&&_(f,i)}function M(e,t){return function(){return e.apply(t,arguments)}}function y(e,t){return"function"==typeof e?e.apply(t&&t[0]||b,t):e}function A(e,t){return e===b?t:e}function w(e,t,i){m(N(t),function(o){e.addEventListener(o,i,!1)})}function D(e,t,i){m(N(t),function(o){e.removeEventListener(o,i,!1)})}function B(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function F(e,t){return e.indexOf(t)>-1}function N(e){return e.trim().split(/\s+/g)}function H(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var o=0;o<e.length;){if(i&&e[o][i]==t||!i&&e[o]===t)return o;o++}return-1}function $(e){return Array.prototype.slice.call(e,0)}function Z(e,t,i){for(var o=[],f=[],p=0;p<e.length;){var E=t?e[p][t]:e[p];H(f,E)<0&&o.push(e[p]),f[p]=E,p++}return i&&(o=t?o.sort(function(G,j){return G[t]>j[t]}):o.sort()),o}function L(e,t){for(var i,o,f=t[0].toUpperCase()+t.slice(1),p=0;p<Q.length;){if((o=(i=Q[p])?i+f:t)in e)return o;p++}return b}var J=1;function z(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||U}var xe="ontouchstart"in U,Le=L(U,"PointerEvent")!==b,je=xe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Te="touch",ke="mouse",De=["x","y"],ve=["clientX","clientY"];function q(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(o){y(e.options.enable,[e])&&i.handler(o)},this.init()}function Fe(e,t,i){var o=i.pointers.length,f=i.changedPointers.length,p=1&t&&o-f==0,E=12&t&&o-f==0;i.isFirst=!!p,i.isFinal=!!E,p&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,o=t.pointers,f=o.length;i.firstInput||(i.firstInput=Be(t)),f>1&&!i.firstMultiple?i.firstMultiple=Be(t):1===f&&(i.firstMultiple=!1);var p=i.firstInput,E=i.firstMultiple,Y=E?E.center:p.center,G=t.center=Xe(o);t.timeStamp=I(),t.deltaTime=t.timeStamp-p.timeStamp,t.angle=we(Y,G),t.distance=Ae(Y,G),function(e,t){var i=t.center,o=e.offsetDelta||{},f=e.prevDelta||{},p=e.prevInput||{};(1===t.eventType||4===p.eventType)&&(f=e.prevDelta={x:p.deltaX||0,y:p.deltaY||0},o=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=f.x+(i.x-o.x),t.deltaY=f.y+(i.y-o.y)}(i,t),t.offsetDirection=Ye(t.deltaX,t.deltaY);var j=tt(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=j.x,t.overallVelocityY=j.y,t.overallVelocity=ie(j.x)>ie(j.y)?j.x:j.y,t.scale=E?function(e,t){return Ae(t[0],t[1],ve)/Ae(e[0],e[1],ve)}(E.pointers,o):1,t.rotation=E?function(e,t){return we(t[1],t[0],ve)+we(e[1],e[0],ve)}(E.pointers,o):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var f,p,E,Y,i=e.lastInterval||t,o=t.timeStamp-i.timeStamp;if(8!=t.eventType&&(o>25||i.velocity===b)){var G=t.deltaX-i.deltaX,j=t.deltaY-i.deltaY,he=tt(o,G,j);p=he.x,E=he.y,f=ie(he.x)>ie(he.y)?he.x:he.y,Y=Ye(G,j),e.lastInterval=t}else f=i.velocity,p=i.velocityX,E=i.velocityY,Y=i.direction;t.velocity=f,t.velocityX=p,t.velocityY=E,t.direction=Y}(i,t);var he=e.element;B(t.srcEvent.target,he)&&(he=t.srcEvent.target),t.target=he}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function Be(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:K(e.pointers[i].clientX),clientY:K(e.pointers[i].clientY)},i++;return{timeStamp:I(),pointers:t,center:Xe(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Xe(e){var t=e.length;if(1===t)return{x:K(e[0].clientX),y:K(e[0].clientY)};for(var i=0,o=0,f=0;f<t;)i+=e[f].clientX,o+=e[f].clientY,f++;return{x:K(i/t),y:K(o/t)}}function tt(e,t,i){return{x:t/e||0,y:i/e||0}}function Ye(e,t){return e===t?1:ie(e)>=ie(t)?e<0?2:4:t<0?8:16}function Ae(e,t,i){i||(i=De);var o=t[i[0]]-e[i[0]],f=t[i[1]]-e[i[1]];return Math.sqrt(o*o+f*f)}function we(e,t,i){return i||(i=De),180*Math.atan2(t[i[1]]-e[i[1]],t[i[0]]-e[i[0]])/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(z(this.element),this.evWin,this.domHandler)}};var r={mousedown:1,mousemove:2,mouseup:4},s="mousedown",l="mousemove mouseup";function u(){this.evEl=s,this.evWin=l,this.pressed=!1,q.apply(this,arguments)}g(u,q,{handler:function(t){var i=r[t.type];1&i&&0===t.button&&(this.pressed=!0),2&i&&1!==t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:ke,srcEvent:t}))}});var x={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},P={2:Te,3:"pen",4:ke,5:"kinect"},te="pointerdown",ft="pointermove pointerup pointercancel";function rt(){this.evEl=te,this.evWin=ft,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}U.MSPointerEvent&&!U.PointerEvent&&(te="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),g(rt,q,{handler:function(t){var i=this.store,o=!1,f=t.type.toLowerCase().replace("ms",""),p=x[f],E=P[t.pointerType]||t.pointerType,Y=E==Te,G=H(i,t.pointerId,"pointerId");1&p&&(0===t.button||Y)?G<0&&(i.push(t),G=i.length-1):12&p&&(o=!0),!(G<0)&&(i[G]=t,this.callback(this.manager,p,{pointers:i,changedPointers:[t],pointerType:E,srcEvent:t}),o&&i.splice(G,1))}});var Et={touchstart:1,touchmove:2,touchend:4,touchcancel:8},St="touchstart",Ct="touchstart touchmove touchend touchcancel";function ut(){this.evTarget=St,this.evWin=Ct,this.started=!1,q.apply(this,arguments)}function xt(e,t){var i=$(e.touches),o=$(e.changedTouches);return 12&t&&(i=Z(i.concat(o),"identifier",!0)),[i,o]}g(ut,q,{handler:function(t){var i=Et[t.type];if(1===i&&(this.started=!0),this.started){var o=xt.call(this,t,i);12&i&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:Te,srcEvent:t})}}});var It={touchstart:1,touchmove:2,touchend:4,touchcancel:8},At="touchstart touchmove touchend touchcancel";function Ve(){this.evTarget=At,this.targetIds={},q.apply(this,arguments)}function Pt(e,t){var i=$(e.touches),o=this.targetIds;if(3&t&&1===i.length)return o[i[0].identifier]=!0,[i,i];var f,p,E=$(e.changedTouches),Y=[],G=this.target;if(p=i.filter(function(j){return B(j.target,G)}),1===t)for(f=0;f<p.length;)o[p[f].identifier]=!0,f++;for(f=0;f<E.length;)o[E[f].identifier]&&Y.push(E[f]),12&t&&delete o[E[f].identifier],f++;return Y.length?[Z(p.concat(Y),"identifier",!0),Y]:void 0}function it(){q.apply(this,arguments);var e=M(this.handler,this);this.touch=new Ve(this.manager,e),this.mouse=new u(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function wt(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,dt.call(this,t)):12&e&&dt.call(this,t)}function dt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var o=this.lastTouches;setTimeout(function(){var p=o.indexOf(i);p>-1&&o.splice(p,1)},2500)}}function Ot(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var f=this.lastTouches[o],p=Math.abs(t-f.x),E=Math.abs(i-f.y);if(p<=25&&E<=25)return!0}return!1}g(Ve,q,{handler:function(t){var i=It[t.type],o=Pt.call(this,t,i);!o||this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:Te,srcEvent:t})}}),g(it,q,{handler:function(t,i,o){var p=o.pointerType==ke;if(!(p&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)){if(o.pointerType==Te)wt.call(this,i,o);else if(p&&Ot.call(this,o))return;this.callback(t,i,o)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pt=L(Ce.style,"touchAction"),gt=pt!==b,vt="compute",nt="manipulation",Ee="none",Oe="pan-x",Re="pan-y",Ge=function(){if(!gt)return!1;var e={},t=U.CSS&&U.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!t||U.CSS.supports("touch-action",i)}),e}();function st(e,t){this.manager=e,this.set(t)}function de(e){this.options=_({},this.defaults,e||{}),this.id=J++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Tt(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ze(e,t){var i=t.manager;return i?i.get(e):e}function ae(){de.apply(this,arguments)}function We(){ae.apply(this,arguments),this.pX=null,this.pY=null}function at(){ae.apply(this,arguments)}function ot(){de.apply(this,arguments),this._timer=null,this._input=null}function ct(){ae.apply(this,arguments)}function ht(){ae.apply(this,arguments)}function Ze(){de.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Se(e,t){return(t=t||{}).recognizers=A(t.recognizers,Se.defaults.preset),new lt(e,t)}function lt(e,t){this.options=_({},Se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(Le?rt:je?Ve:xe?it:u))(e,Fe)}(this),this.touchAction=new st(this,this.options.touchAction),Mt(this,!0),m(this.options.recognizers,function(i){var o=this.add(new i[0](i[1]));i[2]&&o.recognizeWith(i[2]),i[3]&&o.requireFailure(i[3])},this)}function Mt(e,t){var o,i=e.element;i.style&&(m(e.options.cssProps,function(f,p){o=L(i.style,p),t?(e.oldCssProps[o]=i.style[o],i.style[o]=f):i.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={}))}st.prototype={set:function(e){e==vt&&(e=this.compute()),gt&&this.manager.element.style&&Ge[e]&&(this.manager.element.style[pt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(F(e,Ee))return Ee;var t=F(e,Oe),i=F(e,Re);return t&&i?Ee:t||i?t?Oe:Re:F(e,nt)?nt:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,f=F(o,Ee)&&!Ge[Ee],p=F(o,Re)&&!Ge[Re],E=F(o,Oe)&&!Ge[Oe];if(f&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return E&&p||!(f||p&&6&i||E&&24&i)?void 0:this.preventSrc(t)}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},de.prototype={defaults:{},set:function(e){return _(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ze(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)||(e=ze(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var t=this.requireFail;return-1===H(t,e=ze(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=ze(e,this);var t=H(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function o(f){t.manager.emit(f,e)}i<8&&o(t.options.event+yt(i)),o(t.options.event),e.additionalEvent&&o(e.additionalEvent),i>=8&&o(t.options.event+yt(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=_({},e);if(!y(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},g(ae,de,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,o=6&t,f=this.attrTest(e);return o&&(8&i||!f)?16|t:o||f?4&i?8|t:2&t?4|t:2:32}}),g(We,ae,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Re),24&e&&t.push(Oe),t},directionTest:function(e){var t=this.options,i=!0,o=e.distance,f=e.direction,p=e.deltaX,E=e.deltaY;return f&t.direction||(6&t.direction?(f=0===p?1:p<0?2:4,i=p!=this.pX,o=Math.abs(e.deltaX)):(f=0===E?1:E<0?8:16,i=E!=this.pY,o=Math.abs(e.deltaY))),e.direction=f,i&&o>t.threshold&&f&t.direction},attrTest:function(e){return ae.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Tt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),g(at,ae,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),g(ot,de,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime>t.time;if(this._input=e,!o||!i||12&e.eventType&&!f)this.reset();else if(1&e.eventType)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=I(),this.manager.emit(this.options.event,this._input)))}}),g(ct,ae,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),g(ht,ae,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return We.prototype.getTouchAction.call(this)},attrTest:function(e){var i,t=this.options.direction;return 30&t?i=e.overallVelocity:6&t?i=e.overallVelocityX:24&t&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ie(i)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Tt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),g(Ze,de,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[nt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(o&&f&&i){if(4!=e.eventType)return this.failTimeout();var p=!this.pTime||e.timeStamp-this.pTime<t.interval,E=!this.pCenter||Ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,E&&p?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Se.VERSION="2.0.7",Se.defaults={domEvents:!1,touchAction:vt,enable:!0,inputTarget:null,inputClass:null,preset:[[ct,{enable:!1}],[at,{enable:!1},["rotate"]],[ht,{direction:6}],[We,{direction:6},["swipe"]],[Ze],[Ze,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lt.prototype={set:function(e){return _(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,o=this.recognizers,f=t.curRecognizer;(!f||f&&8&f.state)&&(f=t.curRecognizer=null);for(var p=0;p<o.length;)i=o[p],2===t.stopped||f&&i!=f&&!i.canRecognizeWith(f)?i.reset():i.recognize(e),!f&&14&i.state&&(f=t.curRecognizer=i),p++}},get:function(e){if(e instanceof de)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(d(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=H(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==b&&t!==b){var i=this.handlers;return m(N(e),function(o){i[o]=i[o]||[],i[o].push(t)}),this}},off:function(e,t){if(e!==b){var i=this.handlers;return m(N(e),function(o){t?i[o]&&i[o].splice(H(i[o],t),1):delete i[o]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](t),o++}},destroy:function(){this.element&&Mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(Se,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:lt,Input:q,TouchAction:st,TouchInput:Ve,MouseInput:u,PointerEventInput:rt,TouchMouseInput:it,SingleTouchInput:ut,Recognizer:de,AttrRecognizer:ae,Tap:Ze,Pan:We,Swipe:ht,Pinch:at,Rotate:ct,Press:ot,on:w,off:D,each:m,merge:T,extend:C,assign:_,inherit:g,bindFn:M,prefixed:L}),(void 0!==U?U:"undefined"!=typeof self?self:{}).Hammer=Se,(R=function(){return Se}.call(ye,k,ye,oe))!==b&&(oe.exports=R)}(window,document)},1523:(oe,ye,k)=>{"use strict";k.r(ye),k.d(ye,{GameModule:()=>we});var R=k(6019),U=k(7286),n=k(3556),S=k(3838),b=k(2620);class Q{constructor(c,r,s){this._steps=[],this._iterator=0;const l=1/s;for(let u=l;u<=l*s;u+=l)this._steps.push(S.M8C.lerp(c,r,u));this._steps[s-1]=r}get HasNext(){return this._iterator!==this._steps.length}get Next(){return this._steps[this._iterator++]}}class Ce{constructor(c){this._iterator=0,this._limit=c,this._opacityRate=1/c,this._velocity=S.M8C.randFloat(.02,.4),this._tumble=new S.FM8(S.M8C.randFloat(-.05,.05),S.M8C.randFloat(-.05,.05))}Next(){this._iterator++}get HasNext(){return this._iterator!==this._limit}get OpacityRate(){return this._opacityRate}get Velocity(){return this._velocity}get Tumble(){return this._tumble}}class pe extends S.Tme{constructor(c,r,s,l,u){var x;super(),this._innerMaterials=[],this._matchKeySequence=[1,2,0,3],this.IsMatch=!1,this._isRemoved=!1,this.position.set(c,r,s),this.rotateY(l),this._innerGeometry=new S.nvb(1,1,1,4,4,4),this.initMaterials(u),this._mesh=new S.Kj0(this._innerGeometry,this._innerMaterials.map(P=>P.material)),this.add(this._mesh),this._thetaStart=Math.abs(l),this._thetaOffset=this._thetaStart,this._matchKey=null===(x=this._innerMaterials[this._matchKeySequence[0]])||void 0===x?void 0:x.matchKey}get IsRemoved(){return this._isRemoved}set ThetaOffset(c){this._thetaOffset=this.mod(this._thetaStart-c,b.uo)}get ThetaOffset(){return this._thetaOffset}get MatchKey(){return this._matchKey}LockPiece(c){this._isRemoved||this._innerMaterials.forEach(r=>r.material.opacity=c?.4:1)}InitRemove(){this._pieceRemoval=new Ce(S.M8C.randInt(30,60))}Remove(){this._pieceRemoval.HasNext?(this._innerMaterials.forEach(c=>c.material.opacity-=this._pieceRemoval.OpacityRate),this._mesh.translateX(this._pieceRemoval.Velocity),this._mesh.rotateX(this._pieceRemoval.Tumble.x),this._mesh.rotateZ(this._pieceRemoval.Tumble.y),this._pieceRemoval.Next()):(this.IsMatch=!1,this._isRemoved=!0)}InitFlip(c){this._flipBetweener=new Q(this.rotation.z,this.rotation.z+b.tz*(c?-1:1),15),this._matchKeySequence=this._matchKeySequence.concat(this._matchKeySequence.splice(0,c?this._matchKeySequence.length-1:1)),this._matchKey=this._innerMaterials[this._matchKeySequence[0]].matchKey}Flip(){return this._flipBetweener.HasNext&&(this.rotation.z=this._flipBetweener.Next),this._flipBetweener.HasNext}Dispose(){this._innerMaterials.forEach(c=>c.material.dispose()),this._innerGeometry.dispose()}initMaterials(c){if(c.length)for(let r=0;r<6;r++){const s=c[Math.floor(Math.random()*c.length)];this._innerMaterials.push({materialColorHex:s.materialColorHex,material:s.material.clone(),matchKey:s.matchKey})}}mod(c,r){return(c%r+r)%r}}class K extends S.Tme{constructor(c,r,s){super(),this._theta=0,this.position.y=c,r.forEach(l=>{const u=new pe(l.polarCoords.x,0,l.polarCoords.z,l.rotationY,s);this.add(u)});for(let l=0;l<this.children.length;l++){const u=this.children[l];0===l?(u.Prev=this.children[this.children.length-1],u.Next=this.children[l+1]):l===this.children.length-1?(u.Prev=this.children[l-1],u.Next=this.children[0]):(u.Prev=this.children[l-1],u.Next=this.children[l+1])}}set Above(c){this._wheelAbove=c}get Above(){return this._wheelAbove}set Below(c){this._wheelBelow=c}get Below(){return this._wheelBelow}get EaseBetweener(){return this._betweener}Rotate(c){this.rotation.y=c}UpdateTheta(c){this._theta+=c,Math.abs(this._theta)>=b.uo&&(this._theta=0),this.Rotate(this._theta)}SnapToGrid(){const c=Math.ceil(this._theta/b.oE),r=Math.abs(this._theta-c*b.oE),s=Math.abs(this._theta-(c-1)*b.oE),l=this._theta;r<s?this._theta+=r:this._theta-=s,this._betweener=new Q(l,this._theta,10);for(const u of this.children)u.ThetaOffset=this._theta}ResetIsMatch(){for(const c of this.children)c.IsMatch=!1}Dispose(){for(const c of this.children)c.Dispose()}}k(4646);let I=(()=>{class a{constructor(r){this.document=r,this._currentMaterials=[],this._textures=[],this._bumpMaps=["assets/maps-bump/Brick 2371 bump map.jpg","assets/maps-bump/Brick 2852b bump map.jpg","assets/maps-bump/Concrete 3035 bump map.jpg","assets/maps-bump/Gravel 2486 bump map.jpg","assets/maps-bump/Metal 2350 bump map.jpg","assets/maps-bump/Metal 2860 bump map.jpg"],this._emojiCodes=[[128512,128516,128521,128522,128519,129315],[128567,128564,129317,129392,129320,129323],[129303,129297,128541,129322,128523,128527],[129397,129398,129396,129327,129312,129400]],this._loaderManager=new S.lLk(this.texturesLoaded,this.texturesLoading,this.textureLoadError),this._textureLoader=new S.dpR(this._loaderManager)}get Materials(){return this._currentMaterials}InitMaterials(){this._textures.length||this._bumpMaps.forEach(l=>this._textures.push(this._textureLoader.load(l)));let r=1;this._currentMaterials.length&&(this._currentMaterials.forEach(l=>l.material.dispose()),this._currentMaterials=[]);const s=S.M8C.randInt(0,3);switch(s){case 0:case 1:const l=this.initColorScheme();let u;1===s&&(u=this._textures[S.M8C.randInt(0,this._textures.length-1)]);for(let P=0;P<b.Gz;P++){const te={material:new S.xoR({color:l[P],transparent:!0}),matchKey:r++};u&&(te.material.bumpMap=u,te.material.bumpScale=.03),this._currentMaterials.push(te)}break;case 1:break;default:const x=this.initEmojiTextures();for(let P=0;P<b.Gz;P++)this._currentMaterials.push({material:new S.vBJ({map:this._textureLoader.load(x[P]),transparent:!0}),matchKey:r++})}}initColorScheme(){const r=new ColorScheme,s=["contrast","triade","tetrade","analogic"],l=s[S.M8C.randInt(0,s.length-1)];return r.from_hue(S.M8C.randInt(0,359)).scheme(l).variation("hard"),r.colors().map(x=>`#${x}`).slice(0,b.Gz)}texturesLoaded(){console.log("textures loaded")}texturesLoading(r,s,l){console.log("loading",r,s,l)}textureLoadError(r){console.log("error",r)}initEmojiTextures(){const r=this.document.createElement("canvas"),s=100;r.width=r.height=s;const l=[],u=r.getContext("2d");if(u){const x=this._emojiCodes[S.M8C.randInt(0,this._emojiCodes.length-1)];for(let P=0;P<b.Gz;P++){const te=x[P];u.clearRect(0,0,s,s),u.fillStyle="white",u.fillRect(0,0,s,s),u.font="89px Arial",u.textBaseline="middle",u.textAlign="center",u.fillText(String.fromCodePoint(te),50,56),l.push(r.toDataURL())}}return l}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(R.K0))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})();var h=(()=>{return(a=h||(h={}))[a.Intro=1]="Intro",a[a.Flip=2]="Flip",h;var a})();let d=(()=>{class a{constructor(){this._activeEffects=[],this._introBetweeners=[]}UpdateEffects(r){this._activeEffects.length&&(this._activeEffects.find(s=>s===h.Intro)&&this.animateIntro(r),this._activeEffects.find(s=>s===h.Flip)&&this.animateFlip())}BuildIntoAnimation(r,s,l){if(this._introBetweeners=[],l<0)for(let u=r.length-1;u>-1;u--){const x=new Q(r[u].position.y,s[u],b.su*(r.length-u));this._introBetweeners.push(x)}else for(let u=0;u<r.length;u++){const x=new Q(r[u].position.y,s[u],b.su*(u+1));this._introBetweeners.push(x)}this._activeEffects.push(h.Intro)}animateIntro(r){this._introBetweeners.some(s=>s.HasNext)?this._introBetweeners.forEach((s,l)=>{s.HasNext&&(r[l].position.y=s.Next)}):this.removeActiveEffect(h.Intro)}Flip(r){this._flipTarget=r,this._activeEffects.push(h.Flip)}animateFlip(){this._flipTarget.Flip()||this.removeActiveEffect(h.Flip)}removeActiveEffect(r){this._activeEffects.splice(this._activeEffects.findIndex(s=>s===r),1)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),m=(()=>{class a{constructor(r,s){this.materialManager=r,this.effectsManager=s,this._piecePoints=[],this._verticalTargets=[],this._axle=[],this._boardLocking=!1,this._boardLocked=!1,this._pendingLevelChange=!1,this._stack=new S.ZAu,this.initCoords()}get Axle(){return this._axle}get BoardLocked(){return this._boardLocked}InitShapes(r){r&&!this._scene&&(this._scene=r),this.dispose(),this.materialManager.InitMaterials();const s=1===S.M8C.randInt(1,3)?10:-10;this._verticalTargets.forEach(()=>{const l=new K(s,this._piecePoints,this.materialManager.Materials);this._axle.push(l),this._stack.add(l)}),this._scene.add(this._stack),this.assignIterationValues(),this.effectsManager.BuildIntoAnimation(this._axle,this._verticalTargets,s)}UpdateShapes(){var r,s,l,u;this.effectsManager.UpdateEffects(this._axle),(null===(s=null===(r=this._activeWheel)||void 0===r?void 0:r.EaseBetweener)||void 0===s?void 0:s.HasNext)&&this._activeWheel.Rotate(null===(u=null===(l=this._activeWheel)||void 0===l?void 0:l.EaseBetweener)||void 0===u?void 0:u.Next),this._boardLocking&&(this.animateLock(this._boardLocking),this._boardLocked=!0),this._boardLocked&&this.animateRemoval()&&(this.animateLock(!1),this._boardLocked=!1,this._pendingLevelChange&&(this.InitShapes(),this._pendingLevelChange=!1))}SetActiveWheel(r){r&&(this._activeWheel=r)}SetMatches(r){this._matchPieces=r,this._matchPieces.forEach(s=>s.InitRemove())}LockBoard(r){this._boardLocking=r}SetLevelChange(){this._pendingLevelChange=!0}FlipGamePiece(r){this.effectsManager.Flip(r)}animateLock(r){this._axle.forEach(s=>{for(const l of s.children)l.IsMatch||l.LockPiece(r)})}animateRemoval(){const r=!this._matchPieces.some(s=>s.IsMatch);return r||this._matchPieces.forEach(s=>s.Remove()),r}assignIterationValues(){for(let r=0;r<this._axle.length;r++)0===r?(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=void 0):r===this._axle.length-1?(this._axle[r].Above=void 0,this._axle[r].Below=this._axle[r-1]):(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=this._axle[r-1])}initCoords(){for(let r=0;r<b.ZO;r+=b.Dj){const s=S.M8C.degToRad(r),l=b.i8*Math.cos(s),u=b.i8*Math.sin(s);this._piecePoints.push({polarCoords:new S.Pa4(l,0,u),rotationY:-1*s})}for(let r=-3;r<=3;r++)this._verticalTargets.push(r*b.EH)}dispose(){this._axle.length&&this._axle.forEach(r=>r.Dispose()),this._axle=[],this._stack.clear()}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(I),n.LFG(d))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})();var v=k(9575),_=(()=>{return(a=_||(_={})).Up="Up",a.Down="Down",a.Next="Next",a.Prev="Prev",_;var a})();let C=(()=>{class a{constructor(){this._matches=[]}FindMatches(r,s){for(const l of s)l.ResetIsMatch();return r.IsMatch=!0,this._matches=[r],this.directionalSearch(r),this._matches.length>=b.TT?this._matches:[]}directionalSearch(r){let s;for(const l in _){switch(s=void 0,l){case _.Next:s=this.matchNext(r);break;case _.Prev:s=this.matchPrev(r);break;case _.Up:s=this.matchAbove(r);break;case _.Down:s=this.matchBelow(r)}s&&(s.IsMatch=!0,this._matches.push(s),this.directionalSearch(s))}}matchNext(r){if(!r.Next.IsMatch&&!r.Next.IsRemoved&&r.Next.MatchKey===r.MatchKey)return r.Next}matchPrev(r){if(!r.Prev.IsMatch&&!r.Prev.IsRemoved&&r.Prev.MatchKey===r.MatchKey)return r.Prev}matchAbove(r){const s=r.parent;return s.Above?s.Above.children.find(u=>!u.IsMatch&&!u.IsRemoved&&u.MatchKey===r.MatchKey&&Math.abs(u.ThetaOffset-r.ThetaOffset)<b.Ng):void 0}matchBelow(r){const s=r.parent;return s.Below?s.Below.children.find(u=>!u.IsMatch&&!u.IsRemoved&&u.MatchKey===r.MatchKey&&Math.abs(u.ThetaOffset-r.ThetaOffset)<b.Ng):void 0}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),T=(()=>{class a{constructor(){this._level=1,this._levelPieceCount=0,this._score=0,this._timestamp=Date.now()}get Level(){return this._level}get Score(){return this._score}get CurrentLevelPieceCount(){return this._levelPieceCount}get CurrentLevelTarget(){return this._level*b.Ic}UpdateScore(r){Date.now(),this._timestamp=Date.now();let l=0;l=r*this._level,this._score+=l}UpdateLevel(r){this._levelPieceCount+=r;const s=this._levelPieceCount>=this.CurrentLevelTarget;return s&&(this._level++,this._levelPieceCount=0),s}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),g=(()=>{class a{constructor(r,s,l){this.objectManager=r,this.gameEngine=s,this.scoringManager=l,this._x=0,this._panning=!1,this._rayCaster=new S.iMs,this._pointerPos=new S.FM8}InitInteractions(r){this._hammer=new Hammer(r),this._hammer.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),this._hammer.on("panstart",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y);l&&!(null==l?void 0:l.IsRemoved)&&(this._activeWheel=l.parent,this.objectManager.SetActiveWheel(this._activeWheel))}}),this._hammer.on("pan",s=>{var l;this.objectManager.BoardLocked||(this._panning?this.deviceCordRotation(s.center.x):this._panning=!0,s.isFinal&&(this._panning=!1,null===(l=this._activeWheel)||void 0===l||l.SnapToGrid(),this._activeWheel=void 0),this._x=s.center.x)}),this._hammer.on("press",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y);if(l&&!(null==l?void 0:l.IsRemoved)){const u=this.gameEngine.FindMatches(l,this.objectManager.Axle);u.length&&(this.objectManager.LockBoard(!0),this.objectManager.SetMatches(u),this.scoringManager.UpdateScore(u.length),this.scoringManager.UpdateLevel(u.length)&&this.objectManager.SetLevelChange())}}}),this._hammer.on("swipe",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y-s.deltaY);l&&(l.InitFlip(s.direction===v.DIRECTION_UP),this.objectManager.FlipGamePiece(l))}})}UpdateSize(r,s){this._canvasRect=r,this._camera=s}deviceCordRotation(r){this._activeWheel&&this._activeWheel.UpdateTheta(S.M8C.degToRad(r-this._x)*(b.AG/this._canvasRect.width)*-1)}getPickedGamePiece(r,s){const u=this._canvasRect.bottom-this._canvasRect.top;this._pointerPos.x=(r-this._canvasRect.left)/(this._canvasRect.right-this._canvasRect.left)*2-1,this._pointerPos.y=-(s-this._canvasRect.top)/u*2+1,this._rayCaster.setFromCamera(this._pointerPos,this._camera);const x=this._rayCaster.intersectObjects(this.objectManager.Axle);if(x.length){const P=x[0].object;return P.parent instanceof pe?P.parent:P}}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(m),n.LFG(C),n.LFG(T))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),M=(()=>{class a{constructor(r,s){this.objectManager=r,this.interactionManager=s,this._width=0,this._height=0}get scene(){return this._scene}InitScene(){this._scene||(this._scene=new S.xsS,this._scene.background=new S.Ilk(252645135),this._pointLight=new S.cek(16777215,1),this._scene.add(this._pointLight),this.objectManager.InitShapes(this._scene))}UpdateSize(r){this._width=r.width,this._height=r.height;const s=this._width/this._height;this._camera?(this._camera.aspect=s,this._camera.updateProjectionMatrix()):(this._camera=new S.cPb(45,s,1,25),this._camera.position.set(0,0,5),this._pointLight.position.copy(this._camera.position)),this._renderer&&this._renderer.setSize(this._width,this._height,!1),this.interactionManager.UpdateSize(r,this._camera)}InitRenderer(r){r&&(this._renderer=new S.CP7({canvas:r,antialias:!0})),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}RenderScene(){var r;null===(r=this._renderer)||void 0===r||r.render(this._scene,this._camera)}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(m),n.LFG(g))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})();const y=["mainCanvas"];let A=(()=>{class a{constructor(r,s){this.sceneManager=r,this.interactionManager=s,this._initialRectCalculated=!1}onResize(){var r;this.sceneManager.UpdateSize(null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect())}ngAfterContentChecked(){var r;if(!this._initialRectCalculated){const s=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect();s&&(this.sceneManager.UpdateSize(s),this._initialRectCalculated=!0)}}ngAfterViewInit(){var r;const s=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement;s&&(this.sceneManager.InitRenderer(s),this.interactionManager.InitInteractions(s))}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(M),n.Y36(g))},a.\u0275cmp=n.Xpm({type:a,selectors:[["wgl-canvas"]],viewQuery:function(r,s){if(1&r&&n.Gf(y,5),2&r){let l;n.iGM(l=n.CRH())&&(s.canvas=l.first)}},hostBindings:function(r,s){1&r&&n.NdJ("resize",function(){return s.onResize()},!1,n.Jf7)},decls:2,vars:0,consts:[[1,"main-canvas"],["mainCanvas",""]],template:function(r,s){1&r&&n._UZ(0,"canvas",0,1)},styles:[".main-canvas[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"]}),a})();var w=k(2604),D=k(348),B=k(543),F=k(7908),N=k(9985),H=k(8305),$=k(5724),Z=k(1537),L=k(5044),J=k(2937);const X=["addListener","removeListener"],z=["addEventListener","removeEventListener"],ne=["on","off"];function xe(a,c,r,s){if((0,L.m)(r)&&(s=r,r=void 0),s)return xe(a,c,r).pipe((0,J.Z)(s));const[l,u]=function(a){return(0,L.m)(a.addEventListener)&&(0,L.m)(a.removeEventListener)}(a)?z.map(x=>P=>a[x](c,P,r)):function(a){return(0,L.m)(a.addListener)&&(0,L.m)(a.removeListener)}(a)?X.map(Le(a,c)):function(a){return(0,L.m)(a.on)&&(0,L.m)(a.off)}(a)?ne.map(Le(a,c)):[];if(!l&&(0,Z.z)(a))return(0,$.z)(x=>xe(x,c,r))((0,N.Xf)(a));if(!l)throw new TypeError("Invalid event target");return new H.y(x=>{const P=(...te)=>x.next(1<te.length?te:te[0]);return l(P),()=>u(P)})}function Le(a,c){return r=>s=>a[r](c,s)}var ke=k(461);const Ke=["primaryValueBar"],Qe=(0,w.pj)(class{constructor(a){this._elementRef=a}},"primary"),V=new n.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const a=(0,n.f3M)(R.K0),c=a?a.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}}),O=new n.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let W=0,Ie=(()=>{class a extends Qe{constructor(r,s,l,u,x){super(r),this._ngZone=s,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new n.vpe,this._animationEndSubscription=F.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+W++;const P=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${P}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,x&&(x.color&&(this.color=this.defaultColor=x.color),this.mode=x.mode||this.mode)}get value(){return this._value}set value(r){this._value=ge((0,D.su)(r)||0)}get bufferValue(){return this._bufferValue}set bufferValue(r){this._bufferValue=ge(r||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const r=this._primaryValueBar.nativeElement;this._animationEndSubscription=xe(r,"transitionend").pipe((0,ke.h)(s=>s.target===r)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(B.Qb,8),n.Y36(V,8),n.Y36(O,8))},a.\u0275cmp=n.Xpm({type:a,selectors:[["mat-progress-bar"]],viewQuery:function(r,s){if(1&r&&n.Gf(Ke,5),2&r){let l;n.iGM(l=n.CRH())&&(s._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(r,s){2&r&&(n.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),n.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[n.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(r,s){1&r&&(n.TgZ(0,"div",0),n.O4$(),n.TgZ(1,"svg",1),n.TgZ(2,"defs"),n.TgZ(3,"pattern",2),n._UZ(4,"circle",3),n.qZA(),n.qZA(),n._UZ(5,"rect",4),n.qZA(),n.kcU(),n._UZ(6,"div",5),n._UZ(7,"div",6,7),n._UZ(9,"div",8),n.qZA()),2&r&&(n.xp6(3),n.Q6J("id",s.progressbarId),n.xp6(2),n.uIk("fill",s._rectangleFillValue),n.xp6(1),n.Q6J("ngStyle",s._bufferTransform()),n.xp6(1),n.Q6J("ngStyle",s._primaryTransform()))},directives:[R.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),a})();function ge(a,c=0,r=100){return Math.max(c,Math.min(r,a))}let be=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[R.ez,w.BQ],w.BQ]}),a})();var fe=k(928);function Me(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}function ee(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}function ue(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}function Ue(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}const $e=(0,w.pj)(class{constructor(a){this._elementRef=a}},"primary"),Fe=new n.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class se extends $e{constructor(c,r,s,l,u){super(c),this._document=s,this._diameter=100,this._value=0,this.mode="determinate";const x=se._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),x.has(s.head)||x.set(s.head,new Set([100])),this._noopAnimations="NoopAnimations"===l&&!!u&&!u._forceAnimations,u&&(u.diameter&&(this.diameter=u.diameter),u.strokeWidth&&(this.strokeWidth=u.strokeWidth))}get diameter(){return this._diameter}set diameter(c){this._diameter=(0,D.su)(c),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(c){this._strokeWidth=(0,D.su)(c)}get value(){return"determinate"===this.mode?this._value:0}set value(c){this._value=Math.max(0,Math.min(100,(0,D.su)(c)))}ngOnInit(){const c=this._elementRef.nativeElement;this._styleRoot=(0,fe.kV)(c)||this._document.head,this._attachStyleNode(),c.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const c=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${c} ${c}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const c=this._styleRoot,r=this._diameter,s=se._diameters;let l=s.get(c);if(!l||!l.has(r)){const u=this._document.createElement("style");u.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),u.textContent=this._getAnimationText(),c.appendChild(u),l||(l=new Set,s.set(c,l)),l.add(r)}}_getAnimationText(){const c=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*c).replace(/END_VALUE/g,""+.2*c).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}se._diameters=new WeakMap,se.\u0275fac=function(c){return new(c||se)(n.Y36(n.SBq),n.Y36(fe.t4),n.Y36(R.K0,8),n.Y36(B.Qb,8),n.Y36(Fe))},se.\u0275cmp=n.Xpm({type:se,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(c,r){2&c&&(n.uIk("aria-valuemin","determinate"===r.mode?0:null)("aria-valuemax","determinate"===r.mode?100:null)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),n.Udp("width",r.diameter,"px")("height",r.diameter,"px"),n.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[n.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(c,r){1&c&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,Me,1,9,"circle",1),n.YNc(2,ee,1,7,"circle",2),n.qZA()),2&c&&(n.Udp("width",r.diameter,"px")("height",r.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===r.mode),n.uIk("viewBox",r._getViewBox()),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},directives:[R.RF,R.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Be=(()=>{class a extends se{constructor(r,s,l,u,x){super(r,s,l,u,x),this.mode="indeterminate"}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(n.SBq),n.Y36(fe.t4),n.Y36(R.K0,8),n.Y36(B.Qb,8),n.Y36(Fe))},a.\u0275cmp=n.Xpm({type:a,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(r,s){2&r&&(n.Udp("width",s.diameter,"px")("height",s.diameter,"px"),n.ekj("_mat-animation-noopable",s._noopAnimations))},inputs:{color:"color"},features:[n.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,s){1&r&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,ue,1,9,"circle",1),n.YNc(2,Ue,1,7,"circle",2),n.qZA()),2&r&&(n.Udp("width",s.diameter,"px")("height",s.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===s.mode),n.uIk("viewBox",s._getViewBox()),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},directives:[R.RF,R.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),a})(),Xe=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[w.BQ,R.ez],w.BQ]}),a})();const Ye=[{path:"",component:(()=>{class a{constructor(r,s,l,u){this.ngZone=r,this.sceneManager=s,this.objectManager=l,this.scoringManager=u}ngOnInit(){this.sceneManager.InitScene(),this.animate()}animate(){this.ngZone.runOutsideAngular(()=>{this.objectManager.UpdateShapes(),this.sceneManager.RenderScene(),requestAnimationFrame(()=>{this.animate()})})}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(n.R0b),n.Y36(M),n.Y36(m),n.Y36(T))},a.\u0275cmp=n.Xpm({type:a,selectors:[["wgl-game-container"]],decls:14,vars:7,consts:[[1,"game-container"],[1,"game-scoring"],[1,"game-canvas"],[1,"level-progress"],[1,"progress-horizontal",3,"value"],[1,"progress-spinner"],["mode","determinate",3,"value"]],template:function(r,s){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"p"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.qZA(),n.qZA(),n._UZ(6,"wgl-canvas",2),n.TgZ(7,"div",3),n._UZ(8,"mat-progress-bar",4),n.TgZ(9,"div",5),n._UZ(10,"mat-spinner",6),n.TgZ(11,"div"),n._uU(12),n.ALo(13,"percent"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(3),n.hij("Score: ",s.scoringManager.Score,""),n.xp6(2),n.hij("Level: ",s.scoringManager.Level,""),n.xp6(3),n.s9C("value",s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget*100),n.xp6(2),n.s9C("value",s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget*100),n.xp6(2),n.hij(" ",n.lcZ(13,5,s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget)," Complete "))},directives:[A,Ie,Be],pipes:[R.Zx],styles:[".game-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:none}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]{flex-direction:row}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{text-align:right;flex-direction:column;justify-content:start;flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:45em;flex:unset}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 4/5){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:35em}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 5/3){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:30%}}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:block}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-horizontal[_ngcontent-%COMP%]{display:none}}"]}),a})()}];let Ae=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[R.ez,U.Bz.forChild(Ye)]]}),a})(),we=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({providers:[M,I,m,g,C,T,d],imports:[[R.ez,Ae,be,Xe]]}),a})()}}]);