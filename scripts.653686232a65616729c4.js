(function(){var t,e=[].slice;t=function(){var t,n,r,o,a,i;for(a=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},s.SCHEMES={},n=0,r=(o="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;n<r;n++)i=o[n],s.SCHEMES[i]=!0;function s(){var t,e;for(t=[],e=1;e<=4;e++)t.push(new s.mutablecolor(60));this.col=t,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return s.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},s.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},s.prototype.colors=function(){var t,e,n,r,o,a,i,s,u,h;if(u=1,e=this.col[0].get_hue(),(t={mono:function(){},contrast:(h=this,function(){return u=2,h.col[1].set_hue(e),h.col[1].rotate(180)}),triade:function(t){return function(){var n;return u=3,n=60*t._distance,t.col[1].set_hue(e),t.col[1].rotate(180-n),t.col[2].set_hue(e),t.col[2].rotate(180+n)}}(this),tetrade:function(t){return function(){var n;return u=4,n=90*t._distance,t.col[1].set_hue(e),t.col[1].rotate(180),t.col[2].set_hue(e),t.col[2].rotate(180+n),t.col[3].set_hue(e),t.col[3].rotate(n)}}(this),analogic:function(t){return function(){var n;return u=t._add_complement?4:3,n=60*t._distance,t.col[1].set_hue(e),t.col[1].rotate(n),t.col[2].set_hue(e),t.col[2].rotate(360-n),t.col[3].set_hue(e),t.col[3].rotate(180)}}(this)}).monochromatic=t.mono,null==t[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(t[this._scheme](),i=[],n=o=0,s=u-1;0<=s?o<=s:o>=s;n=0<=s?++o:--o)for(r=a=0;a<=3;r=++a)i[4*n+r]=this.col[n].get_hex(this._web_safe,r);return i},s.prototype.colorset=function(){var e,n;for(e=t(this.colors()),n=[];e.length>0;)n.push(e.splice(0,4));return n},s.prototype.from_hue=function(t){if(null==t)throw"from_hue needs an argument";return this.col[0].set_hue(t),this},s.prototype.rgb2ryb=function(){var t,n,r,o,i,s,u,h,l;return null!=(u=1<=arguments.length?e.call(arguments,0):[])[0]&&a(u[0])&&(u=u[0]),s=u[0],n=u[1],t=u[2],s-=h=Math.min(s,n,t),n-=h,t-=h,o=Math.max(s,n,t),s-=l=Math.min(s,n),n-=l,t>0&&n>0&&(t/=2,n/=2),l+=n,t+=n,(i=Math.max(s,l,t))>0&&(s*=r=o/i,l*=r,t*=r),s+=h,l+=h,t+=h,[Math.floor(s),Math.floor(l),Math.floor(t)]},s.prototype.rgb2hsv=function(){var t,n,r,o,i,s,u,h,l;return null!=(h=1<=arguments.length?e.call(arguments,0):[])[0]&&a(h[0])&&(h=h[0]),u=h[0],r=h[1],t=h[2],u/=255,r/=255,t/=255,s=Math.min.apply(Math,[u,r,t]),l=i=Math.max.apply(Math,[u,r,t]),(n=i-s)>0?(o=u===i?(r-t)/n:r===i?2+(t-u)/n:4+(u-r)/n,o*=60,[o%=360,n/i,l]):[0,0,l]},s.prototype.rgbToHsv=function(){var t,n,r,o,i,s,u,h,l,c;if(null!=(h=1<=arguments.length?e.call(arguments,0):[])[0]&&a(h[0])&&(h=h[0]),u=h[0],r=h[1],t=h[2],u/=255,r/=255,t/=255,o=void 0,l=void 0,c=i=Math.max(u,r,t),n=i-(s=Math.min(u,r,t)),l=0===i?0:n/i,i===s)o=0;else{switch(i){case u:o=(r-t)/n+(r<t?6:0);break;case r:o=(t-u)/n+2;break;case t:o=(u-r)/n+4}o/=6}return[o,l,c]},s.prototype.from_hex=function(t){var e,n,r,o,a,i,s,u,h,l,c;if(null==t)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(t))throw"from_hex("+t+") - argument must be in the form of RRGGBB";return h=/(..)(..)(..)/.exec(t).slice(1,4),i=(s=function(){var t,e,n;for(n=[],e=0,t=h.length;e<t;e++)a=h[e],n.push(parseInt(a,16));return n}())[0],n=s[1],e=s[2],i=(u=this.rgb2ryb([i,n,e]))[0],n=u[1],e=u[2],(o=this.rgbToHsv(i,n,e))[0],0,1e3,null,null,null,null,null,r=o[0],l=o[1],c=o[2],this.from_hue(360*r),this._set_variant_preset([l,c,l,.7*c,.25*l,1,.5*l,1]),this},s.prototype.add_complement=function(t){if(null==t)throw"add_complement needs an argument";return this._add_complement=t,this},s.prototype.web_safe=function(t){if(null==t)throw"web_safe needs an argument";return this._web_safe=t,this},s.prototype.distance=function(t){if(null==t)throw"distance needs an argument";if(t<0)throw"distance("+t+") - argument must be >= 0";if(t>1)throw"distance("+t+") - argument must be <= 1";return this._distance=t,this},s.prototype.scheme=function(t){if(null==t)return this._scheme;if(null==s.SCHEMES[t])throw"'"+t+"' isn't a valid scheme name";return this._scheme=t,this},s.prototype.variation=function(t){if(null==t)throw"variation needs an argument";if(null==s.PRESETS[t])throw"'$v' isn't a valid variation name";return this._set_variant_preset(s.PRESETS[t]),this},s.prototype._set_variant_preset=function(t){var e,n,r;for(r=[],e=n=0;n<=3;e=++n)r.push(this.col[e].set_variant_preset(t));return r},t=function(e){var n,r,o;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return n="",null!=e.global&&(n+="g"),null!=e.ignoreCase&&(n+="i"),null!=e.multiline&&(n+="m"),null!=e.sticky&&(n+="y"),new RegExp(e.source,n);for(r in o=new e.constructor,e)o[r]=t(e[r]);return o},s.mutablecolor=function(){function t(t){if(null==t)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(t),this.set_variant_preset(s.PRESETS.default)}return t.prototype.hue=0,t.prototype.saturation=[],t.prototype.value=[],t.prototype.base_red=0,t.prototype.base_green=0,t.prototype.base_saturation=0,t.prototype.base_value=0,t.prototype.get_hue=function(){return this.hue},t.prototype.set_hue=function(t){var e,n,r,o,a,i,u,h,l,c;for(n in e=function(t,e,n){return t+Math.round((e-t)*n)},this.hue=Math.round(t%360),c=(a=this.hue%15+(this.hue-Math.floor(this.hue)))/15,u=((i=this.hue-Math.floor(a))+15)%360,360===i&&(i=0),360===u&&(u=0),r=s.COLOR_WHEEL[i],o=s.COLOR_WHEEL[u],h={red:0,green:1,blue:2,value:3})l=h[n],this["base_"+n]=e(r[l],o[l],c);return this.base_saturation=e(100,100,c)/100,this.base_value/=100},t.prototype.rotate=function(t){var e;return e=(this.hue+t)%360,this.set_hue(e)},t.prototype.get_saturation=function(t){var e,n;return(e=(n=this.saturation[t])<0?-n*this.base_saturation:n)>1&&(e=1),e<0&&(e=0),e},t.prototype.get_value=function(t){var e,n;return(e=(n=this.value[t])<0?-n*this.base_value:n)>1&&(e=1),e<0&&(e=0),e},t.prototype.set_variant=function(t,e,n){return this.saturation[t]=e,this.value[t]=n},t.prototype.set_variant_preset=function(t){var e,n,r;for(r=[],e=n=0;n<=3;e=++n)r.push(this.set_variant(e,t[2*e],t[2*e+1]));return r},t.prototype.get_hex=function(t,e){var n,r,o,a,i,s,u,h,l,c,f,p,_,m,d;for(h=Math.max.apply(Math,function(){var t,e,n,o;for(o=[],e=0,t=(n=["red","green","blue"]).length;e<t;e++)r=n[e],o.push(this["base_"+r]);return o}.call(this)),Math.min.apply(Math,function(){var t,e,n,o;for(o=[],e=0,t=(n=["red","green","blue"]).length;e<t;e++)r=n[e],o.push(this["base_"+r]);return o}.call(this)),d=255*(e<0?this.base_value:this.get_value(e)),_=e<0?this.base_saturation:this.get_saturation(e),a=h>0?d/h:0,f=[],u=0,i=(c=["red","green","blue"]).length;u<i;u++)r=c[u],p=Math.min.apply(Math,[255,Math.round(d-(d-this["base_"+r]*a)*_)]),f.push(p);for(t&&(f=function(){var t,e,r;for(r=[],e=0,t=f.length;e<t;e++)n=f[e],r.push(51*Math.round(n/51));return r}()),o="",l=0,s=f.length;l<s;l++)(m=f[l].toString(16)).length<2&&(m="0"+m),o+=m;return o},t}(),s}(),"undefined"!=typeof module&&null!==module&&null!=module.exports?module.exports=t:"function"==typeof define&&define.amd?define([],function(){return t}):window.ColorScheme=t}).call(this);