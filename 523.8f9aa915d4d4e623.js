(self.webpackChunkwebgl_v1=self.webpackChunkwebgl_v1||[]).push([[523],{4646:function(se,ge,x){var N;se=x.nmd(se),function(){var i,I=[].slice;i=function(){var E,ce,ve,de,Q;for(Q=Array.isArray||function(h){return"[object Array]"==={}.toString.call(h)},C.SCHEMES={},ce=0,ve=(de="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;ce<ve;ce++)C.SCHEMES[de[ce]]=!0;function C(){var h,u;for(h=[],u=1;u<=4;u++)h.push(new C.mutablecolor(60));this.col=h,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return C.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},C.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},C.prototype.colors=function(){var h,u,m,p,_,M,T,v,b,y;if(b=1,u=this.col[0].get_hue(),(h={mono:function(){},contrast:(y=this,function(){return b=2,y.col[1].set_hue(u),y.col[1].rotate(180)}),triade:function(y){return function(){var A;return b=3,A=60*y._distance,y.col[1].set_hue(u),y.col[1].rotate(180-A),y.col[2].set_hue(u),y.col[2].rotate(180+A)}}(this),tetrade:function(y){return function(){var A;return b=4,A=90*y._distance,y.col[1].set_hue(u),y.col[1].rotate(180),y.col[2].set_hue(u),y.col[2].rotate(180+A),y.col[3].set_hue(u),y.col[3].rotate(A)}}(this),analogic:function(y){return function(){var A;return b=y._add_complement?4:3,A=60*y._distance,y.col[1].set_hue(u),y.col[1].rotate(A),y.col[2].set_hue(u),y.col[2].rotate(360-A),y.col[3].set_hue(u),y.col[3].rotate(180)}}(this)}).monochromatic=h.mono,null==h[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(h[this._scheme](),T=[],m=_=0,v=b-1;0<=v?_<=v:_>=v;m=0<=v?++_:--_)for(p=M=0;M<=3;p=++M)T[4*m+p]=this.col[m].get_hex(this._web_safe,p);return T},C.prototype.colorset=function(){var h,u;for(h=E(this.colors()),u=[];h.length>0;)u.push(h.splice(0,4));return u},C.prototype.from_hue=function(h){if(null==h)throw"from_hue needs an argument";return this.col[0].set_hue(h),this},C.prototype.rgb2ryb=function(){var h,u,m,p,_,M,T,v,b;return null!=(T=1<=arguments.length?I.call(arguments,0):[])[0]&&Q(T[0])&&(T=T[0]),M=T[0],u=T[1],h=T[2],M-=v=Math.min(M,u,h),u-=v,h-=v,p=Math.max(M,u,h),M-=b=Math.min(M,u),u-=b,h>0&&u>0&&(h/=2,u/=2),b+=u,h+=u,(_=Math.max(M,b,h))>0&&(M*=m=p/_,b*=m,h*=m),M+=v,b+=v,h+=v,[Math.floor(M),Math.floor(b),Math.floor(h)]},C.prototype.rgb2hsv=function(){var h,u,m,p,_,M,T,v,y;return null!=(v=1<=arguments.length?I.call(arguments,0):[])[0]&&Q(v[0])&&(v=v[0]),T=v[0],m=v[1],h=v[2],T/=255,m/=255,h/=255,M=Math.min.apply(Math,[T,m,h]),y=_=Math.max.apply(Math,[T,m,h]),(u=_-M)>0?(p=T===_?(m-h)/u:m===_?2+(h-T)/u:4+(T-m)/u,p*=60,[p%=360,u/_,y]):[0,0,y]},C.prototype.rgbToHsv=function(){var h,u,m,p,_,M,T,v,b,y;if(null!=(v=1<=arguments.length?I.call(arguments,0):[])[0]&&Q(v[0])&&(v=v[0]),T=v[0],m=v[1],h=v[2],T/=255,m/=255,h/=255,p=void 0,b=void 0,y=_=Math.max(T,m,h),u=_-(M=Math.min(T,m,h)),b=0===_?0:u/_,_===M)p=0;else{switch(_){case T:p=(m-h)/u+(m<h?6:0);break;case m:p=(h-T)/u+2;break;case h:p=(T-m)/u+4}p/=6}return[p,b,y]},C.prototype.from_hex=function(h){var v,D,V,U,w,W;if(null==h)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(h))throw"from_hex("+h+") - argument must be in the form of RRGGBB";return U=/(..)(..)(..)/.exec(h).slice(1,4),D=function(){var J,R,z;for(z=[],R=0,J=U.length;R<J;R++)z.push(parseInt(U[R],16));return z}(),V=this.rgb2ryb([D[0],D[1],D[2]]),w=(v=this.rgbToHsv(V[0],V[1],V[2]))[1],W=v[2],this.from_hue(360*v[0]),this._set_variant_preset([w,W,w,.7*W,.25*w,1,.5*w,1]),this},C.prototype.add_complement=function(h){if(null==h)throw"add_complement needs an argument";return this._add_complement=h,this},C.prototype.web_safe=function(h){if(null==h)throw"web_safe needs an argument";return this._web_safe=h,this},C.prototype.distance=function(h){if(null==h)throw"distance needs an argument";if(h<0)throw"distance("+h+") - argument must be >= 0";if(h>1)throw"distance("+h+") - argument must be <= 1";return this._distance=h,this},C.prototype.scheme=function(h){if(null==h)return this._scheme;if(null==C.SCHEMES[h])throw"'"+h+"' isn't a valid scheme name";return this._scheme=h,this},C.prototype.variation=function(h){if(null==h)throw"variation needs an argument";if(null==C.PRESETS[h])throw"'$v' isn't a valid variation name";return this._set_variant_preset(C.PRESETS[h]),this},C.prototype._set_variant_preset=function(h){var u,m,p;for(p=[],u=m=0;m<=3;u=++m)p.push(this.col[u].set_variant_preset(h));return p},E=function(h){var u,m,p;if(null==h||"object"!=typeof h)return h;if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp)return u="",null!=h.global&&(u+="g"),null!=h.ignoreCase&&(u+="i"),null!=h.multiline&&(u+="m"),null!=h.sticky&&(u+="y"),new RegExp(h.source,u);for(m in p=new h.constructor,h)p[m]=E(h[m]);return p},C.mutablecolor=function(){function h(u){if(null==u)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(u),this.set_variant_preset(C.PRESETS.default)}return h.prototype.hue=0,h.prototype.saturation=[],h.prototype.value=[],h.prototype.base_red=0,h.prototype.base_green=0,h.prototype.base_saturation=0,h.prototype.base_value=0,h.prototype.get_hue=function(){return this.hue},h.prototype.set_hue=function(u){var m,p,_,M,T,v,b,y,A,k;for(p in m=function(D,V,U){return D+Math.round((V-D)*U)},this.hue=Math.round(u%360),k=(T=this.hue%15+(this.hue-Math.floor(this.hue)))/15,b=(15+(v=this.hue-Math.floor(T)))%360,360===v&&(v=0),360===b&&(b=0),_=C.COLOR_WHEEL[v],M=C.COLOR_WHEEL[b],y={red:0,green:1,blue:2,value:3})this["base_"+p]=m(_[A=y[p]],M[A],k);return this.base_saturation=m(100,100,k)/100,this.base_value/=100},h.prototype.rotate=function(u){return this.set_hue((this.hue+u)%360)},h.prototype.get_saturation=function(u){var m,p;return(m=(p=this.saturation[u])<0?-p*this.base_saturation:p)>1&&(m=1),m<0&&(m=0),m},h.prototype.get_value=function(u){var m,p;return(m=(p=this.value[u])<0?-p*this.base_value:p)>1&&(m=1),m<0&&(m=0),m},h.prototype.set_variant=function(u,m,p){return this.saturation[u]=m,this.value[u]=p},h.prototype.set_variant_preset=function(u){var m,p,_;for(_=[],m=p=0;p<=3;m=++p)_.push(this.set_variant(m,u[2*m],u[2*m+1]));return _},h.prototype.get_hex=function(u,m){var _,M,v,b,y,A,k,V,U,w,W,J,R,z;for(k=Math.max.apply(Math,function(){var K,B,H,$;for($=[],B=0,K=(H=["red","green","blue"]).length;B<K;B++)$.push(this["base_"+(_=H[B])]);return $}.call(this)),Math.min.apply(Math,function(){var K,B,H,$;for($=[],B=0,K=(H=["red","green","blue"]).length;B<K;B++)$.push(this["base_"+(_=H[B])]);return $}.call(this)),z=255*(m<0?this.base_value:this.get_value(m)),J=m<0?this.base_saturation:this.get_saturation(m),v=k>0?z/k:0,w=[],A=0,b=(U=["red","green","blue"]).length;A<b;A++)_=U[A],W=Math.min.apply(Math,[255,Math.round(z-(z-this["base_"+_]*v)*J)]),w.push(W);for(u&&(w=function(){var K,B,H;for(H=[],B=0,K=w.length;B<K;B++)H.push(51*Math.round(w[B]/51));return H}()),M="",V=0,y=w.length;V<y;V++)(R=w[V].toString(16)).length<2&&(R="0"+R),M+=R;return M},h}(),C}(),null!==se&&null!=se.exports?se.exports=i:void 0!==(N=function(){return i}.apply(ge,[]))&&(se.exports=N)}.call(this)},9575:(se,ge,x)=>{var L;!function(N,i,I,E){"use strict";var _,ce=["","webkit","Moz","MS","ms","o"],ve=i.createElement("div"),Q=Math.round,re=Math.abs,C=Date.now;function h(e,t,n){return setTimeout(b(e,n),t)}function u(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var o;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==E)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function p(e,t,n){var o="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var f=new Error("get-stack-trace"),d=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",S=N.console&&(N.console.warn||N.console.log);return S&&S.call(N.console,o,d),e.apply(this,arguments)}}_="function"!=typeof Object.assign?function(t){if(t===E||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var f=arguments[o];if(f!==E&&null!==f)for(var d in f)f.hasOwnProperty(d)&&(n[d]=f[d])}return n}:Object.assign;var M=p(function(t,n,o){for(var f=Object.keys(n),d=0;d<f.length;)(!o||o&&t[f[d]]===E)&&(t[f[d]]=n[f[d]]),d++;return t},"extend","Use `assign`."),T=p(function(t,n){return M(t,n,!0)},"merge","Use `assign`.");function v(e,t,n){var f,o=t.prototype;(f=e.prototype=Object.create(o)).constructor=e,f._super=o,n&&_(f,n)}function b(e,t){return function(){return e.apply(t,arguments)}}function y(e,t){return"function"==typeof e?e.apply(t&&t[0]||E,t):e}function A(e,t){return e===E?t:e}function k(e,t,n){m(w(t),function(o){e.addEventListener(o,n,!1)})}function D(e,t,n){m(w(t),function(o){e.removeEventListener(o,n,!1)})}function V(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function U(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function W(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function J(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var o=[],f=[],d=0;d<e.length;){var S=t?e[d][t]:e[d];W(f,S)<0&&o.push(e[d]),f[d]=S,d++}return n&&(o=t?o.sort(function(Y,Z){return Y[t]>Z[t]}):o.sort()),o}function z(e,t){for(var n,o,f=t[0].toUpperCase()+t.slice(1),d=0;d<ce.length;){if((o=(n=ce[d])?n+f:t)in e)return o;d++}return E}var K=1;function H(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||N}var xe="ontouchstart"in N,ze=z(N,"PointerEvent")!==E,Ze=xe&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),_e="touch",ke="mouse",Ce=["x","y"],Ae=["clientX","clientY"];function q(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(o){y(e.options.enable,[e])&&n.handler(o)},this.init()}function $e(e,t,n){var o=n.pointers.length,f=n.changedPointers.length,d=1&t&&o-f==0,S=12&t&&o-f==0;n.isFirst=!!d,n.isFinal=!!S,d&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,o=t.pointers,f=o.length;n.firstInput||(n.firstInput=De(t)),f>1&&!n.firstMultiple?n.firstMultiple=De(t):1===f&&(n.firstMultiple=!1);var d=n.firstInput,S=n.firstMultiple,F=S?S.center:d.center,Y=t.center=et(o);t.timeStamp=C(),t.deltaTime=t.timeStamp-d.timeStamp,t.angle=s(F,Y),t.distance=Ie(F,Y),function(e,t){var n=t.center,o=e.offsetDelta||{},f=e.prevDelta||{},d=e.prevInput||{};(1===t.eventType||4===d.eventType)&&(f=e.prevDelta={x:d.deltaX||0,y:d.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=f.x+(n.x-o.x),t.deltaY=f.y+(n.y-o.y)}(n,t),t.offsetDirection=Fe(t.deltaX,t.deltaY);var Z=Be(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=Z.x,t.overallVelocityY=Z.y,t.overallVelocity=re(Z.x)>re(Z.y)?Z.x:Z.y,t.scale=S?function(e,t){return Ie(t[0],t[1],Ae)/Ie(e[0],e[1],Ae)}(S.pointers,o):1,t.rotation=S?function(e,t){return s(t[1],t[0],Ae)+s(e[1],e[0],Ae)}(S.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var f,d,S,F,n=e.lastInterval||t,o=t.timeStamp-n.timeStamp;if(8!=t.eventType&&(o>25||n.velocity===E)){var Y=t.deltaX-n.deltaX,Z=t.deltaY-n.deltaY,oe=Be(o,Y,Z);d=oe.x,S=oe.y,f=re(oe.x)>re(oe.y)?oe.x:oe.y,F=Fe(Y,Z),e.lastInterval=t}else f=n.velocity,d=n.velocityX,S=n.velocityY,F=n.direction;t.velocity=f,t.velocityX=d,t.velocityY=S,t.direction=F}(n,t);var oe=e.element;V(t.srcEvent.target,oe)&&(oe=t.srcEvent.target),t.target=oe}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function De(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Q(e.pointers[n].clientX),clientY:Q(e.pointers[n].clientY)},n++;return{timeStamp:C(),pointers:t,center:et(t),deltaX:e.deltaX,deltaY:e.deltaY}}function et(e){var t=e.length;if(1===t)return{x:Q(e[0].clientX),y:Q(e[0].clientY)};for(var n=0,o=0,f=0;f<t;)n+=e[f].clientX,o+=e[f].clientY,f++;return{x:Q(n/t),y:Q(o/t)}}function Be(e,t,n){return{x:t/e||0,y:n/e||0}}function Fe(e,t){return e===t?1:re(e)>=re(t)?e<0?2:4:t<0?8:16}function Ie(e,t,n){n||(n=Ce);var o=t[n[0]]-e[n[0]],f=t[n[1]]-e[n[1]];return Math.sqrt(o*o+f*f)}function s(e,t,n){return n||(n=Ce),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(H(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(H(this.element),this.evWin,this.domHandler)}};var a={mousedown:1,mousemove:2,mouseup:4},l="mousedown",g="mousemove mouseup";function P(){this.evEl=l,this.evWin=g,this.pressed=!1,q.apply(this,arguments)}v(P,q,{handler:function(t){var n=a[t.type];1&n&&0===t.button&&(this.pressed=!0),2&n&&1!==t.which&&(n=4),this.pressed&&(4&n&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[t],changedPointers:[t],pointerType:ke,srcEvent:t}))}});var j={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Oe={2:_e,3:"pen",4:ke,5:"kinect"},lt="pointerdown",ft="pointermove pointerup pointercancel";function tt(){this.evEl=lt,this.evWin=ft,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}N.MSPointerEvent&&!N.PointerEvent&&(lt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),v(tt,q,{handler:function(t){var n=this.store,o=!1,f=t.type.toLowerCase().replace("ms",""),d=j[f],S=Oe[t.pointerType]||t.pointerType,F=S==_e,Y=W(n,t.pointerId,"pointerId");1&d&&(0===t.button||F)?Y<0&&(n.push(t),Y=n.length-1):12&d&&(o=!0),!(Y<0)&&(n[Y]=t,this.callback(this.manager,d,{pointers:n,changedPointers:[t],pointerType:S,srcEvent:t}),o&&n.splice(Y,1))}});var Mt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},St="touchstart",Ct="touchstart touchmove touchend touchcancel";function ut(){this.evTarget=St,this.evWin=Ct,this.started=!1,q.apply(this,arguments)}function At(e,t){var n=J(e.touches),o=J(e.changedTouches);return 12&t&&(n=R(n.concat(o),"identifier",!0)),[n,o]}v(ut,q,{handler:function(t){var n=Mt[t.type];if(1===n&&(this.started=!0),this.started){var o=At.call(this,t,n);12&n&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:o[0],changedPointers:o[1],pointerType:_e,srcEvent:t})}}});var It={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Pt="touchstart touchmove touchend touchcancel";function Xe(){this.evTarget=Pt,this.targetIds={},q.apply(this,arguments)}function xt(e,t){var n=J(e.touches),o=this.targetIds;if(3&t&&1===n.length)return o[n[0].identifier]=!0,[n,n];var f,d,S=J(e.changedTouches),F=[],Y=this.target;if(d=n.filter(function(Z){return V(Z.target,Y)}),1===t)for(f=0;f<d.length;)o[d[f].identifier]=!0,f++;for(f=0;f<S.length;)o[S[f].identifier]&&F.push(S[f]),12&t&&delete o[S[f].identifier],f++;return F.length?[R(d.concat(F),"identifier",!0),F]:void 0}function rt(){q.apply(this,arguments);var e=b(this.handler,this);this.touch=new Xe(this.manager,e),this.mouse=new P(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ot(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,dt.call(this,t)):12&e&&dt.call(this,t)}function dt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches;setTimeout(function(){var d=o.indexOf(n);d>-1&&o.splice(d,1)},2500)}}function wt(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var f=this.lastTouches[o],d=Math.abs(t-f.x),S=Math.abs(n-f.y);if(d<=25&&S<=25)return!0}return!1}v(Xe,q,{handler:function(t){var n=It[t.type],o=xt.call(this,t,n);!o||this.callback(this.manager,n,{pointers:o[0],changedPointers:o[1],pointerType:_e,srcEvent:t})}}),v(rt,q,{handler:function(t,n,o){var d=o.pointerType==ke;if(!(d&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)){if(o.pointerType==_e)Ot.call(this,n,o);else if(d&&wt.call(this,o))return;this.callback(t,n,o)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pt=z(ve.style,"touchAction"),gt=pt!==E,vt="compute",nt="manipulation",Me="none",we="pan-x",Re="pan-y",Ye=function(){if(!gt)return!1;var e={},t=N.CSS&&N.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||N.CSS.supports("touch-action",n)}),e}();function it(e,t){this.manager=e,this.set(t)}function me(e){this.options=_({},this.defaults,e||{}),this.id=K++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Tt(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function We(e,t){var n=t.manager;return n?n.get(e):e}function ie(){me.apply(this,arguments)}function He(){ie.apply(this,arguments),this.pX=null,this.pY=null}function st(){ie.apply(this,arguments)}function at(){me.apply(this,arguments),this._timer=null,this._input=null}function ot(){ie.apply(this,arguments)}function ct(){ie.apply(this,arguments)}function Ge(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Se(e,t){return(t=t||{}).recognizers=A(t.recognizers,Se.defaults.preset),new ht(e,t)}function ht(e,t){this.options=_({},Se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(ze?tt:Ze?Xe:xe?rt:P))(e,$e)}(this),this.touchAction=new it(this,this.options.touchAction),Et(this,!0),m(this.options.recognizers,function(n){var o=this.add(new n[0](n[1]));n[2]&&o.recognizeWith(n[2]),n[3]&&o.requireFailure(n[3])},this)}function Et(e,t){var o,n=e.element;n.style&&(m(e.options.cssProps,function(f,d){o=z(n.style,d),t?(e.oldCssProps[o]=n.style[o],n.style[o]=f):n.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={}))}it.prototype={set:function(e){e==vt&&(e=this.compute()),gt&&this.manager.element.style&&Ye[e]&&(this.manager.element.style[pt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(U(e,Me))return Me;var t=U(e,we),n=U(e,Re);return t&&n?Me:t||n?t?we:Re:U(e,nt)?nt:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,f=U(o,Me)&&!Ye[Me],d=U(o,Re)&&!Ye[Re],S=U(o,we)&&!Ye[we];if(f&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return S&&d||!(f||d&&6&n||S&&24&n)?void 0:this.preventSrc(t)}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},me.prototype={defaults:{},set:function(e){return _(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(u(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=We(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return u(e,"dropRecognizeWith",this)||(e=We(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(u(e,"requireFailure",this))return this;var t=this.requireFail;return-1===W(t,e=We(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(u(e,"dropRequireFailure",this))return this;e=We(e,this);var t=W(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function o(f){t.manager.emit(f,e)}n<8&&o(t.options.event+yt(n)),o(t.options.event),e.additionalEvent&&o(e.additionalEvent),n>=8&&o(t.options.event+yt(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=_({},e);if(!y(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},v(ie,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=6&t,f=this.attrTest(e);return o&&(8&n||!f)?16|t:o||f?4&n?8|t:2&t?4|t:2:32}}),v(He,ie,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Re),24&e&&t.push(we),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,f=e.direction,d=e.deltaX,S=e.deltaY;return f&t.direction||(6&t.direction?(f=0===d?1:d<0?2:4,n=d!=this.pX,o=Math.abs(e.deltaX)):(f=0===S?1:S<0?8:16,n=S!=this.pY,o=Math.abs(e.deltaY))),e.direction=f,n&&o>t.threshold&&f&t.direction},attrTest:function(e){return ie.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Tt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),v(st,ie,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Me]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),v(at,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime>t.time;if(this._input=e,!o||!n||12&e.eventType&&!f)this.reset();else if(1&e.eventType)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=C(),this.manager.emit(this.options.event,this._input)))}}),v(ot,ie,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Me]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),v(ct,ie,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return He.prototype.getTouchAction.call(this)},attrTest:function(e){var n,t=this.options.direction;return 30&t?n=e.overallVelocity:6&t?n=e.overallVelocityX:24&t&&(n=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&re(n)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Tt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),v(Ge,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[nt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(o&&f&&n){if(4!=e.eventType)return this.failTimeout();var d=!this.pTime||e.timeStamp-this.pTime<t.interval,S=!this.pCenter||Ie(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,S&&d?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Se.VERSION="2.0.7",Se.defaults={domEvents:!1,touchAction:vt,enable:!0,inputTarget:null,inputClass:null,preset:[[ot,{enable:!1}],[st,{enable:!1},["rotate"]],[ct,{direction:6}],[He,{direction:6},["swipe"]],[Ge],[Ge,{event:"doubletap",taps:2},["tap"]],[at]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},ht.prototype={set:function(e){return _(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,f=t.curRecognizer;(!f||f&&8&f.state)&&(f=t.curRecognizer=null);for(var d=0;d<o.length;)n=o[d],2===t.stopped||f&&n!=f&&!n.canRecognizeWith(f)?n.reset():n.recognize(e),!f&&14&n.state&&(f=t.curRecognizer=n),d++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(u(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(u(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=W(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==E&&t!==E){var n=this.handlers;return m(w(e),function(o){n[o]=n[o]||[],n[o].push(t)}),this}},off:function(e,t){if(e!==E){var n=this.handlers;return m(w(e),function(o){t?n[o]&&n[o].splice(W(n[o],t),1):delete n[o]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&Et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(Se,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:ht,Input:q,TouchAction:it,TouchInput:Xe,MouseInput:P,PointerEventInput:tt,TouchMouseInput:rt,SingleTouchInput:ut,Recognizer:me,AttrRecognizer:ie,Tap:Ge,Pan:He,Swipe:ct,Pinch:st,Rotate:ot,Press:at,on:k,off:D,each:m,merge:T,extend:M,assign:_,inherit:v,bindFn:b,prefixed:z}),(void 0!==N?N:"undefined"!=typeof self?self:{}).Hammer=Se,(L=function(){return Se}.call(ge,x,ge,se))!==E&&(se.exports=L)}(window,document)},1523:(se,ge,x)=>{"use strict";x.r(ge),x.d(ge,{GameModule:()=>Ie});var L=x(6019),N=x(7286),i=x(3556),I=x(3838),E=x(2620);class ce{constructor(c){this._iterator=0,this._limit=c,this._opacityRate=1/c,this._velocity=I.M8C.randFloat(.02,.4),this._tumble=new I.FM8(I.M8C.randFloat(-.05,.05),I.M8C.randFloat(-.05,.05))}Next(){this._iterator++}get HasNext(){return this._iterator!==this._limit}get OpacityRate(){return this._opacityRate}get Velocity(){return this._velocity}get Tumble(){return this._tumble}}class ve extends I.Kj0{constructor(c,r,a,l,g){var P;super(),this.IsMatch=!1,this.IsRemoved=!1,this.initShell(),this.position.set(c,r,a),this.rotateY(l),this._geometry=new I.DvJ,this._material=null===(P=g.material)||void 0===P?void 0:P.clone(),this._mesh=new I.Kj0(this._geometry,this._material),this._mesh.translateX(.01),this.add(this._mesh),this._thetaStart=Math.abs(l),this._thetaOffset=this._thetaStart,this._matchKey=g.matchKey}set ThetaOffset(c){this._thetaOffset=this.mod(this._thetaStart-c,E.uo)}get ThetaOffset(){return this._thetaOffset}get MatchKey(){return this._matchKey}LockPiece(c){this.IsRemoved||(this._material.opacity=c?.4:1)}InitRemove(){this._pieceRemoval=new ce(I.M8C.randInt(30,60))}Remove(){this._pieceRemoval.HasNext?(this._material.opacity-=this._pieceRemoval.OpacityRate,this._mesh.translateX(this._pieceRemoval.Velocity),this._mesh.rotateX(this._pieceRemoval.Tumble.x),this._mesh.rotateZ(this._pieceRemoval.Tumble.y),this._pieceRemoval.Next()):(this.IsMatch=!1,this.IsRemoved=!0)}Dispose(){this._shellMaterial.dispose(),this._shellGeometry.dispose(),this._material.dispose(),this._geometry.dispose()}initShell(){this._shellMaterial=new I.vBJ({transparent:!0,opacity:0}),this.material=this._shellMaterial;const c=1.05;this._shellGeometry=new I.DvJ(c,c,c),this.geometry=this._shellGeometry}mod(c,r){return(c%r+r)%r}}class de{constructor(c,r,a){this._steps=[],this._iterator=0;const l=1/a;for(let g=l;g<=l*a;g+=l)this._steps.push(I.M8C.lerp(c,r,g));this._steps[a-1]=r}get HasNext(){return this._iterator!==this._steps.length}get Next(){return this._steps[this._iterator++]}}class Q extends I.Tme{constructor(c,r,a){super(),this._theta=0,this.position.y=c,r.forEach(l=>{const g=new ve(l.polarCoords.x,0,l.polarCoords.z,l.rotationY,a[Math.floor(Math.random()*a.length)]);this.add(g)});for(let l=0;l<this.children.length;l++){const g=this.children[l];0===l?(g.Prev=this.children[this.children.length-1],g.Next=this.children[l+1]):l===this.children.length-1?(g.Prev=this.children[l-1],g.Next=this.children[0]):(g.Prev=this.children[l-1],g.Next=this.children[l+1])}}set Above(c){this._wheelAbove=c}get Above(){return this._wheelAbove}set Below(c){this._wheelBelow=c}get Below(){return this._wheelBelow}get EaseBetweener(){return this._betweener}Rotate(c){this.rotation.y=c}UpdateTheta(c){this._theta+=c,Math.abs(this._theta)>=E.uo&&(this._theta=0),this.Rotate(this._theta)}SnapToGrid(){const c=Math.ceil(this._theta/E.oE),r=Math.abs(this._theta-c*E.oE),a=Math.abs(this._theta-(c-1)*E.oE),l=this._theta;r<a?this._theta+=r:this._theta-=a,this._betweener=new de(l,this._theta,10);for(const g of this.children)g.ThetaOffset=this._theta}ResetIsMatch(){for(const c of this.children)c.IsMatch=!1}Dispose(){for(const c of this.children)c.Dispose()}}x(4646);let C=(()=>{class s{constructor(){this._currentMaterials=[]}get Materials(){return this._currentMaterials}InitColorsMaterials(){const r=this.getColorScheme();let a=0;this._currentMaterials.length&&(this._currentMaterials.forEach(l=>l.material.dispose()),this._currentMaterials=[]),r.forEach(l=>{this._currentMaterials.push({material:new I.Wid({color:new I.Ilk(l),transparent:!0}),materialColorHex:l,matchKey:a++})})}getColorScheme(){const r=new ColorScheme,a=["contrast","triade","tetrade","analogic"],l=a[I.M8C.randInt(0,a.length-1)];return r.from_hue(I.M8C.randInt(0,359)).scheme(l).variation("hard"),r.colors().map(P=>`#${P}`).slice(0,E.pQ)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})(),h=(()=>{class s{constructor(){this._introBetweener=[]}BuildLevelChange(r,a){this._introBetweener=[];for(let l=0;l<r.length;l++){const g=new de(r[l].position.y,a[l],E.su*(l+1));this._introBetweener.push(g)}}get IntroAnimating(){return this._introBetweener.some(r=>r.HasNext)}get IntroFrame(){return this._introBetweener}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})(),u=(()=>{class s{constructor(r,a){this.materialManager=r,this.effectsManager=a,this._piecePoints=[],this._verticalTargets=[],this._axle=[],this._boardLocking=!1,this._boardLocked=!1,this._pendingLevelChange=!1,this._stack=new I.Tme,this.initCoords()}get Axle(){return this._axle}get BoardLocked(){return this._boardLocked}InitShapes(r){r&&!this._scene&&(this._scene=r),this.dispose(),this.materialManager.InitColorsMaterials(),this._verticalTargets.forEach(a=>{const l=new Q(10,this._piecePoints,this.materialManager.Materials);this._axle.push(l),this._stack.add(l)}),this._scene.add(this._stack),this.assignIterationValues(),this.effectsManager.BuildLevelChange(this._axle,this._verticalTargets)}UpdateShapes(){var r,a,l,g;this.effectsManager.IntroAnimating&&this.effectsManager.IntroFrame.forEach((P,j)=>{P.HasNext&&(this._axle[j].position.y=P.Next)}),(null===(a=null===(r=this._activeWheel)||void 0===r?void 0:r.EaseBetweener)||void 0===a?void 0:a.HasNext)&&this._activeWheel.Rotate(null===(g=null===(l=this._activeWheel)||void 0===l?void 0:l.EaseBetweener)||void 0===g?void 0:g.Next),this._boardLocking&&(this.animateLock(this._boardLocking),this._boardLocked=!0),this._boardLocked&&this.animateRemoval()&&(this.animateLock(!1),this._boardLocked=!1,this._pendingLevelChange&&(this.InitShapes(),this._pendingLevelChange=!1))}SetActiveWheel(r){r&&(this._activeWheel=r)}SetMatches(r){this._matchPieces=r,this._matchPieces.forEach(a=>a.InitRemove())}LockBoard(r){this._boardLocking=r}SetLevelChange(){this._pendingLevelChange=!0}animateLock(r){this._axle.forEach(a=>{for(const l of a.children)l.IsMatch||l.LockPiece(r)})}animateRemoval(){const r=!this._matchPieces.some(a=>a.IsMatch);return r||this._matchPieces.forEach(a=>a.Remove()),r}assignIterationValues(){for(let r=0;r<this._axle.length;r++)0===r?(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=void 0):r===this._axle.length-1?(this._axle[r].Above=void 0,this._axle[r].Below=this._axle[r-1]):(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=this._axle[r-1])}initCoords(){for(let r=0;r<E.ZO;r+=E.Dj){const a=I.M8C.degToRad(r),l=E.i8*Math.cos(a),g=E.i8*Math.sin(a);this._piecePoints.push({polarCoords:new I.Pa4(l,0,g),rotationY:-1*a})}for(let r=-3;r<=3;r++)this._verticalTargets.push(r*E.EH)}dispose(){this._axle.length&&this._axle.forEach(r=>r.Dispose()),this._axle=[],this._stack.clear()}}return s.\u0275fac=function(r){return new(r||s)(i.LFG(C),i.LFG(h))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();x(9575);var p=(()=>{return(s=p||(p={})).Up="Up",s.Down="Down",s.Next="Next",s.Prev="Prev",p;var s})();let _=(()=>{class s{constructor(){this._matches=[]}FindMatches(r,a){for(const l of a)l.ResetIsMatch();return r.IsMatch=!0,this._matches=[r],this.directionalSearch(r),this._matches.length>=E.TT?this._matches:[]}directionalSearch(r){let a;for(const l in p){switch(a=void 0,l){case p.Next:a=this.matchNext(r);break;case p.Prev:a=this.matchPrev(r);break;case p.Up:a=this.matchAbove(r);break;case p.Down:a=this.matchBelow(r)}a&&(a.IsMatch=!0,this._matches.push(a),this.directionalSearch(a))}}matchNext(r){if(!r.Next.IsMatch&&!r.Next.IsRemoved&&r.Next.MatchKey===r.MatchKey)return r.Next}matchPrev(r){if(!r.Prev.IsMatch&&!r.Prev.IsRemoved&&r.Prev.MatchKey===r.MatchKey)return r.Prev}matchAbove(r){const a=r.parent;return a.Above?a.Above.children.find(g=>!g.IsMatch&&!g.IsRemoved&&g.MatchKey===r.MatchKey&&Math.abs(g.ThetaOffset-r.ThetaOffset)<E.Ng):void 0}matchBelow(r){const a=r.parent;return a.Below?a.Below.children.find(g=>!g.IsMatch&&!g.IsRemoved&&g.MatchKey===r.MatchKey&&Math.abs(g.ThetaOffset-r.ThetaOffset)<E.Ng):void 0}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})(),M=(()=>{class s{constructor(){this._level=1,this._levelPieceCount=0,this._score=0,this._timestamp=Date.now()}get Level(){return this._level}get Score(){return this._score}get CurrentLevelPieceCount(){return this._levelPieceCount}get CurrentLevelTarget(){return this._level*E.Ic}UpdateScore(r){Date.now(),this._timestamp=Date.now();let l=0;l=r*this._level,this._score+=l}UpdateLevel(r){this._levelPieceCount+=r;const a=this._levelPieceCount>=this.CurrentLevelTarget;return a&&(this._level++,this._levelPieceCount=0),a}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})(),T=(()=>{class s{constructor(r,a,l){this.objectManager=r,this.gameEngine=a,this.scoringManager=l,this._x=0,this._panning=!1,this._rayCaster=new I.iMs,this._pointerPos=new I.FM8}InitInteractions(r){this._hammer=new Hammer(r),this._hammer.on("panstart",a=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(a.center.x,a.center.y);l&&!(null==l?void 0:l.IsRemoved)&&(this._activeWheel=l.parent,this.objectManager.SetActiveWheel(this._activeWheel))}}),this._hammer.on("pan",a=>{var l;this.objectManager.BoardLocked||(this._panning?this.deviceCordRotation(a.center.x):this._panning=!0,a.isFinal&&(this._panning=!1,null===(l=this._activeWheel)||void 0===l||l.SnapToGrid(),this._activeWheel=void 0),this._x=a.center.x)}),this._hammer.on("press",a=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(a.center.x,a.center.y);if(l&&!(null==l?void 0:l.IsRemoved)){const g=this.gameEngine.FindMatches(l,this.objectManager.Axle);g.length&&(this.objectManager.LockBoard(!0),this.objectManager.SetMatches(g),this.scoringManager.UpdateScore(g.length),this.scoringManager.UpdateLevel(g.length)&&this.objectManager.SetLevelChange())}}})}UpdateSize(r,a){this._canvasRect=r,this._camera=a}deviceCordRotation(r){this._activeWheel&&this._activeWheel.UpdateTheta(I.M8C.degToRad(r-this._x)*(E.AG/this._canvasRect.width)*-1)}getPickedGamePiece(r,a){const g=this._canvasRect.bottom-this._canvasRect.top;this._pointerPos.x=(r-this._canvasRect.left)/(this._canvasRect.right-this._canvasRect.left)*2-1,this._pointerPos.y=-(a-this._canvasRect.top)/g*2+1,this._rayCaster.setFromCamera(this._pointerPos,this._camera);const P=this._rayCaster.intersectObjects(this.objectManager.Axle);if(P.length){const j=P[0].object;return j.parent instanceof ve?j.parent:j}}}return s.\u0275fac=function(r){return new(r||s)(i.LFG(u),i.LFG(_),i.LFG(M))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})(),v=(()=>{class s{constructor(r,a){this.objectManager=r,this.interactionManager=a,this._width=0,this._height=0}get scene(){return this._scene}InitScene(){if(!this._scene){this._scene=new I.xsS;const r=new I.Ox3(16777215,1);r.position.set(0,0,5),r.target.position.set(0,0,0),this._scene.add(r),this._scene.add(r.target),this._scene.background=new I.Ilk(252645135),this.objectManager.InitShapes(this._scene)}}UpdateSize(r){this._width=r.width,this._height=r.height;const a=this._width/this._height;this._camera?(this._camera.aspect=a,this._camera.updateProjectionMatrix()):(this._camera=new I.cPb(45,a,1,25),this._camera.position.set(0,0,5)),this._renderer&&this._renderer.setSize(this._width,this._height,!1),this.interactionManager.UpdateSize(r,this._camera)}InitRenderer(r){r&&(this._renderer=new I.CP7({canvas:r,antialias:!0})),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}RenderScene(){var r;null===(r=this._renderer)||void 0===r||r.render(this._scene,this._camera)}}return s.\u0275fac=function(r){return new(r||s)(i.LFG(u),i.LFG(T))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac}),s})();const b=["mainCanvas"];let y=(()=>{class s{constructor(r,a){this.sceneManager=r,this.interactionManager=a,this._initialRectCalculated=!1}onResize(){var r;this.sceneManager.UpdateSize(null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect())}ngAfterContentChecked(){var r;if(!this._initialRectCalculated){const a=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect();a&&(this.sceneManager.UpdateSize(a),this._initialRectCalculated=!0)}}ngAfterViewInit(){var r;const a=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement;a&&(this.sceneManager.InitRenderer(a),this.interactionManager.InitInteractions(a))}}return s.\u0275fac=function(r){return new(r||s)(i.Y36(v),i.Y36(T))},s.\u0275cmp=i.Xpm({type:s,selectors:[["wgl-canvas"]],viewQuery:function(r,a){if(1&r&&i.Gf(b,5),2&r){let l;i.iGM(l=i.CRH())&&(a.canvas=l.first)}},hostBindings:function(r,a){1&r&&i.NdJ("resize",function(){return a.onResize()},!1,i.Jf7)},decls:2,vars:0,consts:[[1,"main-canvas"],["mainCanvas",""]],template:function(r,a){1&r&&i._UZ(0,"canvas",0,1)},styles:[".main-canvas[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"]}),s})();var A=x(2604),k=x(348),D=x(543),V=x(7908),U=x(9985),w=x(8305),W=x(5724),J=x(1537),R=x(5044),z=x(2937);const K=["addListener","removeListener"],B=["addEventListener","removeEventListener"],H=["on","off"];function $(s,c,r,a){if((0,R.m)(r)&&(a=r,r=void 0),a)return $(s,c,r).pipe((0,z.Z)(a));const[l,g]=function(s){return(0,R.m)(s.addEventListener)&&(0,R.m)(s.removeEventListener)}(s)?B.map(P=>j=>s[P](c,j,r)):function(s){return(0,R.m)(s.addListener)&&(0,R.m)(s.removeListener)}(s)?K.map(xe(s,c)):function(s){return(0,R.m)(s.on)&&(0,R.m)(s.off)}(s)?H.map(xe(s,c)):[];if(!l&&(0,J.z)(s))return(0,W.z)(P=>$(P,c,r))((0,U.Xf)(s));if(!l)throw new TypeError("Invalid event target");return new w.y(P=>{const j=(...Oe)=>P.next(1<Oe.length?Oe:Oe[0]);return l(j),()=>g(j)})}function xe(s,c){return r=>a=>s[r](c,a)}var qe=x(461);const ke=["primaryValueBar"],je=(0,A.pj)(class{constructor(s){this._elementRef=s}},"primary"),Qe=new i.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const s=(0,i.f3M)(L.K0),c=s?s.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}}),he=new i.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let O=0,G=(()=>{class s extends je{constructor(r,a,l,g,P){super(r),this._ngZone=a,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.vpe,this._animationEndSubscription=V.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+O++;const j=g?g.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${j}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,P&&(P.color&&(this.color=this.defaultColor=P.color),this.mode=P.mode||this.mode)}get value(){return this._value}set value(r){this._value=ye((0,k.su)(r)||0)}get bufferValue(){return this._bufferValue}set bufferValue(r){this._bufferValue=ye(r||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const r=this._primaryValueBar.nativeElement;this._animationEndSubscription=$(r,"transitionend").pipe((0,qe.h)(a=>a.target===r)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(D.Qb,8),i.Y36(Qe,8),i.Y36(he,8))},s.\u0275cmp=i.Xpm({type:s,selectors:[["mat-progress-bar"]],viewQuery:function(r,a){if(1&r&&i.Gf(ke,5),2&r){let l;i.iGM(l=i.CRH())&&(a._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(r,a){2&r&&(i.uIk("aria-valuenow","indeterminate"===a.mode||"query"===a.mode?null:a.value)("mode",a.mode),i.ekj("_mat-animation-noopable",a._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(r,a){1&r&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1),i.TgZ(2,"defs"),i.TgZ(3,"pattern",2),i._UZ(4,"circle",3),i.qZA(),i.qZA(),i._UZ(5,"rect",4),i.qZA(),i.kcU(),i._UZ(6,"div",5),i._UZ(7,"div",6,7),i._UZ(9,"div",8),i.qZA()),2&r&&(i.xp6(3),i.Q6J("id",a.progressbarId),i.xp6(2),i.uIk("fill",a._rectangleFillValue),i.xp6(1),i.Q6J("ngStyle",a._bufferTransform()),i.xp6(1),i.Q6J("ngStyle",a._primaryTransform()))},directives:[L.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),s})();function ye(s,c=0,r=100){return Math.max(c,Math.min(r,s))}let Te=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[L.ez,A.BQ],A.BQ]}),s})();var le=x(928);function be(s,c){if(1&s&&(i.O4$(),i._UZ(0,"circle",3)),2&s){const r=i.oxw();i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}function Ee(s,c){if(1&s&&(i.O4$(),i._UZ(0,"circle",3)),2&s){const r=i.oxw();i.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}function ee(s,c){if(1&s&&(i.O4$(),i._UZ(0,"circle",3)),2&s){const r=i.oxw();i.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}function fe(s,c){if(1&s&&(i.O4$(),i._UZ(0,"circle",3)),2&s){const r=i.oxw();i.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),i.uIk("r",r._getCircleRadius())}}const q=(0,A.pj)(class{constructor(s){this._elementRef=s}},"primary"),Ue=new i.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class ne extends q{constructor(c,r,a,l,g){super(c),this._document=a,this._diameter=100,this._value=0,this.mode="determinate";const P=ne._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),P.has(a.head)||P.set(a.head,new Set([100])),this._noopAnimations="NoopAnimations"===l&&!!g&&!g._forceAnimations,g&&(g.diameter&&(this.diameter=g.diameter),g.strokeWidth&&(this.strokeWidth=g.strokeWidth))}get diameter(){return this._diameter}set diameter(c){this._diameter=(0,k.su)(c),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(c){this._strokeWidth=(0,k.su)(c)}get value(){return"determinate"===this.mode?this._value:0}set value(c){this._value=Math.max(0,Math.min(100,(0,k.su)(c)))}ngOnInit(){const c=this._elementRef.nativeElement;this._styleRoot=(0,le.kV)(c)||this._document.head,this._attachStyleNode(),c.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const c=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${c} ${c}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const c=this._styleRoot,r=this._diameter,a=ne._diameters;let l=a.get(c);if(!l||!l.has(r)){const g=this._document.createElement("style");g.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),g.textContent=this._getAnimationText(),c.appendChild(g),l||(l=new Set,a.set(c,l)),l.add(r)}}_getAnimationText(){const c=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*c).replace(/END_VALUE/g,""+.2*c).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ne._diameters=new WeakMap,ne.\u0275fac=function(c){return new(c||ne)(i.Y36(i.SBq),i.Y36(le.t4),i.Y36(L.K0,8),i.Y36(D.Qb,8),i.Y36(Ue))},ne.\u0275cmp=i.Xpm({type:ne,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(c,r){2&c&&(i.uIk("aria-valuemin","determinate"===r.mode?0:null)("aria-valuemax","determinate"===r.mode?100:null)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),i.Udp("width",r.diameter,"px")("height",r.diameter,"px"),i.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[i.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(c,r){1&c&&(i.O4$(),i.TgZ(0,"svg",0),i.YNc(1,be,1,9,"circle",1),i.YNc(2,Ee,1,7,"circle",2),i.qZA()),2&c&&(i.Udp("width",r.diameter,"px")("height",r.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===r.mode),i.uIk("viewBox",r._getViewBox()),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},directives:[L.RF,L.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Ke=(()=>{class s extends ne{constructor(r,a,l,g,P){super(r,a,l,g,P),this.mode="indeterminate"}}return s.\u0275fac=function(r){return new(r||s)(i.Y36(i.SBq),i.Y36(le.t4),i.Y36(L.K0,8),i.Y36(D.Qb,8),i.Y36(Ue))},s.\u0275cmp=i.Xpm({type:s,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(r,a){2&r&&(i.Udp("width",a.diameter,"px")("height",a.diameter,"px"),i.ekj("_mat-animation-noopable",a._noopAnimations))},inputs:{color:"color"},features:[i.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,a){1&r&&(i.O4$(),i.TgZ(0,"svg",0),i.YNc(1,ee,1,9,"circle",1),i.YNc(2,fe,1,7,"circle",2),i.qZA()),2&r&&(i.Udp("width",a.diameter,"px")("height",a.diameter,"px"),i.Q6J("ngSwitch","indeterminate"===a.mode),i.uIk("viewBox",a._getViewBox()),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1))},directives:[L.RF,L.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),s})(),De=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[A.BQ,L.ez],A.BQ]}),s})();const Be=[{path:"",component:(()=>{class s{constructor(r,a,l,g){this.ngZone=r,this.sceneManager=a,this.objectManager=l,this.scoringManager=g}ngOnInit(){this.sceneManager.InitScene(),this.animate()}animate(){this.ngZone.runOutsideAngular(()=>{this.objectManager.UpdateShapes(),this.sceneManager.RenderScene(),requestAnimationFrame(()=>{this.animate()})})}}return s.\u0275fac=function(r){return new(r||s)(i.Y36(i.R0b),i.Y36(v),i.Y36(u),i.Y36(M))},s.\u0275cmp=i.Xpm({type:s,selectors:[["wgl-game-container"]],decls:10,vars:4,consts:[[1,"game-container"],[1,"game-scoring"],[1,"game-canvas"],[1,"level-progress"],[1,"progress-horizontal",3,"value"],["mode","determinate",1,"progress-spinner",3,"value"]],template:function(r,a){1&r&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.TgZ(4,"p"),i._uU(5),i.qZA(),i.qZA(),i._UZ(6,"wgl-canvas",2),i.TgZ(7,"div",3),i._UZ(8,"mat-progress-bar",4),i._UZ(9,"mat-spinner",5),i.qZA(),i.qZA()),2&r&&(i.xp6(3),i.hij("Score: ",a.scoringManager.Score,""),i.xp6(2),i.hij("Level: ",a.scoringManager.Level,""),i.xp6(3),i.s9C("value",a.scoringManager.CurrentLevelPieceCount/a.scoringManager.CurrentLevelTarget*100),i.xp6(1),i.s9C("value",a.scoringManager.CurrentLevelPieceCount/a.scoringManager.CurrentLevelTarget*100))},directives:[y,G,Ke],styles:[".game-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:none}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]{flex-direction:row}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{text-align:right;flex-direction:column;justify-content:start;flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:45em;flex:unset}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 4/5){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:35em}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 5/3){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:30%}}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:block}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-horizontal[_ngcontent-%COMP%]{display:none}}"]}),s})()}];let Fe=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[[L.ez,N.Bz.forChild(Be)]]}),s})(),Ie=(()=>{class s{}return s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({providers:[v,C,u,T,_,M,h],imports:[[L.ez,Fe,Te,De]]}),s})()}}]);