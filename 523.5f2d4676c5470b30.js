(self.webpackChunkwebgl_v1=self.webpackChunkwebgl_v1||[]).push([[523],{4646:function(ae,_e,P){var L;ae=P.nmd(ae),function(){var n,C=[].slice;n=function(){var M,K,Se,de,j;for(j=Array.isArray||function(h){return"[object Array]"==={}.toString.call(h)},I.SCHEMES={},K=0,Se=(de="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;K<Se;K++)I.SCHEMES[de[K]]=!0;function I(){var h,m;for(h=[],m=1;m<=4;m++)h.push(new I.mutablecolor(60));this.col=h,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return I.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},I.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},I.prototype.colors=function(){var h,m,u,v,_,S,T,g,b,y;if(b=1,m=this.col[0].get_hue(),(h={mono:function(){},contrast:(y=this,function(){return b=2,y.col[1].set_hue(m),y.col[1].rotate(180)}),triade:function(y){return function(){var A;return b=3,A=60*y._distance,y.col[1].set_hue(m),y.col[1].rotate(180-A),y.col[2].set_hue(m),y.col[2].rotate(180+A)}}(this),tetrade:function(y){return function(){var A;return b=4,A=90*y._distance,y.col[1].set_hue(m),y.col[1].rotate(180),y.col[2].set_hue(m),y.col[2].rotate(180+A),y.col[3].set_hue(m),y.col[3].rotate(A)}}(this),analogic:function(y){return function(){var A;return b=y._add_complement?4:3,A=60*y._distance,y.col[1].set_hue(m),y.col[1].rotate(A),y.col[2].set_hue(m),y.col[2].rotate(360-A),y.col[3].set_hue(m),y.col[3].rotate(180)}}(this)}).monochromatic=h.mono,null==h[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(h[this._scheme](),T=[],u=_=0,g=b-1;0<=g?_<=g:_>=g;u=0<=g?++_:--_)for(v=S=0;S<=3;v=++S)T[4*u+v]=this.col[u].get_hex(this._web_safe,v);return T},I.prototype.colorset=function(){var h,m;for(h=M(this.colors()),m=[];h.length>0;)m.push(h.splice(0,4));return m},I.prototype.from_hue=function(h){if(null==h)throw"from_hue needs an argument";return this.col[0].set_hue(h),this},I.prototype.rgb2ryb=function(){var h,m,u,v,_,S,T,g,b;return null!=(T=1<=arguments.length?C.call(arguments,0):[])[0]&&j(T[0])&&(T=T[0]),S=T[0],m=T[1],h=T[2],S-=g=Math.min(S,m,h),m-=g,h-=g,v=Math.max(S,m,h),S-=b=Math.min(S,m),m-=b,h>0&&m>0&&(h/=2,m/=2),b+=m,h+=m,(_=Math.max(S,b,h))>0&&(S*=u=v/_,b*=u,h*=u),S+=g,b+=g,h+=g,[Math.floor(S),Math.floor(b),Math.floor(h)]},I.prototype.rgb2hsv=function(){var h,m,u,v,_,S,T,g,y;return null!=(g=1<=arguments.length?C.call(arguments,0):[])[0]&&j(g[0])&&(g=g[0]),T=g[0],u=g[1],h=g[2],T/=255,u/=255,h/=255,S=Math.min.apply(Math,[T,u,h]),y=_=Math.max.apply(Math,[T,u,h]),(m=_-S)>0?(v=T===_?(u-h)/m:u===_?2+(h-T)/m:4+(T-u)/m,v*=60,[v%=360,m/_,y]):[0,0,y]},I.prototype.rgbToHsv=function(){var h,m,u,v,_,S,T,g,b,y;if(null!=(g=1<=arguments.length?C.call(arguments,0):[])[0]&&j(g[0])&&(g=g[0]),T=g[0],u=g[1],h=g[2],T/=255,u/=255,h/=255,v=void 0,b=void 0,y=_=Math.max(T,u,h),m=_-(S=Math.min(T,u,h)),b=0===_?0:m/_,_===S)v=0;else{switch(_){case T:v=(u-h)/m+(u<h?6:0);break;case u:v=(h-T)/m+2;break;case h:v=(T-u)/m+4}v/=6}return[v,b,y]},I.prototype.from_hex=function(h){var g,U,F,D,w,H;if(null==h)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(h))throw"from_hex("+h+") - argument must be in the form of RRGGBB";return D=/(..)(..)(..)/.exec(h).slice(1,4),U=function(){var Q,z,R;for(R=[],z=0,Q=D.length;z<Q;z++)R.push(parseInt(D[z],16));return R}(),F=this.rgb2ryb([U[0],U[1],U[2]]),w=(g=this.rgbToHsv(F[0],F[1],F[2]))[1],H=g[2],this.from_hue(360*g[0]),this._set_variant_preset([w,H,w,.7*H,.25*w,1,.5*w,1]),this},I.prototype.add_complement=function(h){if(null==h)throw"add_complement needs an argument";return this._add_complement=h,this},I.prototype.web_safe=function(h){if(null==h)throw"web_safe needs an argument";return this._web_safe=h,this},I.prototype.distance=function(h){if(null==h)throw"distance needs an argument";if(h<0)throw"distance("+h+") - argument must be >= 0";if(h>1)throw"distance("+h+") - argument must be <= 1";return this._distance=h,this},I.prototype.scheme=function(h){if(null==h)return this._scheme;if(null==I.SCHEMES[h])throw"'"+h+"' isn't a valid scheme name";return this._scheme=h,this},I.prototype.variation=function(h){if(null==h)throw"variation needs an argument";if(null==I.PRESETS[h])throw"'$v' isn't a valid variation name";return this._set_variant_preset(I.PRESETS[h]),this},I.prototype._set_variant_preset=function(h){var m,u,v;for(v=[],m=u=0;u<=3;m=++u)v.push(this.col[m].set_variant_preset(h));return v},M=function(h){var m,u,v;if(null==h||"object"!=typeof h)return h;if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp)return m="",null!=h.global&&(m+="g"),null!=h.ignoreCase&&(m+="i"),null!=h.multiline&&(m+="m"),null!=h.sticky&&(m+="y"),new RegExp(h.source,m);for(u in v=new h.constructor,h)v[u]=M(h[u]);return v},I.mutablecolor=function(){function h(m){if(null==m)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(m),this.set_variant_preset(I.PRESETS.default)}return h.prototype.hue=0,h.prototype.saturation=[],h.prototype.value=[],h.prototype.base_red=0,h.prototype.base_green=0,h.prototype.base_saturation=0,h.prototype.base_value=0,h.prototype.get_hue=function(){return this.hue},h.prototype.set_hue=function(m){var u,v,_,S,T,g,b,y,A,k;for(v in u=function(U,F,D){return U+Math.round((F-U)*D)},this.hue=Math.round(m%360),k=(T=this.hue%15+(this.hue-Math.floor(this.hue)))/15,b=(15+(g=this.hue-Math.floor(T)))%360,360===g&&(g=0),360===b&&(b=0),_=I.COLOR_WHEEL[g],S=I.COLOR_WHEEL[b],y={red:0,green:1,blue:2,value:3})this["base_"+v]=u(_[A=y[v]],S[A],k);return this.base_saturation=u(100,100,k)/100,this.base_value/=100},h.prototype.rotate=function(m){return this.set_hue((this.hue+m)%360)},h.prototype.get_saturation=function(m){var u,v;return(u=(v=this.saturation[m])<0?-v*this.base_saturation:v)>1&&(u=1),u<0&&(u=0),u},h.prototype.get_value=function(m){var u,v;return(u=(v=this.value[m])<0?-v*this.base_value:v)>1&&(u=1),u<0&&(u=0),u},h.prototype.set_variant=function(m,u,v){return this.saturation[m]=u,this.value[m]=v},h.prototype.set_variant_preset=function(m){var u,v,_;for(_=[],u=v=0;v<=3;u=++v)_.push(this.set_variant(u,m[2*u],m[2*u+1]));return _},h.prototype.get_hex=function(m,u){var _,S,g,b,y,A,k,F,D,w,H,Q,z,R;for(k=Math.max.apply(Math,function(){var $,B,G,ie;for(ie=[],B=0,$=(G=["red","green","blue"]).length;B<$;B++)ie.push(this["base_"+(_=G[B])]);return ie}.call(this)),Math.min.apply(Math,function(){var $,B,G,ie;for(ie=[],B=0,$=(G=["red","green","blue"]).length;B<$;B++)ie.push(this["base_"+(_=G[B])]);return ie}.call(this)),R=255*(u<0?this.base_value:this.get_value(u)),Q=u<0?this.base_saturation:this.get_saturation(u),g=k>0?R/k:0,w=[],A=0,b=(D=["red","green","blue"]).length;A<b;A++)_=D[A],H=Math.min.apply(Math,[255,Math.round(R-(R-this["base_"+_]*g)*Q)]),w.push(H);for(m&&(w=function(){var $,B,G;for(G=[],B=0,$=w.length;B<$;B++)G.push(51*Math.round(w[B]/51));return G}()),S="",F=0,y=w.length;F<y;F++)(z=w[F].toString(16)).length<2&&(z="0"+z),S+=z;return S},h}(),I}(),null!==ae&&null!=ae.exports?ae.exports=n:void 0!==(L=function(){return n}.apply(_e,[]))&&(ae.exports=L)}.call(this)},9575:(ae,_e,P)=>{var N;!function(L,n,C,M){"use strict";var _,K=["","webkit","Moz","MS","ms","o"],Se=n.createElement("div"),j=Math.round,re=Math.abs,I=Date.now;function h(e,t,i){return setTimeout(b(e,i),t)}function m(e,t,i){return!!Array.isArray(e)&&(u(e,i[t],i),!0)}function u(e,t,i){var o;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==M)for(o=0;o<e.length;)t.call(i,e[o],o,e),o++;else for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e)}function v(e,t,i){var o="DEPRECATED METHOD: "+t+"\n"+i+" AT \n";return function(){var f=new Error("get-stack-trace"),p=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",E=L.console&&(L.console.warn||L.console.log);return E&&E.call(L.console,o,p),e.apply(this,arguments)}}_="function"!=typeof Object.assign?function(t){if(t===M||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var f=arguments[o];if(f!==M&&null!==f)for(var p in f)f.hasOwnProperty(p)&&(i[p]=f[p])}return i}:Object.assign;var S=v(function(t,i,o){for(var f=Object.keys(i),p=0;p<f.length;)(!o||o&&t[f[p]]===M)&&(t[f[p]]=i[f[p]]),p++;return t},"extend","Use `assign`."),T=v(function(t,i){return S(t,i,!0)},"merge","Use `assign`.");function g(e,t,i){var f,o=t.prototype;(f=e.prototype=Object.create(o)).constructor=e,f._super=o,i&&_(f,i)}function b(e,t){return function(){return e.apply(t,arguments)}}function y(e,t){return"function"==typeof e?e.apply(t&&t[0]||M,t):e}function A(e,t){return e===M?t:e}function k(e,t,i){u(w(t),function(o){e.addEventListener(o,i,!1)})}function U(e,t,i){u(w(t),function(o){e.removeEventListener(o,i,!1)})}function F(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function D(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function H(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var o=0;o<e.length;){if(i&&e[o][i]==t||!i&&e[o]===t)return o;o++}return-1}function Q(e){return Array.prototype.slice.call(e,0)}function z(e,t,i){for(var o=[],f=[],p=0;p<e.length;){var E=t?e[p][t]:e[p];H(f,E)<0&&o.push(e[p]),f[p]=E,p++}return i&&(o=t?o.sort(function(V,Z){return V[t]>Z[t]}):o.sort()),o}function R(e,t){for(var i,o,f=t[0].toUpperCase()+t.slice(1),p=0;p<K.length;){if((o=(i=K[p])?i+f:t)in e)return o;p++}return M}var $=1;function G(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||L}var Ce="ontouchstart"in L,Le=R(L,"PointerEvent")!==M,qe=Ce&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ye="touch",ke="mouse",De=["x","y"],ge=["clientX","clientY"];function q(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(o){y(e.options.enable,[e])&&i.handler(o)},this.init()}function Fe(e,t,i){var o=i.pointers.length,f=i.changedPointers.length,p=1&t&&o-f==0,E=12&t&&o-f==0;i.isFirst=!!p,i.isFinal=!!E,p&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,o=t.pointers,f=o.length;i.firstInput||(i.firstInput=Be(t)),f>1&&!i.firstMultiple?i.firstMultiple=Be(t):1===f&&(i.firstMultiple=!1);var p=i.firstInput,E=i.firstMultiple,X=E?E.center:p.center,V=t.center=Xe(o);t.timeStamp=I(),t.deltaTime=t.timeStamp-p.timeStamp,t.angle=Oe(X,V),t.distance=Ae(X,V),function(e,t){var i=t.center,o=e.offsetDelta||{},f=e.prevDelta||{},p=e.prevInput||{};(1===t.eventType||4===p.eventType)&&(f=e.prevDelta={x:p.deltaX||0,y:p.deltaY||0},o=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=f.x+(i.x-o.x),t.deltaY=f.y+(i.y-o.y)}(i,t),t.offsetDirection=Ye(t.deltaX,t.deltaY);var Z=tt(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=Z.x,t.overallVelocityY=Z.y,t.overallVelocity=re(Z.x)>re(Z.y)?Z.x:Z.y,t.scale=E?function(e,t){return Ae(t[0],t[1],ge)/Ae(e[0],e[1],ge)}(E.pointers,o):1,t.rotation=E?function(e,t){return Oe(t[1],t[0],ge)+Oe(e[1],e[0],ge)}(E.pointers,o):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var f,p,E,X,i=e.lastInterval||t,o=t.timeStamp-i.timeStamp;if(8!=t.eventType&&(o>25||i.velocity===M)){var V=t.deltaX-i.deltaX,Z=t.deltaY-i.deltaY,ce=tt(o,V,Z);p=ce.x,E=ce.y,f=re(ce.x)>re(ce.y)?ce.x:ce.y,X=Ye(V,Z),e.lastInterval=t}else f=i.velocity,p=i.velocityX,E=i.velocityY,X=i.direction;t.velocity=f,t.velocityX=p,t.velocityY=E,t.direction=X}(i,t);var ce=e.element;F(t.srcEvent.target,ce)&&(ce=t.srcEvent.target),t.target=ce}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function Be(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:j(e.pointers[i].clientX),clientY:j(e.pointers[i].clientY)},i++;return{timeStamp:I(),pointers:t,center:Xe(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Xe(e){var t=e.length;if(1===t)return{x:j(e[0].clientX),y:j(e[0].clientY)};for(var i=0,o=0,f=0;f<t;)i+=e[f].clientX,o+=e[f].clientY,f++;return{x:j(i/t),y:j(o/t)}}function tt(e,t,i){return{x:t/e||0,y:i/e||0}}function Ye(e,t){return e===t?1:re(e)>=re(t)?e<0?2:4:t<0?8:16}function Ae(e,t,i){i||(i=De);var o=t[i[0]]-e[i[0]],f=t[i[1]]-e[i[1]];return Math.sqrt(o*o+f*f)}function Oe(e,t,i){return i||(i=De),180*Math.atan2(t[i[1]]-e[i[1]],t[i[0]]-e[i[0]])/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(G(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&U(this.element,this.evEl,this.domHandler),this.evTarget&&U(this.target,this.evTarget,this.domHandler),this.evWin&&U(G(this.element),this.evWin,this.domHandler)}};var r={mousedown:1,mousemove:2,mouseup:4},s="mousedown",l="mousemove mouseup";function d(){this.evEl=s,this.evWin=l,this.pressed=!1,q.apply(this,arguments)}g(d,q,{handler:function(t){var i=r[t.type];1&i&&0===t.button&&(this.pressed=!0),2&i&&1!==t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:ke,srcEvent:t}))}});var x={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ee={2:ye,3:"pen",4:ke,5:"kinect"},xe="pointerdown",ft="pointermove pointerup pointercancel";function rt(){this.evEl=xe,this.evWin=ft,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}L.MSPointerEvent&&!L.PointerEvent&&(xe="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),g(rt,q,{handler:function(t){var i=this.store,o=!1,f=t.type.toLowerCase().replace("ms",""),p=x[f],E=ee[t.pointerType]||t.pointerType,X=E==ye,V=H(i,t.pointerId,"pointerId");1&p&&(0===t.button||X)?V<0&&(i.push(t),V=i.length-1):12&p&&(o=!0),!(V<0)&&(i[V]=t,this.callback(this.manager,p,{pointers:i,changedPointers:[t],pointerType:E,srcEvent:t}),o&&i.splice(V,1))}});var Et={touchstart:1,touchmove:2,touchend:4,touchcancel:8},St="touchstart",Ct="touchstart touchmove touchend touchcancel";function ut(){this.evTarget=St,this.evWin=Ct,this.started=!1,q.apply(this,arguments)}function It(e,t){var i=Q(e.touches),o=Q(e.changedTouches);return 12&t&&(i=z(i.concat(o),"identifier",!0)),[i,o]}g(ut,q,{handler:function(t){var i=Et[t.type];if(1===i&&(this.started=!0),this.started){var o=It.call(this,t,i);12&i&&o[0].length-o[1].length==0&&(this.started=!1),this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:ye,srcEvent:t})}}});var At={touchstart:1,touchmove:2,touchend:4,touchcancel:8},xt="touchstart touchmove touchend touchcancel";function Ve(){this.evTarget=xt,this.targetIds={},q.apply(this,arguments)}function Pt(e,t){var i=Q(e.touches),o=this.targetIds;if(3&t&&1===i.length)return o[i[0].identifier]=!0,[i,i];var f,p,E=Q(e.changedTouches),X=[],V=this.target;if(p=i.filter(function(Z){return F(Z.target,V)}),1===t)for(f=0;f<p.length;)o[p[f].identifier]=!0,f++;for(f=0;f<E.length;)o[E[f].identifier]&&X.push(E[f]),12&t&&delete o[E[f].identifier],f++;return X.length?[z(p.concat(X),"identifier",!0),X]:void 0}function it(){q.apply(this,arguments);var e=b(this.handler,this);this.touch=new Ve(this.manager,e),this.mouse=new d(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ot(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,dt.call(this,t)):12&e&&dt.call(this,t)}function dt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var o=this.lastTouches;setTimeout(function(){var p=o.indexOf(i);p>-1&&o.splice(p,1)},2500)}}function wt(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var f=this.lastTouches[o],p=Math.abs(t-f.x),E=Math.abs(i-f.y);if(p<=25&&E<=25)return!0}return!1}g(Ve,q,{handler:function(t){var i=At[t.type],o=Pt.call(this,t,i);!o||this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:ye,srcEvent:t})}}),g(it,q,{handler:function(t,i,o){var p=o.pointerType==ke;if(!(p&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)){if(o.pointerType==ye)Ot.call(this,i,o);else if(p&&wt.call(this,o))return;this.callback(t,i,o)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pt=R(Se.style,"touchAction"),gt=pt!==M,vt="compute",nt="manipulation",Me="none",we="pan-x",Re="pan-y",He=function(){if(!gt)return!1;var e={},t=L.CSS&&L.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=!t||L.CSS.supports("touch-action",i)}),e}();function st(e,t){this.manager=e,this.set(t)}function me(e){this.options=_({},this.defaults,e||{}),this.id=$++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function yt(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Tt(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function We(e,t){var i=t.manager;return i?i.get(e):e}function se(){me.apply(this,arguments)}function ze(){se.apply(this,arguments),this.pX=null,this.pY=null}function at(){se.apply(this,arguments)}function ot(){me.apply(this,arguments),this._timer=null,this._input=null}function ct(){se.apply(this,arguments)}function ht(){se.apply(this,arguments)}function Ze(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ee(e,t){return(t=t||{}).recognizers=A(t.recognizers,Ee.defaults.preset),new lt(e,t)}function lt(e,t){this.options=_({},Ee.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(Le?rt:qe?Ve:Ce?it:d))(e,Fe)}(this),this.touchAction=new st(this,this.options.touchAction),Mt(this,!0),u(this.options.recognizers,function(i){var o=this.add(new i[0](i[1]));i[2]&&o.recognizeWith(i[2]),i[3]&&o.requireFailure(i[3])},this)}function Mt(e,t){var o,i=e.element;i.style&&(u(e.options.cssProps,function(f,p){o=R(i.style,p),t?(e.oldCssProps[o]=i.style[o],i.style[o]=f):i.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={}))}st.prototype={set:function(e){e==vt&&(e=this.compute()),gt&&this.manager.element.style&&He[e]&&(this.manager.element.style[pt]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return u(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(D(e,Me))return Me;var t=D(e,we),i=D(e,Re);return t&&i?Me:t||i?t?we:Re:D(e,nt)?nt:"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,f=D(o,Me)&&!He[Me],p=D(o,Re)&&!He[Re],E=D(o,we)&&!He[we];if(f&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return E&&p||!(f||p&&6&i||E&&24&i)?void 0:this.preventSrc(t)}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},me.prototype={defaults:{},set:function(e){return _(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=We(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=We(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===H(t,e=We(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=We(e,this);var t=H(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function o(f){t.manager.emit(f,e)}i<8&&o(t.options.event+yt(i)),o(t.options.event),e.additionalEvent&&o(e.additionalEvent),i>=8&&o(t.options.event+yt(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=_({},e);if(!y(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},g(se,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,o=6&t,f=this.attrTest(e);return o&&(8&i||!f)?16|t:o||f?4&i?8|t:2&t?4|t:2:32}}),g(ze,se,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Re),24&e&&t.push(we),t},directionTest:function(e){var t=this.options,i=!0,o=e.distance,f=e.direction,p=e.deltaX,E=e.deltaY;return f&t.direction||(6&t.direction?(f=0===p?1:p<0?2:4,i=p!=this.pX,o=Math.abs(e.deltaX)):(f=0===E?1:E<0?8:16,i=E!=this.pY,o=Math.abs(e.deltaY))),e.direction=f,i&&o>t.threshold&&f&t.direction},attrTest:function(e){return se.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Tt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),g(at,se,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Me]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),g(ot,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime>t.time;if(this._input=e,!o||!i||12&e.eventType&&!f)this.reset();else if(1&e.eventType)this.reset(),this._timer=h(function(){this.state=8,this.tryEmit()},t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=I(),this.manager.emit(this.options.event,this._input)))}}),g(ct,se,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Me]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),g(ht,se,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return ze.prototype.getTouchAction.call(this)},attrTest:function(e){var i,t=this.options.direction;return 30&t?i=e.overallVelocity:6&t?i=e.overallVelocityX:24&t&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&re(i)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Tt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),g(Ze,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[nt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,o=e.distance<t.threshold,f=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(o&&f&&i){if(4!=e.eventType)return this.failTimeout();var p=!this.pTime||e.timeStamp-this.pTime<t.interval,E=!this.pCenter||Ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,E&&p?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=h(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ee.VERSION="2.0.7",Ee.defaults={domEvents:!1,touchAction:vt,enable:!0,inputTarget:null,inputClass:null,preset:[[ct,{enable:!1}],[at,{enable:!1},["rotate"]],[ht,{direction:6}],[ze,{direction:6},["swipe"]],[Ze],[Ze,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lt.prototype={set:function(e){return _(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,o=this.recognizers,f=t.curRecognizer;(!f||f&&8&f.state)&&(f=t.curRecognizer=null);for(var p=0;p<o.length;)i=o[p],2===t.stopped||f&&i!=f&&!i.canRecognizeWith(f)?i.reset():i.recognize(e),!f&&14&i.state&&(f=t.curRecognizer=i),p++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=H(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==M&&t!==M){var i=this.handlers;return u(w(e),function(o){i[o]=i[o]||[],i[o].push(t)}),this}},off:function(e,t){if(e!==M){var i=this.handlers;return u(w(e),function(o){t?i[o]&&i[o].splice(H(i[o],t),1):delete i[o]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](t),o++}},destroy:function(){this.element&&Mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(Ee,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:lt,Input:q,TouchAction:st,TouchInput:Ve,MouseInput:d,PointerEventInput:rt,TouchMouseInput:it,SingleTouchInput:ut,Recognizer:me,AttrRecognizer:se,Tap:Ze,Pan:ze,Swipe:ht,Pinch:at,Rotate:ct,Press:ot,on:k,off:U,each:u,merge:T,extend:S,assign:_,inherit:g,bindFn:b,prefixed:R}),(void 0!==L?L:"undefined"!=typeof self?self:{}).Hammer=Ee,(N=function(){return Ee}.call(_e,P,_e,ae))!==M&&(ae.exports=N)}(window,document)},1523:(ae,_e,P)=>{"use strict";P.r(_e),P.d(_e,{GameModule:()=>Oe});var N=P(6019),L=P(7286),n=P(3556),C=P(3838),M=P(2620);class K{constructor(c,r,s){this._steps=[],this._iterator=0;const l=1/s;for(let d=l;d<=l*s;d+=l)this._steps.push(C.M8C.lerp(c,r,d));this._steps[s-1]=r}get HasNext(){return this._iterator!==this._steps.length}get Next(){return this._steps[this._iterator++]}}class Se{constructor(c){this._iterator=0,this._limit=c,this._opacityRate=1/c,this._velocity=C.M8C.randFloat(.02,.4),this._tumble=new C.FM8(C.M8C.randFloat(-.05,.05),C.M8C.randFloat(-.05,.05))}Next(){this._iterator++}get HasNext(){return this._iterator!==this._limit}get OpacityRate(){return this._opacityRate}get Velocity(){return this._velocity}get Tumble(){return this._tumble}}class de extends C.Tme{constructor(c,r,s,l,d){super(),this._innerMaterials=[],this._matchKeySequence=[1,2,0,3],this.IsMatch=!1,this._isRemoved=!1,this.position.set(c,r,s),this.rotateY(l),this._innerGeometry=new C.nvb(1,1,1,4,4,4),this.initMaterials(d),this._mesh=new C.Kj0(this._innerGeometry,this._innerMaterials.map(x=>x.material)),this.add(this._mesh),this._thetaStart=Math.abs(l),this._thetaOffset=this._thetaStart,this._matchKey=this._innerMaterials[this._matchKeySequence[0]].matchKey}get IsRemoved(){return this._isRemoved}set ThetaOffset(c){this._thetaOffset=this.mod(this._thetaStart-c,M.uo)}get ThetaOffset(){return this._thetaOffset}get MatchKey(){return this._matchKey}LockPiece(c){this._isRemoved||this._innerMaterials.forEach(r=>r.material.opacity=c?.4:1)}InitRemove(){this._pieceRemoval=new Se(C.M8C.randInt(30,60))}Remove(){this._pieceRemoval.HasNext?(this._innerMaterials.forEach(c=>c.material.opacity-=this._pieceRemoval.OpacityRate),this._mesh.translateX(this._pieceRemoval.Velocity),this._mesh.rotateX(this._pieceRemoval.Tumble.x),this._mesh.rotateZ(this._pieceRemoval.Tumble.y),this._pieceRemoval.Next()):(this.IsMatch=!1,this._isRemoved=!0)}InitFlip(c){this._flipBetweener=new K(this.rotation.z,this.rotation.z+M.tz*(c?-1:1),15),this._matchKeySequence=this._matchKeySequence.concat(this._matchKeySequence.splice(0,c?this._matchKeySequence.length-1:1)),this._matchKey=this._innerMaterials[this._matchKeySequence[0]].matchKey}Flip(){return this._flipBetweener.HasNext&&(this.rotation.z=this._flipBetweener.Next),this._flipBetweener.HasNext}Dispose(){this._innerMaterials.forEach(c=>c.material.dispose()),this._innerGeometry.dispose()}initMaterials(c){for(let r=0;r<6;r++){const s=c[Math.floor(Math.random()*c.length)];this._innerMaterials.push({materialColorHex:s.materialColorHex,material:s.material.clone(),matchKey:s.matchKey})}}mod(c,r){return(c%r+r)%r}}class j extends C.Tme{constructor(c,r,s){super(),this._theta=0,this.position.y=c,r.forEach(l=>{const d=new de(l.polarCoords.x,0,l.polarCoords.z,l.rotationY,s);this.add(d)});for(let l=0;l<this.children.length;l++){const d=this.children[l];0===l?(d.Prev=this.children[this.children.length-1],d.Next=this.children[l+1]):l===this.children.length-1?(d.Prev=this.children[l-1],d.Next=this.children[0]):(d.Prev=this.children[l-1],d.Next=this.children[l+1])}}set Above(c){this._wheelAbove=c}get Above(){return this._wheelAbove}set Below(c){this._wheelBelow=c}get Below(){return this._wheelBelow}get EaseBetweener(){return this._betweener}Rotate(c){this.rotation.y=c}UpdateTheta(c){this._theta+=c,Math.abs(this._theta)>=M.uo&&(this._theta=0),this.Rotate(this._theta)}SnapToGrid(){const c=Math.ceil(this._theta/M.oE),r=Math.abs(this._theta-c*M.oE),s=Math.abs(this._theta-(c-1)*M.oE),l=this._theta;r<s?this._theta+=r:this._theta-=s,this._betweener=new K(l,this._theta,10);for(const d of this.children)d.ThetaOffset=this._theta}ResetIsMatch(){for(const c of this.children)c.IsMatch=!1}Dispose(){for(const c of this.children)c.Dispose()}}P(4646);let I=(()=>{class a{constructor(){this._currentMaterials=[],this._bumpMaps=["assets/maps-bump/Brick 2371 bump map.jpg","assets/maps-bump/Brick 2852b bump map.jpg","assets/maps-bump/Concrete 3035 bump map.jpg","assets/maps-bump/Gravel 2486 bump map.jpg","assets/maps-bump/Metal 2350 bump map.jpg","assets/maps-bump/Metal 2860 bump map.jpg"],this._loaderManager=new C.lLk(this.texturesLoaded,this.texturesLoading,this.textureLoadError),this._textureLoader=new C.dpR(this._loaderManager)}get Materials(){return this._currentMaterials}InitColorsMaterials(){const r=this.getColorScheme();let s=0;this._currentMaterials.length&&(this._currentMaterials.forEach(l=>l.material.dispose()),this._currentMaterials=[]),r.forEach((l,d)=>{this._currentMaterials.push({material:new C.xoR({color:new C.Ilk(l),bumpMap:this._textureLoader.load(this._bumpMaps[d]),bumpScale:.03,transparent:!0}),materialColorHex:l,matchKey:s++})})}getColorScheme(){const r=new ColorScheme,s=["contrast","triade","tetrade","analogic"],l=s[C.M8C.randInt(0,s.length-1)];return r.from_hue(C.M8C.randInt(0,359)).scheme(l).variation("hard"),r.colors().map(x=>`#${x}`).slice(0,M.pQ)}texturesLoaded(){console.log("textures loaded")}texturesLoading(r,s,l){console.log("loading",r,s,l)}textureLoadError(r){console.log("error",r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})();var h=(()=>{return(a=h||(h={}))[a.Intro=1]="Intro",a[a.Flip=2]="Flip",h;var a})();let m=(()=>{class a{constructor(){this._activeEffects=[],this._introBetweeners=[]}UpdateEffects(r){this._activeEffects.length&&(this._activeEffects.find(s=>s===h.Intro)&&this.animateIntro(r),this._activeEffects.find(s=>s===h.Flip)&&this.animateFlip())}BuildIntoAnimation(r,s,l){if(this._introBetweeners=[],l<0)for(let d=r.length-1;d>-1;d--){const x=new K(r[d].position.y,s[d],M.su*(r.length-d));this._introBetweeners.push(x)}else for(let d=0;d<r.length;d++){const x=new K(r[d].position.y,s[d],M.su*(d+1));this._introBetweeners.push(x)}this._activeEffects.push(h.Intro)}animateIntro(r){this._introBetweeners.some(s=>s.HasNext)?this._introBetweeners.forEach((s,l)=>{s.HasNext&&(r[l].position.y=s.Next)}):this.removeActiveEffect(h.Intro)}Flip(r){this._flipTarget=r,this._activeEffects.push(h.Flip)}animateFlip(){this._flipTarget.Flip()||this.removeActiveEffect(h.Flip)}removeActiveEffect(r){this._activeEffects.splice(this._activeEffects.findIndex(s=>s===r),1)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),u=(()=>{class a{constructor(r,s){this.materialManager=r,this.effectsManager=s,this._piecePoints=[],this._verticalTargets=[],this._axle=[],this._boardLocking=!1,this._boardLocked=!1,this._pendingLevelChange=!1,this._stack=new C.ZAu,this.initCoords()}get Axle(){return this._axle}get BoardLocked(){return this._boardLocked}InitShapes(r){r&&!this._scene&&(this._scene=r),this.dispose(),this.materialManager.InitColorsMaterials();const s=1===C.M8C.randInt(1,3)?10:-10;this._verticalTargets.forEach(()=>{const l=new j(s,this._piecePoints,this.materialManager.Materials);this._axle.push(l),this._stack.add(l)}),this._scene.add(this._stack),this.assignIterationValues(),this.effectsManager.BuildIntoAnimation(this._axle,this._verticalTargets,s)}UpdateShapes(){var r,s,l,d;this.effectsManager.UpdateEffects(this._axle),(null===(s=null===(r=this._activeWheel)||void 0===r?void 0:r.EaseBetweener)||void 0===s?void 0:s.HasNext)&&this._activeWheel.Rotate(null===(d=null===(l=this._activeWheel)||void 0===l?void 0:l.EaseBetweener)||void 0===d?void 0:d.Next),this._boardLocking&&(this.animateLock(this._boardLocking),this._boardLocked=!0),this._boardLocked&&this.animateRemoval()&&(this.animateLock(!1),this._boardLocked=!1,this._pendingLevelChange&&(this.InitShapes(),this._pendingLevelChange=!1))}SetActiveWheel(r){r&&(this._activeWheel=r)}SetMatches(r){this._matchPieces=r,this._matchPieces.forEach(s=>s.InitRemove())}LockBoard(r){this._boardLocking=r}SetLevelChange(){this._pendingLevelChange=!0}FlipGamePiece(r){this.effectsManager.Flip(r)}animateLock(r){this._axle.forEach(s=>{for(const l of s.children)l.IsMatch||l.LockPiece(r)})}animateRemoval(){const r=!this._matchPieces.some(s=>s.IsMatch);return r||this._matchPieces.forEach(s=>s.Remove()),r}assignIterationValues(){for(let r=0;r<this._axle.length;r++)0===r?(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=void 0):r===this._axle.length-1?(this._axle[r].Above=void 0,this._axle[r].Below=this._axle[r-1]):(this._axle[r].Above=this._axle[r+1],this._axle[r].Below=this._axle[r-1])}initCoords(){for(let r=0;r<M.ZO;r+=M.Dj){const s=C.M8C.degToRad(r),l=M.i8*Math.cos(s),d=M.i8*Math.sin(s);this._piecePoints.push({polarCoords:new C.Pa4(l,0,d),rotationY:-1*s})}for(let r=-3;r<=3;r++)this._verticalTargets.push(r*M.EH)}dispose(){this._axle.length&&this._axle.forEach(r=>r.Dispose()),this._axle=[],this._stack.clear()}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(I),n.LFG(m))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})();var v=P(9575),_=(()=>{return(a=_||(_={})).Up="Up",a.Down="Down",a.Next="Next",a.Prev="Prev",_;var a})();let S=(()=>{class a{constructor(){this._matches=[]}FindMatches(r,s){for(const l of s)l.ResetIsMatch();return r.IsMatch=!0,this._matches=[r],this.directionalSearch(r),this._matches.length>=M.TT?this._matches:[]}directionalSearch(r){let s;for(const l in _){switch(s=void 0,l){case _.Next:s=this.matchNext(r);break;case _.Prev:s=this.matchPrev(r);break;case _.Up:s=this.matchAbove(r);break;case _.Down:s=this.matchBelow(r)}s&&(s.IsMatch=!0,this._matches.push(s),this.directionalSearch(s))}}matchNext(r){if(!r.Next.IsMatch&&!r.Next.IsRemoved&&r.Next.MatchKey===r.MatchKey)return r.Next}matchPrev(r){if(!r.Prev.IsMatch&&!r.Prev.IsRemoved&&r.Prev.MatchKey===r.MatchKey)return r.Prev}matchAbove(r){const s=r.parent;return s.Above?s.Above.children.find(d=>!d.IsMatch&&!d.IsRemoved&&d.MatchKey===r.MatchKey&&Math.abs(d.ThetaOffset-r.ThetaOffset)<M.Ng):void 0}matchBelow(r){const s=r.parent;return s.Below?s.Below.children.find(d=>!d.IsMatch&&!d.IsRemoved&&d.MatchKey===r.MatchKey&&Math.abs(d.ThetaOffset-r.ThetaOffset)<M.Ng):void 0}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),T=(()=>{class a{constructor(){this._level=1,this._levelPieceCount=0,this._score=0,this._timestamp=Date.now()}get Level(){return this._level}get Score(){return this._score}get CurrentLevelPieceCount(){return this._levelPieceCount}get CurrentLevelTarget(){return this._level*M.Ic}UpdateScore(r){Date.now(),this._timestamp=Date.now();let l=0;l=r*this._level,this._score+=l}UpdateLevel(r){this._levelPieceCount+=r;const s=this._levelPieceCount>=this.CurrentLevelTarget;return s&&(this._level++,this._levelPieceCount=0),s}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),g=(()=>{class a{constructor(r,s,l){this.objectManager=r,this.gameEngine=s,this.scoringManager=l,this._x=0,this._panning=!1,this._rayCaster=new C.iMs,this._pointerPos=new C.FM8}InitInteractions(r){this._hammer=new Hammer(r),this._hammer.get("swipe").set({direction:Hammer.DIRECTION_VERTICAL}),this._hammer.on("panstart",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y);l&&!(null==l?void 0:l.IsRemoved)&&(this._activeWheel=l.parent,this.objectManager.SetActiveWheel(this._activeWheel))}}),this._hammer.on("pan",s=>{var l;this.objectManager.BoardLocked||(this._panning?this.deviceCordRotation(s.center.x):this._panning=!0,s.isFinal&&(this._panning=!1,null===(l=this._activeWheel)||void 0===l||l.SnapToGrid(),this._activeWheel=void 0),this._x=s.center.x)}),this._hammer.on("press",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y);if(l&&!(null==l?void 0:l.IsRemoved)){const d=this.gameEngine.FindMatches(l,this.objectManager.Axle);d.length&&(this.objectManager.LockBoard(!0),this.objectManager.SetMatches(d),this.scoringManager.UpdateScore(d.length),this.scoringManager.UpdateLevel(d.length)&&this.objectManager.SetLevelChange())}}}),this._hammer.on("swipe",s=>{if(!this.objectManager.BoardLocked){const l=this.getPickedGamePiece(s.center.x,s.center.y-s.deltaY);l&&(l.InitFlip(s.direction===v.DIRECTION_UP),this.objectManager.FlipGamePiece(l))}})}UpdateSize(r,s){this._canvasRect=r,this._camera=s}deviceCordRotation(r){this._activeWheel&&this._activeWheel.UpdateTheta(C.M8C.degToRad(r-this._x)*(M.AG/this._canvasRect.width)*-1)}getPickedGamePiece(r,s){const d=this._canvasRect.bottom-this._canvasRect.top;this._pointerPos.x=(r-this._canvasRect.left)/(this._canvasRect.right-this._canvasRect.left)*2-1,this._pointerPos.y=-(s-this._canvasRect.top)/d*2+1,this._rayCaster.setFromCamera(this._pointerPos,this._camera);const x=this._rayCaster.intersectObjects(this.objectManager.Axle);if(x.length){const ee=x[0].object;return ee.parent instanceof de?ee.parent:ee}}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(u),n.LFG(S),n.LFG(T))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})(),b=(()=>{class a{constructor(r,s){this.objectManager=r,this.interactionManager=s,this._width=0,this._height=0}get scene(){return this._scene}InitScene(){this._scene||(this._scene=new C.xsS,this._scene.background=new C.Ilk(252645135),this._pointLight=new C.cek(16777215,1),this._scene.add(this._pointLight),this.objectManager.InitShapes(this._scene))}UpdateSize(r){this._width=r.width,this._height=r.height;const s=this._width/this._height;this._camera?(this._camera.aspect=s,this._camera.updateProjectionMatrix()):(this._camera=new C.cPb(45,s,1,25),this._camera.position.set(0,0,5),this._pointLight.position.copy(this._camera.position)),this._renderer&&this._renderer.setSize(this._width,this._height,!1),this.interactionManager.UpdateSize(r,this._camera)}InitRenderer(r){r&&(this._renderer=new C.CP7({canvas:r,antialias:!0})),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}RenderScene(){var r;null===(r=this._renderer)||void 0===r||r.render(this._scene,this._camera)}}return a.\u0275fac=function(r){return new(r||a)(n.LFG(u),n.LFG(g))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac}),a})();const y=["mainCanvas"];let A=(()=>{class a{constructor(r,s){this.sceneManager=r,this.interactionManager=s,this._initialRectCalculated=!1}onResize(){var r;this.sceneManager.UpdateSize(null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect())}ngAfterContentChecked(){var r;if(!this._initialRectCalculated){const s=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement.getBoundingClientRect();s&&(this.sceneManager.UpdateSize(s),this._initialRectCalculated=!0)}}ngAfterViewInit(){var r;const s=null===(r=this.canvas)||void 0===r?void 0:r.nativeElement;s&&(this.sceneManager.InitRenderer(s),this.interactionManager.InitInteractions(s))}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(b),n.Y36(g))},a.\u0275cmp=n.Xpm({type:a,selectors:[["wgl-canvas"]],viewQuery:function(r,s){if(1&r&&n.Gf(y,5),2&r){let l;n.iGM(l=n.CRH())&&(s.canvas=l.first)}},hostBindings:function(r,s){1&r&&n.NdJ("resize",function(){return s.onResize()},!1,n.Jf7)},decls:2,vars:0,consts:[[1,"main-canvas"],["mainCanvas",""]],template:function(r,s){1&r&&n._UZ(0,"canvas",0,1)},styles:[".main-canvas[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"]}),a})();var k=P(2604),U=P(348),F=P(543),D=P(7908),w=P(9985),H=P(8305),Q=P(5724),z=P(1537),R=P(5044),$=P(2937);const B=["addListener","removeListener"],G=["addEventListener","removeEventListener"],ie=["on","off"];function Ce(a,c,r,s){if((0,R.m)(r)&&(s=r,r=void 0),s)return Ce(a,c,r).pipe((0,$.Z)(s));const[l,d]=function(a){return(0,R.m)(a.addEventListener)&&(0,R.m)(a.removeEventListener)}(a)?G.map(x=>ee=>a[x](c,ee,r)):function(a){return(0,R.m)(a.addListener)&&(0,R.m)(a.removeListener)}(a)?B.map(Le(a,c)):function(a){return(0,R.m)(a.on)&&(0,R.m)(a.off)}(a)?ie.map(Le(a,c)):[];if(!l&&(0,z.z)(a))return(0,Q.z)(x=>Ce(x,c,r))((0,w.Xf)(a));if(!l)throw new TypeError("Invalid event target");return new H.y(x=>{const ee=(...xe)=>x.next(1<xe.length?xe:xe[0]);return l(ee),()=>d(ee)})}function Le(a,c){return r=>s=>a[r](c,s)}var ke=P(461);const Ke=["primaryValueBar"],Qe=(0,k.pj)(class{constructor(a){this._elementRef=a}},"primary"),Y=new n.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const a=(0,n.f3M)(N.K0),c=a?a.location:null;return{getPathname:()=>c?c.pathname+c.search:""}}}),O=new n.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let W=0,Ie=(()=>{class a extends Qe{constructor(r,s,l,d,x){super(r),this._ngZone=s,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new n.vpe,this._animationEndSubscription=D.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+W++;const ee=d?d.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${ee}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,x&&(x.color&&(this.color=this.defaultColor=x.color),this.mode=x.mode||this.mode)}get value(){return this._value}set value(r){this._value=pe((0,U.su)(r)||0)}get bufferValue(){return this._bufferValue}set bufferValue(r){this._bufferValue=pe(r||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const r=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ce(r,"transitionend").pipe((0,ke.h)(s=>s.target===r)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(F.Qb,8),n.Y36(Y,8),n.Y36(O,8))},a.\u0275cmp=n.Xpm({type:a,selectors:[["mat-progress-bar"]],viewQuery:function(r,s){if(1&r&&n.Gf(Ke,5),2&r){let l;n.iGM(l=n.CRH())&&(s._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(r,s){2&r&&(n.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),n.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[n.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(r,s){1&r&&(n.TgZ(0,"div",0),n.O4$(),n.TgZ(1,"svg",1),n.TgZ(2,"defs"),n.TgZ(3,"pattern",2),n._UZ(4,"circle",3),n.qZA(),n.qZA(),n._UZ(5,"rect",4),n.qZA(),n.kcU(),n._UZ(6,"div",5),n._UZ(7,"div",6,7),n._UZ(9,"div",8),n.qZA()),2&r&&(n.xp6(3),n.Q6J("id",s.progressbarId),n.xp6(2),n.uIk("fill",s._rectangleFillValue),n.xp6(1),n.Q6J("ngStyle",s._bufferTransform()),n.xp6(1),n.Q6J("ngStyle",s._primaryTransform()))},directives:[N.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),a})();function pe(a,c=0,r=100){return Math.max(c,Math.min(r,a))}let Te=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[N.ez,k.BQ],k.BQ]}),a})();var le=P(928);function be(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}function J(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}function fe(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}function Ue(a,c){if(1&a&&(n.O4$(),n._UZ(0,"circle",3)),2&a){const r=n.oxw();n.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),n.uIk("r",r._getCircleRadius())}}const $e=(0,k.pj)(class{constructor(a){this._elementRef=a}},"primary"),Fe=new n.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class ne extends $e{constructor(c,r,s,l,d){super(c),this._document=s,this._diameter=100,this._value=0,this.mode="determinate";const x=ne._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),x.has(s.head)||x.set(s.head,new Set([100])),this._noopAnimations="NoopAnimations"===l&&!!d&&!d._forceAnimations,d&&(d.diameter&&(this.diameter=d.diameter),d.strokeWidth&&(this.strokeWidth=d.strokeWidth))}get diameter(){return this._diameter}set diameter(c){this._diameter=(0,U.su)(c),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(c){this._strokeWidth=(0,U.su)(c)}get value(){return"determinate"===this.mode?this._value:0}set value(c){this._value=Math.max(0,Math.min(100,(0,U.su)(c)))}ngOnInit(){const c=this._elementRef.nativeElement;this._styleRoot=(0,le.kV)(c)||this._document.head,this._attachStyleNode(),c.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const c=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${c} ${c}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const c=this._styleRoot,r=this._diameter,s=ne._diameters;let l=s.get(c);if(!l||!l.has(r)){const d=this._document.createElement("style");d.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),d.textContent=this._getAnimationText(),c.appendChild(d),l||(l=new Set,s.set(c,l)),l.add(r)}}_getAnimationText(){const c=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*c).replace(/END_VALUE/g,""+.2*c).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ne._diameters=new WeakMap,ne.\u0275fac=function(c){return new(c||ne)(n.Y36(n.SBq),n.Y36(le.t4),n.Y36(N.K0,8),n.Y36(F.Qb,8),n.Y36(Fe))},ne.\u0275cmp=n.Xpm({type:ne,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(c,r){2&c&&(n.uIk("aria-valuemin","determinate"===r.mode?0:null)("aria-valuemax","determinate"===r.mode?100:null)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),n.Udp("width",r.diameter,"px")("height",r.diameter,"px"),n.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[n.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(c,r){1&c&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,be,1,9,"circle",1),n.YNc(2,J,1,7,"circle",2),n.qZA()),2&c&&(n.Udp("width",r.diameter,"px")("height",r.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===r.mode),n.uIk("viewBox",r._getViewBox()),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},directives:[N.RF,N.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Be=(()=>{class a extends ne{constructor(r,s,l,d,x){super(r,s,l,d,x),this.mode="indeterminate"}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(n.SBq),n.Y36(le.t4),n.Y36(N.K0,8),n.Y36(F.Qb,8),n.Y36(Fe))},a.\u0275cmp=n.Xpm({type:a,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(r,s){2&r&&(n.Udp("width",s.diameter,"px")("height",s.diameter,"px"),n.ekj("_mat-animation-noopable",s._noopAnimations))},inputs:{color:"color"},features:[n.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,s){1&r&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,fe,1,9,"circle",1),n.YNc(2,Ue,1,7,"circle",2),n.qZA()),2&r&&(n.Udp("width",s.diameter,"px")("height",s.diameter,"px"),n.Q6J("ngSwitch","indeterminate"===s.mode),n.uIk("viewBox",s._getViewBox()),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1))},directives:[N.RF,N.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),a})(),Xe=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[k.BQ,N.ez],k.BQ]}),a})();const Ye=[{path:"",component:(()=>{class a{constructor(r,s,l,d){this.ngZone=r,this.sceneManager=s,this.objectManager=l,this.scoringManager=d}ngOnInit(){this.sceneManager.InitScene(),this.animate()}animate(){this.ngZone.runOutsideAngular(()=>{this.objectManager.UpdateShapes(),this.sceneManager.RenderScene(),requestAnimationFrame(()=>{this.animate()})})}}return a.\u0275fac=function(r){return new(r||a)(n.Y36(n.R0b),n.Y36(b),n.Y36(u),n.Y36(T))},a.\u0275cmp=n.Xpm({type:a,selectors:[["wgl-game-container"]],decls:14,vars:7,consts:[[1,"game-container"],[1,"game-scoring"],[1,"game-canvas"],[1,"level-progress"],[1,"progress-horizontal",3,"value"],[1,"progress-spinner"],["mode","determinate",3,"value"]],template:function(r,s){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"p"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.qZA(),n.qZA(),n._UZ(6,"wgl-canvas",2),n.TgZ(7,"div",3),n._UZ(8,"mat-progress-bar",4),n.TgZ(9,"div",5),n._UZ(10,"mat-spinner",6),n.TgZ(11,"div"),n._uU(12),n.ALo(13,"percent"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(3),n.hij("Score: ",s.scoringManager.Score,""),n.xp6(2),n.hij("Level: ",s.scoringManager.Level,""),n.xp6(3),n.s9C("value",s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget*100),n.xp6(2),n.s9C("value",s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget*100),n.xp6(2),n.hij(" ",n.lcZ(13,5,s.scoringManager.CurrentLevelPieceCount/s.scoringManager.CurrentLevelTarget)," Complete "))},directives:[A,Ie,Be],pipes:[N.Zx],styles:[".game-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{padding:1em;flex:unset}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:none}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]{flex-direction:row}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{text-align:right;flex-direction:column;justify-content:start;flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:45em;flex:unset}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 4/5){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:35em}}@media only screen and (min-aspect-ratio: 3/5) and (min-aspect-ratio: 5/3){.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{width:30%}}@media screen and (min-aspect-ratio: 3/5){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{flex:1 1 auto}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{display:block}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .progress-horizontal[_ngcontent-%COMP%]{display:none}}"]}),a})()}];let Ae=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[[N.ez,L.Bz.forChild(Ye)]]}),a})(),Oe=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({providers:[b,I,u,g,S,T,m],imports:[[N.ez,Ae,Te,Xe]]}),a})()}}]);