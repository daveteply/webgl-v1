(self.webpackChunkwebgl_v1=self.webpackChunkwebgl_v1||[]).push([[684],{4646:function(ue,Ce,C){var L;ue=C.nmd(ue),function(){var F,y=[].slice;F=function(){var a,T,X,xe,q;for(q=Array.isArray||function(c){return"[object Array]"==={}.toString.call(c)},E.SCHEMES={},T=0,X=(xe="mono monochromatic contrast triade tetrade analogic".split(/\s+/)).length;T<X;T++)E.SCHEMES[xe[T]]=!0;function E(){var c,d;for(c=[],d=1;d<=4;d++)c.push(new E.mutablecolor(60));this.col=c,this._scheme="mono",this._distance=.5,this._web_safe=!1,this._add_complement=!1}return E.PRESETS={default:[-1,-1,1,-.7,.25,1,.5,1],pastel:[.5,-.9,.5,.5,.1,.9,.75,.75],soft:[.3,-.8,.3,.5,.1,.9,.5,.75],light:[.25,1,.5,.75,.1,1,.5,1],hard:[1,-1,1,-.6,.1,1,.6,1],pale:[.1,-.85,.1,.5,.1,1,.1,.75]},E.COLOR_WHEEL={0:[255,0,0,100],15:[255,51,0,100],30:[255,102,0,100],45:[255,128,0,100],60:[255,153,0,100],75:[255,178,0,100],90:[255,204,0,100],105:[255,229,0,100],120:[255,255,0,100],135:[204,255,0,100],150:[153,255,0,100],165:[51,255,0,100],180:[0,204,0,80],195:[0,178,102,70],210:[0,153,153,60],225:[0,102,178,70],240:[0,51,204,80],255:[25,25,178,70],270:[51,0,153,60],285:[64,0,153,60],300:[102,0,153,60],315:[153,0,153,60],330:[204,0,153,80],345:[229,0,102,90]},E.prototype.colors=function(){var c,d,p,g,_,x,b,m,M,v;if(M=1,d=this.col[0].get_hue(),(c={mono:function(){},contrast:(v=this,function(){return M=2,v.col[1].set_hue(d),v.col[1].rotate(180)}),triade:function(v){return function(){var A;return M=3,A=60*v._distance,v.col[1].set_hue(d),v.col[1].rotate(180-A),v.col[2].set_hue(d),v.col[2].rotate(180+A)}}(this),tetrade:function(v){return function(){var A;return M=4,A=90*v._distance,v.col[1].set_hue(d),v.col[1].rotate(180),v.col[2].set_hue(d),v.col[2].rotate(180+A),v.col[3].set_hue(d),v.col[3].rotate(A)}}(this),analogic:function(v){return function(){var A;return M=v._add_complement?4:3,A=60*v._distance,v.col[1].set_hue(d),v.col[1].rotate(A),v.col[2].set_hue(d),v.col[2].rotate(360-A),v.col[3].set_hue(d),v.col[3].rotate(180)}}(this)}).monochromatic=c.mono,null==c[this._scheme])throw"Unknown color scheme name: "+this._scheme;for(c[this._scheme](),b=[],p=_=0,m=M-1;0<=m?_<=m:_>=m;p=0<=m?++_:--_)for(g=x=0;x<=3;g=++x)b[4*p+g]=this.col[p].get_hex(this._web_safe,g);return b},E.prototype.colorset=function(){var c,d;for(c=a(this.colors()),d=[];c.length>0;)d.push(c.splice(0,4));return d},E.prototype.from_hue=function(c){if(null==c)throw"from_hue needs an argument";return this.col[0].set_hue(c),this},E.prototype.rgb2ryb=function(){var c,d,p,g,_,x,b,m,M;return null!=(b=1<=arguments.length?y.call(arguments,0):[])[0]&&q(b[0])&&(b=b[0]),x=b[0],d=b[1],c=b[2],x-=m=Math.min(x,d,c),d-=m,c-=m,g=Math.max(x,d,c),x-=M=Math.min(x,d),d-=M,c>0&&d>0&&(c/=2,d/=2),M+=d,c+=d,(_=Math.max(x,M,c))>0&&(x*=p=g/_,M*=p,c*=p),x+=m,M+=m,c+=m,[Math.floor(x),Math.floor(M),Math.floor(c)]},E.prototype.rgb2hsv=function(){var c,d,p,g,_,x,b,m,v;return null!=(m=1<=arguments.length?y.call(arguments,0):[])[0]&&q(m[0])&&(m=m[0]),b=m[0],p=m[1],c=m[2],b/=255,p/=255,c/=255,x=Math.min.apply(Math,[b,p,c]),v=_=Math.max.apply(Math,[b,p,c]),(d=_-x)>0?(g=b===_?(p-c)/d:p===_?2+(c-b)/d:4+(b-p)/d,g*=60,[g%=360,d/_,v]):[0,0,v]},E.prototype.rgbToHsv=function(){var c,d,p,g,_,x,b,m,M,v;if(null!=(m=1<=arguments.length?y.call(arguments,0):[])[0]&&q(m[0])&&(m=m[0]),b=m[0],p=m[1],c=m[2],b/=255,p/=255,c/=255,g=void 0,M=void 0,v=_=Math.max(b,p,c),d=_-(x=Math.min(b,p,c)),M=0===_?0:d/_,_===x)g=0;else{switch(_){case b:g=(p-c)/d+(p<c?6:0);break;case p:g=(c-b)/d+2;break;case c:g=(b-p)/d+4}g/=6}return[g,M,v]},E.prototype.from_hex=function(c){var m,Z,B,k,w,j;if(null==c)throw"from_hex needs an argument";if(!/^([0-9A-F]{2}){3}$/im.test(c))throw"from_hex("+c+") - argument must be in the form of RRGGBB";return k=/(..)(..)(..)/.exec(c).slice(1,4),Z=function(){var re,K,Q;for(Q=[],K=0,re=k.length;K<re;K++)Q.push(parseInt(k[K],16));return Q}(),B=this.rgb2ryb([Z[0],Z[1],Z[2]]),w=(m=this.rgbToHsv(B[0],B[1],B[2]))[1],j=m[2],this.from_hue(360*m[0]),this._set_variant_preset([w,j,w,.7*j,.25*w,1,.5*w,1]),this},E.prototype.add_complement=function(c){if(null==c)throw"add_complement needs an argument";return this._add_complement=c,this},E.prototype.web_safe=function(c){if(null==c)throw"web_safe needs an argument";return this._web_safe=c,this},E.prototype.distance=function(c){if(null==c)throw"distance needs an argument";if(c<0)throw"distance("+c+") - argument must be >= 0";if(c>1)throw"distance("+c+") - argument must be <= 1";return this._distance=c,this},E.prototype.scheme=function(c){if(null==c)return this._scheme;if(null==E.SCHEMES[c])throw"'"+c+"' isn't a valid scheme name";return this._scheme=c,this},E.prototype.variation=function(c){if(null==c)throw"variation needs an argument";if(null==E.PRESETS[c])throw"'$v' isn't a valid variation name";return this._set_variant_preset(E.PRESETS[c]),this},E.prototype._set_variant_preset=function(c){var d,p,g;for(g=[],d=p=0;p<=3;d=++p)g.push(this.col[d].set_variant_preset(c));return g},a=function(c){var d,p,g;if(null==c||"object"!=typeof c)return c;if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return d="",null!=c.global&&(d+="g"),null!=c.ignoreCase&&(d+="i"),null!=c.multiline&&(d+="m"),null!=c.sticky&&(d+="y"),new RegExp(c.source,d);for(p in g=new c.constructor,c)g[p]=a(c[p]);return g},E.mutablecolor=function(){function c(d){if(null==d)throw"No hue specified";this.saturation=[],this.value=[],this.base_red=0,this.base_green=0,this.base_blue=0,this.base_saturation=0,this.base_value=0,this.set_hue(d),this.set_variant_preset(E.PRESETS.default)}return c.prototype.hue=0,c.prototype.saturation=[],c.prototype.value=[],c.prototype.base_red=0,c.prototype.base_green=0,c.prototype.base_saturation=0,c.prototype.base_value=0,c.prototype.get_hue=function(){return this.hue},c.prototype.set_hue=function(d){var p,g,_,x,b,m,M,v,A,N;for(g in p=function(Z,B,k){return Z+Math.round((B-Z)*k)},this.hue=Math.round(d%360),N=(b=this.hue%15+(this.hue-Math.floor(this.hue)))/15,M=(15+(m=this.hue-Math.floor(b)))%360,360===m&&(m=0),360===M&&(M=0),_=E.COLOR_WHEEL[m],x=E.COLOR_WHEEL[M],v={red:0,green:1,blue:2,value:3})this["base_"+g]=p(_[A=v[g]],x[A],N);return this.base_saturation=p(100,100,N)/100,this.base_value/=100},c.prototype.rotate=function(d){return this.set_hue((this.hue+d)%360)},c.prototype.get_saturation=function(d){var p,g;return(p=(g=this.saturation[d])<0?-g*this.base_saturation:g)>1&&(p=1),p<0&&(p=0),p},c.prototype.get_value=function(d){var p,g;return(p=(g=this.value[d])<0?-g*this.base_value:g)>1&&(p=1),p<0&&(p=0),p},c.prototype.set_variant=function(d,p,g){return this.saturation[d]=p,this.value[d]=g},c.prototype.set_variant_preset=function(d){var p,g,_;for(_=[],p=g=0;g<=3;p=++g)_.push(this.set_variant(p,d[2*p],d[2*p+1]));return _},c.prototype.get_hex=function(d,p){var _,x,m,M,v,A,N,B,k,w,j,re,K,Q;for(N=Math.max.apply(Math,function(){var oe,G,V,ae;for(ae=[],G=0,oe=(V=["red","green","blue"]).length;G<oe;G++)ae.push(this["base_"+(_=V[G])]);return ae}.call(this)),Math.min.apply(Math,function(){var oe,G,V,ae;for(ae=[],G=0,oe=(V=["red","green","blue"]).length;G<oe;G++)ae.push(this["base_"+(_=V[G])]);return ae}.call(this)),Q=255*(p<0?this.base_value:this.get_value(p)),re=p<0?this.base_saturation:this.get_saturation(p),m=N>0?Q/N:0,w=[],A=0,M=(k=["red","green","blue"]).length;A<M;A++)_=k[A],j=Math.min.apply(Math,[255,Math.round(Q-(Q-this["base_"+_]*m)*re)]),w.push(j);for(d&&(w=function(){var oe,G,V;for(V=[],G=0,oe=w.length;G<oe;G++)V.push(51*Math.round(w[G]/51));return V}()),x="",B=0,v=w.length;B<v;B++)(K=w[B].toString(16)).length<2&&(K="0"+K),x+=K;return x},c}(),E}(),null!==ue&&null!=ue.exports?ue.exports=F:void 0!==(L=function(){return F}.apply(Ce,[]))&&(ue.exports=L)}.call(this)},9575:(ue,Ce,C)=>{var R;!function(L,F,y,a){"use strict";var _,T=["","webkit","Moz","MS","ms","o"],X=F.createElement("div"),q=Math.round,te=Math.abs,E=Date.now;function c(e,n,o){return setTimeout(M(e,o),n)}function d(e,n,o){return!!Array.isArray(e)&&(p(e,o[n],o),!0)}function p(e,n,o){var l;if(e)if(e.forEach)e.forEach(n,o);else if(e.length!==a)for(l=0;l<e.length;)n.call(o,e[l],l,e),l++;else for(l in e)e.hasOwnProperty(l)&&n.call(o,e[l],l,e)}function g(e,n,o){var l="DEPRECATED METHOD: "+n+"\n"+o+" AT \n";return function(){var h=new Error("get-stack-trace"),u=h&&h.stack?h.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=L.console&&(L.console.warn||L.console.log);return f&&f.call(L.console,l,u),e.apply(this,arguments)}}_="function"!=typeof Object.assign?function(n){if(n===a||null===n)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),l=1;l<arguments.length;l++){var h=arguments[l];if(h!==a&&null!==h)for(var u in h)h.hasOwnProperty(u)&&(o[u]=h[u])}return o}:Object.assign;var x=g(function(n,o,l){for(var h=Object.keys(o),u=0;u<h.length;)(!l||l&&n[h[u]]===a)&&(n[h[u]]=o[h[u]]),u++;return n},"extend","Use `assign`."),b=g(function(n,o){return x(n,o,!0)},"merge","Use `assign`.");function m(e,n,o){var h,l=n.prototype;(h=e.prototype=Object.create(l)).constructor=e,h._super=l,o&&_(h,o)}function M(e,n){return function(){return e.apply(n,arguments)}}function v(e,n){return"function"==typeof e?e.apply(n&&n[0]||a,n):e}function A(e,n){return e===a?n:e}function N(e,n,o){p(w(n),function(l){e.addEventListener(l,o,!1)})}function Z(e,n,o){p(w(n),function(l){e.removeEventListener(l,o,!1)})}function B(e,n){for(;e;){if(e==n)return!0;e=e.parentNode}return!1}function k(e,n){return e.indexOf(n)>-1}function w(e){return e.trim().split(/\s+/g)}function j(e,n,o){if(e.indexOf&&!o)return e.indexOf(n);for(var l=0;l<e.length;){if(o&&e[l][o]==n||!o&&e[l]===n)return l;l++}return-1}function re(e){return Array.prototype.slice.call(e,0)}function K(e,n,o){for(var l=[],h=[],u=0;u<e.length;){var f=n?e[u][n]:e[u];j(h,f)<0&&l.push(e[u]),h[u]=f,u++}return o&&(l=n?l.sort(function(z,W){return z[n]>W[n]}):l.sort()),l}function Q(e,n){for(var o,l,h=n[0].toUpperCase()+n.slice(1),u=0;u<T.length;){if((l=(o=T[u])?o+h:n)in e)return l;u++}return a}var oe=1;function V(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||L}var _t="ontouchstart"in L,Le=Q(L,"PointerEvent")!==a,vt=_t&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),me="touch",Be="mouse",tt=["x","y"],Ne=["clientX","clientY"];function J(e,n){var o=this;this.manager=e,this.callback=n,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(l){v(e.options.enable,[e])&&o.handler(l)},this.init()}function Ge(e,n,o){var l=o.pointers.length,h=o.changedPointers.length,u=1&n&&l-h==0,f=12&n&&l-h==0;o.isFirst=!!u,o.isFinal=!!f,u&&(e.session={}),o.eventType=n,function(e,n){var o=e.session,l=n.pointers,h=l.length;o.firstInput||(o.firstInput=st(n)),h>1&&!o.firstMultiple?o.firstMultiple=st(n):1===h&&(o.firstMultiple=!1);var u=o.firstInput,f=o.firstMultiple,S=f?f.center:u.center,z=n.center=He(l);n.timeStamp=E(),n.deltaTime=n.timeStamp-u.timeStamp,n.angle=ze(S,z),n.distance=ke(S,z),function(e,n){var o=n.center,l=e.offsetDelta||{},h=e.prevDelta||{},u=e.prevInput||{};(1===n.eventType||4===u.eventType)&&(h=e.prevDelta={x:u.deltaX||0,y:u.deltaY||0},l=e.offsetDelta={x:o.x,y:o.y}),n.deltaX=h.x+(o.x-l.x),n.deltaY=h.y+(o.y-l.y)}(o,n),n.offsetDirection=Mt(n.deltaX,n.deltaY);var W=Ye(n.deltaTime,n.deltaX,n.deltaY);n.overallVelocityX=W.x,n.overallVelocityY=W.y,n.overallVelocity=te(W.x)>te(W.y)?W.x:W.y,n.scale=f?function(e,n){return ke(n[0],n[1],Ne)/ke(e[0],e[1],Ne)}(f.pointers,l):1,n.rotation=f?function(e,n){return ze(n[1],n[0],Ne)+ze(e[1],e[0],Ne)}(f.pointers,l):0,n.maxPointers=o.prevInput?n.pointers.length>o.prevInput.maxPointers?n.pointers.length:o.prevInput.maxPointers:n.pointers.length,function(e,n){var h,u,f,S,o=e.lastInterval||n,l=n.timeStamp-o.timeStamp;if(8!=n.eventType&&(l>25||o.velocity===a)){var z=n.deltaX-o.deltaX,W=n.deltaY-o.deltaY,ge=Ye(l,z,W);u=ge.x,f=ge.y,h=te(ge.x)>te(ge.y)?ge.x:ge.y,S=Mt(z,W),e.lastInterval=n}else h=o.velocity,u=o.velocityX,f=o.velocityY,S=o.direction;n.velocity=h,n.velocityX=u,n.velocityY=f,n.direction=S}(o,n);var ge=e.element;B(n.srcEvent.target,ge)&&(ge=n.srcEvent.target),n.target=ge}(e,o),e.emit("hammer.input",o),e.recognize(o),e.session.prevInput=o}function st(e){for(var n=[],o=0;o<e.pointers.length;)n[o]={clientX:q(e.pointers[o].clientX),clientY:q(e.pointers[o].clientY)},o++;return{timeStamp:E(),pointers:n,center:He(n),deltaX:e.deltaX,deltaY:e.deltaY}}function He(e){var n=e.length;if(1===n)return{x:q(e[0].clientX),y:q(e[0].clientY)};for(var o=0,l=0,h=0;h<n;)o+=e[h].clientX,l+=e[h].clientY,h++;return{x:q(o/n),y:q(l/n)}}function Ye(e,n,o){return{x:n/e||0,y:o/e||0}}function Mt(e,n){return e===n?1:te(e)>=te(n)?e<0?2:4:n<0?8:16}function ke(e,n,o){o||(o=tt);var l=n[o[0]]-e[o[0]],h=n[o[1]]-e[o[1]];return Math.sqrt(l*l+h*h)}function ze(e,n,o){return o||(o=tt),180*Math.atan2(n[o[1]]-e[o[1]],n[o[0]]-e[o[0]])/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&N(this.element,this.evEl,this.domHandler),this.evTarget&&N(this.target,this.evTarget,this.domHandler),this.evWin&&N(V(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Z(this.element,this.evEl,this.domHandler),this.evTarget&&Z(this.target,this.evTarget,this.domHandler),this.evWin&&Z(V(this.element),this.evWin,this.domHandler)}};var Ut={mousedown:1,mousemove:2,mouseup:4},Et="mousedown",Ct="mousemove mouseup";function Ue(){this.evEl=Et,this.evWin=Ct,this.pressed=!1,J.apply(this,arguments)}m(Ue,J,{handler:function(n){var o=Ut[n.type];1&o&&0===n.button&&(this.pressed=!0),2&o&&1!==n.which&&(o=4),this.pressed&&(4&o&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Be,srcEvent:n}))}});var St={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},At={2:me,3:"pen",4:Be,5:"kinect"},ot="pointerdown",lt="pointermove pointerup pointercancel";function qe(){this.evEl=ot,this.evWin=lt,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}L.MSPointerEvent&&!L.PointerEvent&&(ot="MSPointerDown",lt="MSPointerMove MSPointerUp MSPointerCancel"),m(qe,J,{handler:function(n){var o=this.store,l=!1,h=n.type.toLowerCase().replace("ms",""),u=St[h],f=At[n.pointerType]||n.pointerType,S=f==me,z=j(o,n.pointerId,"pointerId");1&u&&(0===n.button||S)?z<0&&(o.push(n),z=o.length-1):12&u&&(l=!0),!(z<0)&&(o[z]=n,this.callback(this.manager,u,{pointers:o,changedPointers:[n],pointerType:f,srcEvent:n}),l&&o.splice(z,1))}});var Pt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},wt="touchstart",It="touchstart touchmove touchend touchcancel";function ht(){this.evTarget=wt,this.evWin=It,this.started=!1,J.apply(this,arguments)}function Ot(e,n){var o=re(e.touches),l=re(e.changedTouches);return 12&n&&(o=K(o.concat(l),"identifier",!0)),[o,l]}m(ht,J,{handler:function(n){var o=Pt[n.type];if(1===o&&(this.started=!0),this.started){var l=Ot.call(this,n,o);12&o&&l[0].length-l[1].length==0&&(this.started=!1),this.callback(this.manager,o,{pointers:l[0],changedPointers:l[1],pointerType:me,srcEvent:n})}}});var Rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Lt="touchstart touchmove touchend touchcancel";function Y(){this.evTarget=Lt,this.targetIds={},J.apply(this,arguments)}function Pe(e,n){var o=re(e.touches),l=this.targetIds;if(3&n&&1===o.length)return l[o[0].identifier]=!0,[o,o];var h,u,f=re(e.changedTouches),S=[],z=this.target;if(u=o.filter(function(W){return B(W.target,z)}),1===n)for(h=0;h<u.length;)l[u[h].identifier]=!0,h++;for(h=0;h<f.length;)l[f[h].identifier]&&S.push(f[h]),12&n&&delete l[f[h].identifier],h++;return S.length?[K(u.concat(S),"identifier",!0),S]:void 0}function pe(){J.apply(this,arguments);var e=M(this.handler,this);this.touch=new Y(this.manager,e),this.mouse=new Ue(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ve(e,n){1&e?(this.primaryTouch=n.changedPointers[0].identifier,We.call(this,n)):12&e&&We.call(this,n)}function We(e){var n=e.changedPointers[0];if(n.identifier===this.primaryTouch){var o={x:n.clientX,y:n.clientY};this.lastTouches.push(o);var l=this.lastTouches;setTimeout(function(){var u=l.indexOf(o);u>-1&&l.splice(u,1)},2500)}}function le(e){for(var n=e.srcEvent.clientX,o=e.srcEvent.clientY,l=0;l<this.lastTouches.length;l++){var h=this.lastTouches[l],u=Math.abs(n-h.x),f=Math.abs(o-h.y);if(u<=25&&f<=25)return!0}return!1}m(Y,J,{handler:function(n){var o=Rt[n.type],l=Pe.call(this,n,o);!l||this.callback(this.manager,o,{pointers:l[0],changedPointers:l[1],pointerType:me,srcEvent:n})}}),m(pe,J,{handler:function(n,o,l){var u=l.pointerType==Be;if(!(u&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(l.pointerType==me)Ve.call(this,o,l);else if(u&&le.call(this,l))return;this.callback(n,o,l)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ct=Q(X.style,"touchAction"),ut=ct!==a,ie="compute",Xe="manipulation",be="none",we="pan-x",Me="pan-y",Ke=function(){if(!ut)return!1;var e={},n=L.CSS&&L.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){e[o]=!n||L.CSS.supports("touch-action",o)}),e}();function pt(e,n){this.manager=e,this.set(n)}pt.prototype={set:function(e){e==ie&&(e=this.compute()),ut&&this.manager.element.style&&Ke[e]&&(this.manager.element.style[ct]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return p(this.manager.recognizers,function(n){v(n.options.enable,[n])&&(e=e.concat(n.getTouchAction()))}),function(e){if(k(e,be))return be;var n=k(e,we),o=k(e,Me);return n&&o?be:n||o?n?we:Me:k(e,Xe)?Xe:"auto"}(e.join(" "))},preventDefaults:function(e){var n=e.srcEvent,o=e.offsetDirection;if(!this.manager.session.prevented){var l=this.actions,h=k(l,be)&&!Ke[be],u=k(l,Me)&&!Ke[Me],f=k(l,we)&&!Ke[we];if(h&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return f&&u||!(h||u&&6&o||f&&24&o)?void 0:this.preventSrc(n)}n.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var $=32;function ee(e){this.options=_({},this.defaults,e||{}),this.id=oe++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ce(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Oe(e,n){var o=n.manager;return o?o.get(e):e}function P(){ee.apply(this,arguments)}function Ee(){P.apply(this,arguments),this.pX=null,this.pY=null}function Re(){P.apply(this,arguments)}function Fe(){ee.apply(this,arguments),this._timer=null,this._input=null}function Qe(){P.apply(this,arguments)}function Je(){P.apply(this,arguments)}function $e(){ee.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ye(e,n){return(n=n||{}).recognizers=A(n.recognizers,ye.defaults.preset),new i(e,n)}function i(e,n){this.options=_({},ye.defaults,n||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(Le?qe:vt?Y:_t?pe:Ue))(e,Ge)}(this),this.touchAction=new pt(this,this.options.touchAction),r(this,!0),p(this.options.recognizers,function(o){var l=this.add(new o[0](o[1]));o[2]&&l.recognizeWith(o[2]),o[3]&&l.requireFailure(o[3])},this)}function r(e,n){var l,o=e.element;o.style&&(p(e.options.cssProps,function(h,u){l=Q(o.style,u),n?(e.oldCssProps[l]=o.style[l],o.style[l]=h):o.style[l]=e.oldCssProps[l]||""}),n||(e.oldCssProps={}))}ee.prototype={defaults:{},set:function(e){return _(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(d(e,"recognizeWith",this))return this;var n=this.simultaneous;return n[(e=Oe(e,this)).id]||(n[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return d(e,"dropRecognizeWith",this)||(e=Oe(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(d(e,"requireFailure",this))return this;var n=this.requireFail;return-1===j(n,e=Oe(e,this))&&(n.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(d(e,"dropRequireFailure",this))return this;e=Oe(e,this);var n=j(this.requireFail,e);return n>-1&&this.requireFail.splice(n,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var n=this,o=this.state;function l(h){n.manager.emit(h,e)}o<8&&l(n.options.event+gt(o)),l(n.options.event),e.additionalEvent&&l(e.additionalEvent),o>=8&&l(n.options.event+gt(o))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=$},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var n=_({},e);if(!v(this.options.enable,[this,n]))return this.reset(),void(this.state=$);56&this.state&&(this.state=1),this.state=this.process(n),30&this.state&&this.tryEmit(n)},process:function(e){},getTouchAction:function(){},reset:function(){}},m(P,ee,{defaults:{pointers:1},attrTest:function(e){var n=this.options.pointers;return 0===n||e.pointers.length===n},process:function(e){var n=this.state,o=e.eventType,l=6&n,h=this.attrTest(e);return l&&(8&o||!h)?16|n:l||h?4&o?8|n:2&n?4|n:2:$}}),m(Ee,P,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,n=[];return 6&e&&n.push(Me),24&e&&n.push(we),n},directionTest:function(e){var n=this.options,o=!0,l=e.distance,h=e.direction,u=e.deltaX,f=e.deltaY;return h&n.direction||(6&n.direction?(h=0===u?1:u<0?2:4,o=u!=this.pX,l=Math.abs(e.deltaX)):(h=0===f?1:f<0?8:16,o=f!=this.pY,l=Math.abs(e.deltaY))),e.direction=h,o&&l>n.threshold&&h&n.direction},attrTest:function(e){return P.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=ce(e.direction);n&&(e.additionalEvent=this.options.event+n),this._super.emit.call(this,e)}}),m(Re,P,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[be]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),m(Fe,ee,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var n=this.options,o=e.pointers.length===n.pointers,l=e.distance<n.threshold,h=e.deltaTime>n.time;if(this._input=e,!l||!o||12&e.eventType&&!h)this.reset();else if(1&e.eventType)this.reset(),this._timer=c(function(){this.state=8,this.tryEmit()},n.time,this);else if(4&e.eventType)return 8;return $},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=E(),this.manager.emit(this.options.event,this._input)))}}),m(Qe,P,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[be]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),m(Je,P,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ee.prototype.getTouchAction.call(this)},attrTest:function(e){var o,n=this.options.direction;return 30&n?o=e.overallVelocity:6&n?o=e.overallVelocityX:24&n&&(o=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&te(o)>this.options.velocity&&4&e.eventType},emit:function(e){var n=ce(e.offsetDirection);n&&this.manager.emit(this.options.event+n,e),this.manager.emit(this.options.event,e)}}),m($e,ee,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xe]},process:function(e){var n=this.options,o=e.pointers.length===n.pointers,l=e.distance<n.threshold,h=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(l&&h&&o){if(4!=e.eventType)return this.failTimeout();var u=!this.pTime||e.timeStamp-this.pTime<n.interval,f=!this.pCenter||ke(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,f&&u?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=8,this.tryEmit()},n.interval,this),2):8}return $},failTimeout:function(){return this._timer=c(function(){this.state=$},this.options.interval,this),$},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ye.VERSION="2.0.7",ye.defaults={domEvents:!1,touchAction:ie,enable:!0,inputTarget:null,inputClass:null,preset:[[Qe,{enable:!1}],[Re,{enable:!1},["rotate"]],[Je,{direction:6}],[Ee,{direction:6},["swipe"]],[$e],[$e,{event:"doubletap",taps:2},["tap"]],[Fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.prototype={set:function(e){return _(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(e);var o,l=this.recognizers,h=n.curRecognizer;(!h||h&&8&h.state)&&(h=n.curRecognizer=null);for(var u=0;u<l.length;)o=l[u],2===n.stopped||h&&o!=h&&!o.canRecognizeWith(h)?o.reset():o.recognize(e),!h&&14&o.state&&(h=n.curRecognizer=o),u++}},get:function(e){if(e instanceof ee)return e;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event==e)return n[o];return null},add:function(e){if(d(e,"add",this))return this;var n=this.get(e.options.event);return n&&this.remove(n),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(d(e,"remove",this))return this;if(e=this.get(e)){var n=this.recognizers,o=j(n,e);-1!==o&&(n.splice(o,1),this.touchAction.update())}return this},on:function(e,n){if(e!==a&&n!==a){var o=this.handlers;return p(w(e),function(l){o[l]=o[l]||[],o[l].push(n)}),this}},off:function(e,n){if(e!==a){var o=this.handlers;return p(w(e),function(l){n?o[l]&&o[l].splice(j(o[l],n),1):delete o[l]}),this}},emit:function(e,n){this.options.domEvents&&function(e,n){var o=F.createEvent("Event");o.initEvent(e,!0,!0),o.gesture=n,n.target.dispatchEvent(o)}(e,n);var o=this.handlers[e]&&this.handlers[e].slice();if(o&&o.length){n.type=e,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var l=0;l<o.length;)o[l](n),l++}},destroy:function(){this.element&&r(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},_(ye,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:$,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:i,Input:J,TouchAction:pt,TouchInput:Y,MouseInput:Ue,PointerEventInput:qe,TouchMouseInput:pe,SingleTouchInput:ht,Recognizer:ee,AttrRecognizer:P,Tap:$e,Pan:Ee,Swipe:Je,Pinch:Re,Rotate:Qe,Press:Fe,on:N,off:Z,each:p,merge:b,extend:x,assign:_,inherit:m,bindFn:M,prefixed:Q}),(void 0!==L?L:"undefined"!=typeof self?self:{}).Hammer=ye,(R=function(){return ye}.call(Ce,C,Ce,ue))!==a&&(ue.exports=R)}(window,document)},1684:(ue,Ce,C)=>{"use strict";C.r(Ce),C.d(Ce,{GameModule:()=>mt});var R=C(6019),L=C(5862),F=C(1285),y=C(2620),a=C(3668),T=C(3838),X=(()=>{return(i=X||(X={}))[i.ColorBumpShape=1]="ColorBumpShape",i[i.ColorBumpMaterial=2]="ColorBumpMaterial",i[i.Emoji=3]="Emoji",X;var i})();const xe=[{src:"assets/maps/bump/material/bark-1.jpg"},{src:"assets/maps/bump/material/bark-2.jpg"},{src:"assets/maps/bump/material/brick-1.jpg"},{src:"assets/maps/bump/material/brick-2.jpg"},{src:"assets/maps/bump/material/concrete-1.jpg"},{src:"assets/maps/bump/material/fabric-1.jpg"},{src:"assets/maps/bump/material/fabric-2.jpg"},{src:"assets/maps/bump/material/fabric-3.jpg"},{src:"assets/maps/bump/material/gravel-1.jpg"},{src:"assets/maps/bump/material/metal-1.jpg"},{src:"assets/maps/bump/material/metal-2.jpg"},{src:"assets/maps/bump/material/plastic-1.jpg"},{src:"assets/maps/bump/material/rubber-1.jpg"}],q=[{src:"assets/maps/bump/symbol/box.jpg"},{src:"assets/maps/bump/symbol/diamond.jpg"},{src:"assets/maps/bump/symbol/dits.jpg"},{src:"assets/maps/bump/symbol/flake.jpg"},{src:"assets/maps/bump/symbol/plus.jpg"},{src:"assets/maps/bump/symbol/sun.jpg"}],te=[[128512,128516,128521,128522,128519,129315],[128567,128564,129317,129392,129320,129323],[129303,129297,128541,129322,128523,128527],[129397,129398,129396,129327,129312,129400]];let E=(()=>{class i{constructor(t){this.document=t,this._textures=[],this.LevelTexturesLoaded=new a.vpe,this.LevelTextureLoadingStarted=new a.vpe,this.LevelTextureLoadProgress=new a.vpe,this.LevelTextureLoadError=new a.vpe,this._loaderManager=new T.lLk(()=>{this.LevelTexturesLoaded.next()},(s,e,n)=>{this.LevelTextureLoadProgress.next(e/n*100)},s=>{this.LevelTextureLoadError.next(s)}),this._textureLoader=new T.dpR(this._loaderManager)}get Textures(){return this._textures}get LevelType(){return this._levelType}InitLevelTextures(t){switch(this.LevelTextureLoadingStarted.next(),this._levelType=t,this._textures.forEach(s=>s.dispose),this._textures=[],this._levelType){case X.ColorBumpShape:this.loadBumpSymbols();break;case X.ColorBumpMaterial:this.loadBumpMaterials();break;case X.Emoji:this.initEmojiData().forEach(e=>{this._textureLoader.load(e.dataUrl,n=>{n.name=e.emojiCode,n.center=new T.FM8(.5,.5),this._textures.push(n)})})}}loadBumpSymbols(){q.every(s=>s.texture)?(q.forEach(s=>{s.texture&&this._textures.push(s.texture)}),this.LevelTexturesLoaded.next()):q.forEach(s=>{this._textureLoader.load(s.src,e=>{e.name=s.src,s.texture=e,this._textures.push(s.texture)})})}loadBumpMaterials(){const t=xe[T.M8C.randInt(0,xe.length-1)];t.texture?(this._textures.push(t.texture),this.LevelTexturesLoaded.next()):this._textureLoader.load(t.src,s=>{s.center=new T.FM8(.5,.5),s.name=t.src,t.texture=s,this._textures.push(t.texture)})}initEmojiData(){const t=this.document.createElement("canvas");t.width=t.height=80;const e=[],n=t.getContext("2d");if(n){const o=te[T.M8C.randInt(0,te.length-1)];for(let l=0;l<y.Gz;l++){const h=o[l];n.clearRect(0,0,80,80),n.fillStyle="white",n.fillRect(0,0,80,80),n.font="70px Arial",n.textBaseline="middle",n.textAlign="center",n.fillText(String.fromCodePoint(h),40,48),e.push({dataUrl:t.toDataURL(),emojiCode:h+""})}}return e}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(R.K0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();var c=C(6731),d=C(348),p=C(9555),g=C(7908),_=C(5077),x=C(461);const b=["primaryValueBar"],m=(0,c.pj)(class{constructor(i){this._elementRef=i}},"primary"),M=new a.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const i=(0,a.f3M)(R.K0),r=i?i.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}}),A=new a.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let N=0,Z=(()=>{class i extends m{constructor(t,s,e,n,o){super(t),this._ngZone=s,this._animationMode=e,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new a.vpe,this._animationEndSubscription=g.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+N++;const l=n?n.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${l}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===e,o&&(o.color&&(this.color=this.defaultColor=o.color),this.mode=o.mode||this.mode)}get value(){return this._value}set value(t){this._value=B((0,d.su)(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=B(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,_.R)(t,"transitionend").pipe((0,x.h)(s=>s.target===t)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(p.Qb,8),a.Y36(M,8),a.Y36(A,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-progress-bar"]],viewQuery:function(t,s){if(1&t&&a.Gf(b,5),2&t){let e;a.iGM(e=a.CRH())&&(s._primaryValueBar=e.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,s){2&t&&(a.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),a.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[a.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,s){1&t&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.TgZ(2,"defs"),a.TgZ(3,"pattern",2),a._UZ(4,"circle",3),a.qZA(),a.qZA(),a._UZ(5,"rect",4),a.qZA(),a.kcU(),a._UZ(6,"div",5),a._UZ(7,"div",6,7),a._UZ(9,"div",8),a.qZA()),2&t&&(a.xp6(3),a.Q6J("id",s.progressbarId),a.xp6(2),a.uIk("fill",s._rectangleFillValue),a.xp6(1),a.Q6J("ngStyle",s._bufferTransform()),a.xp6(1),a.Q6J("ngStyle",s._primaryTransform()))},directives:[R.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),i})();function B(i,r=0,t=100){return Math.max(r,Math.min(t,i))}let k=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[R.ez,c.BQ],c.BQ]}),i})();var w=C(86);let ae=(()=>{class i{constructor(){this._listeners=[]}notify(t,s){for(let e of this._listeners)e(t,s)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(s=>t!==s)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Le=C(273);let vt=0;const me=new a.OlP("CdkAccordion");let Tt=(()=>{class i{constructor(){this._stateChanges=new Le.x,this._openCloseAllActions=new Le.x,this.id="cdk-accordion-"+vt++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=(0,d.Ig)(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=a.lG2({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:me,useExisting:i}]),a.TTD]}),i})(),Be=0,bt=(()=>{class i{constructor(t,s,e){this.accordion=t,this._changeDetectorRef=s,this._expansionDispatcher=e,this._openCloseAllSubscription=g.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+Be++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=e.listen((n,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==n&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=(0,d.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,d.Ig)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(me,12),a.Y36(a.sBO),a.Y36(ae))},i.\u0275dir=a.lG2({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:me,useValue:void 0}])]}),i})(),yt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();var U=C(5711),de=C(9618),O=C(5488),H=C(3970),De=C(9468),_e=C(1628),Se=C(5583),Ae=C(3719),D=C(9814);const se=["body"];function ve(i,r){}const et=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],tt=["mat-expansion-panel-header","*","mat-action-row"];function Ne(i,r){if(1&i&&a._UZ(0,"span",2),2&i){const t=a.oxw();a.Q6J("@indicatorRotate",t._getExpandedState())}}const J=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],xt=["mat-panel-title","mat-panel-description","*"],Ge=new a.OlP("MAT_ACCORDION"),it="225ms cubic-bezier(0.4,0.0,0.2,1)",nt={indicatorRotate:(0,D.X$)("indicatorRotate",[(0,D.SB)("collapsed, void",(0,D.oB)({transform:"rotate(0deg)"})),(0,D.SB)("expanded",(0,D.oB)({transform:"rotate(180deg)"})),(0,D.eR)("expanded <=> collapsed, void => collapsed",(0,D.jt)(it))]),bodyExpansion:(0,D.X$)("bodyExpansion",[(0,D.SB)("collapsed, void",(0,D.oB)({height:"0px",visibility:"hidden"})),(0,D.SB)("expanded",(0,D.oB)({height:"*",visibility:"visible"})),(0,D.eR)("expanded <=> collapsed, void => collapsed",(0,D.jt)(it))])};let at=(()=>{class i{constructor(t){this._template=t}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]}),i})(),st=0;const He=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ye=(()=>{class i extends bt{constructor(t,s,e,n,o,l,h){super(t,s,e),this._viewContainerRef=n,this._animationMode=l,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new Le.x,this._headerId="mat-expansion-panel-header-"+st++,this._bodyAnimationDone=new Le.x,this.accordion=t,this._document=o,this._bodyAnimationDone.pipe((0,O.x)((u,f)=>u.fromState===f.fromState&&u.toState===f.toState)).subscribe(u=>{"void"!==u.fromState&&("expanded"===u.toState?this.afterExpand.emit():"collapsed"===u.toState&&this.afterCollapse.emit())}),h&&(this.hideToggle=h.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=(0,d.Ig)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,H.O)(null),(0,x.h)(()=>this.expanded&&!this._portal),(0,De.q)(1)).subscribe(()=>{this._portal=new U.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,s=this._body.nativeElement;return t===s||s.contains(t)}return!1}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(Ge,12),a.Y36(a.sBO),a.Y36(ae),a.Y36(a.s_b),a.Y36(R.K0),a.Y36(p.Qb,8),a.Y36(He,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(t,s,e){if(1&t&&a.Suo(e,at,5),2&t){let n;a.iGM(n=a.CRH())&&(s._lazyContent=n.first)}},viewQuery:function(t,s){if(1&t&&a.Gf(se,5),2&t){let e;a.iGM(e=a.CRH())&&(s._body=e.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,s){2&t&&a.ekj("mat-expanded",s.expanded)("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-expansion-panel-spacing",s._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:Ge,useValue:void 0}]),a.qOj,a.TTD],ngContentSelectors:tt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,s){1&t&&(a.F$t(et),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(n){return s._bodyAnimationDone.next(n)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,ve,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&t&&(a.xp6(1),a.Q6J("@bodyExpansion",s._getExpandedState())("id",s.id),a.uIk("aria-labelledby",s._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",s._portal))},directives:[U.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[nt.bodyExpansion]},changeDetection:0}),i})();class ke{}const ze=(0,c.sb)(ke);let rt=(()=>{class i extends ze{constructor(t,s,e,n,o,l,h){super(),this.panel=t,this._element=s,this._focusMonitor=e,this._changeDetectorRef=n,this._animationMode=l,this._parentChangeSubscription=g.w0.EMPTY;const u=t.accordion?t.accordion._stateChanges.pipe((0,x.h)(f=>!(!f.hideToggle&&!f.togglePosition))):Se.E;this.tabIndex=parseInt(h||"")||0,this._parentChangeSubscription=(0,Ae.T)(t.opened,t.closed,u,t._inputChanges.pipe((0,x.h)(f=>!!(f.hideToggle||f.disabled||f.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe((0,x.h)(()=>t._containsFocus())).subscribe(()=>e.focusVia(s,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case _e.L_:case _e.K5:(0,_e.Vb)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,s){t?this._focusMonitor.focusVia(this._element,t,s):this._element.nativeElement.focus(s)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(Ye,1),a.Y36(a.SBq),a.Y36(de.tE),a.Y36(a.sBO),a.Y36(He,8),a.Y36(p.Qb,8),a.$8M("tabindex"))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,s){1&t&&a.NdJ("click",function(){return s._toggle()})("keydown",function(n){return s._keydown(n)}),2&t&&(a.uIk("id",s.panel._headerId)("tabindex",s.tabIndex)("aria-controls",s._getPanelId())("aria-expanded",s._isExpanded())("aria-disabled",s.panel.disabled),a.Udp("height",s._getHeaderHeight()),a.ekj("mat-expanded",s._isExpanded())("mat-expansion-toggle-indicator-after","after"===s._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===s._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:xt,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,s){1&t&&(a.F$t(J),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,Ne,1,1,"span",1)),2&t&&(a.xp6(4),a.Q6J("ngIf",s._showToggle()))},directives:[R.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[nt.indicatorRotate]},changeDetection:0}),i})(),Et=(()=>{class i extends Tt{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=(0,d.Ig)(t)}ngAfterContentInit(){this._headers.changes.pipe((0,H.O)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(s=>s.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new de.Em(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return i.\u0275fac=function(){let r;return function(s){return(r||(r=a.n5z(i)))(s||i)}}(),i.\u0275dir=a.lG2({type:i,selectors:[["mat-accordion"]],contentQueries:function(t,s,e){if(1&t&&a.Suo(e,rt,5),2&t){let n;a.iGM(n=a.CRH())&&(s._headers=n)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,s){2&t&&a.ekj("mat-accordion-multi",s.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:Ge,useExisting:i}]),a.qOj]}),i})(),Ct=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[R.ez,c.BQ,yt,U.eL]]}),i})();function Ue(i,r){1&i&&(a.TgZ(0,"span"),a._uU(1,"Welcome!"),a.qZA())}function St(i,r){1&i&&a._uU(0,"Level Complete!")}function At(i,r){if(1&i&&(a.TgZ(0,"p"),a._uU(1," Game pieces can move "),a.TgZ(2,"b"),a._uU(3,"right"),a.qZA(),a._uU(4," or "),a.TgZ(5,"b"),a._uU(6,"left"),a.qZA(),a._uU(7,", or be flipped "),a.TgZ(8,"b"),a._uU(9,"up"),a.qZA(),a._uU(10," or "),a.TgZ(11,"b"),a._uU(12,"down"),a.qZA(),a._uU(13,". Tap or press a game piece to make a match! "),a.qZA(),a.TgZ(14,"p"),a._uU(15," Must match "),a.TgZ(16,"b"),a._uU(17),a.qZA(),a._uU(18," top-to-bottom or side-to-side. "),a.qZA(),a.TgZ(19,"p"),a._uU(20," Watch your "),a.TgZ(21,"b"),a._uU(22,"moves"),a.qZA(),a._uU(23,"! You may only have a few moves left. Once your moves are all used up, the game is over. "),a.qZA()),2&i){const t=a.oxw(2);a.xp6(17),a.hij("at least ",t.matchTarget," pieces")}}function ot(i,r){1&i&&(a.TgZ(0,"div",9),a.TgZ(1,"mat-accordion"),a.TgZ(2,"mat-expansion-panel",10),a.TgZ(3,"mat-expansion-panel-header"),a.TgZ(4,"span"),a._uU(5,"How to play?"),a.qZA(),a.qZA(),a.YNc(6,At,24,1,"ng-template",11),a.qZA(),a.qZA(),a.qZA())}function lt(i,r){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2,"Speed bonus:"),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.ALo(5,"number"),a.qZA(),a.qZA()),2&i){const t=a.oxw(2);a.xp6(4),a.Oqu(a.lcZ(5,1,t.data.stats.fastMatchBonusTotal))}}function qe(i,r){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2,"Fastest match time:"),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.ALo(5,"number"),a.qZA(),a.qZA()),2&i){const t=a.oxw(2);a.xp6(4),a.hij("",a.xi3(5,1,t.data.stats.fastestMatchMs/1e3,"1.1-1"),"s")}}function Pt(i,r){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2,"Moves used:"),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.qZA()),2&i){const t=a.oxw(2);a.xp6(4),a.Oqu(t.data.stats.moveCount)}}function wt(i,r){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2,"Moves earned:"),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.qZA()),2&i){const t=a.oxw(2);a.xp6(4),a.Oqu(t.data.stats.moveCountEarned)}}function It(i,r){if(1&i&&(a.TgZ(0,"table"),a.YNc(1,lt,6,3,"tr",12),a.YNc(2,qe,6,4,"tr",12),a.YNc(3,Pt,5,1,"tr",12),a.YNc(4,wt,5,1,"tr",12),a.TgZ(5,"tr"),a.TgZ(6,"td"),a._uU(7,"Piece count:"),a.qZA(),a.TgZ(8,"td"),a._uU(9),a.qZA(),a.qZA(),a.qZA()),2&i){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",t.data.stats.fastMatchBonusTotal),a.xp6(1),a.Q6J("ngIf",t.data.stats.fastMatchBonusTotal),a.xp6(1),a.Q6J("ngIf",t.data.stats.moveCount),a.xp6(1),a.Q6J("ngIf",t.data.stats.moveCountEarned),a.xp6(5),a.Oqu(t.data.stats.pieceCount)}}function ht(i,r){1&i&&(a.TgZ(0,"span"),a._uU(1,"Play!"),a.qZA())}function Ot(i,r){1&i&&(a.TgZ(0,"span"),a._uU(1,"Next Level, let's go!"),a.qZA())}let Rt=(()=>{class i{constructor(t,s){this.textureManager=t,this.data=s,this.matchTarget=y.TT,this.texturesStillLoading=!0,this.progress=100,this.textureManager.LevelTexturesLoaded.subscribe(()=>{this.texturesStillLoading=!1}),this.textureManager.LevelTextureLoadProgress.subscribe(e=>{this.progress=e})}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(E),a.Y36(F.WI))},i.\u0275cmp=a.Xpm({type:i,selectors:[["wgl-level-dialog"]],decls:14,vars:10,consts:[[1,"dialog-header"],[4,"ngIf","ngIfElse"],["levelHeader",""],["class","intro",4,"ngIf","ngIfElse"],["levelContent",""],[1,"progress",3,"value"],["align","center"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"disabled"],["levelButtonContent",""],[1,"intro"],["hideToggle",""],["matExpansionPanelContent",""],[4,"ngIf"]],template:function(t,s){if(1&t&&(a.TgZ(0,"h2",0),a.YNc(1,Ue,2,0,"span",1),a.YNc(2,St,1,0,"ng-template",null,2,a.W1O),a.qZA(),a.TgZ(4,"mat-dialog-content"),a.YNc(5,ot,7,0,"div",3),a.YNc(6,It,10,5,"ng-template",null,4,a.W1O),a._UZ(8,"mat-progress-bar",5),a.qZA(),a.TgZ(9,"mat-dialog-actions",6),a.TgZ(10,"button",7),a.YNc(11,ht,2,0,"span",1),a.YNc(12,Ot,2,0,"ng-template",null,8,a.W1O),a.qZA(),a.qZA()),2&t){const e=a.MAs(3),n=a.MAs(7),o=a.MAs(13);a.xp6(1),a.Q6J("ngIf",s.data.isWelcome)("ngIfElse",e),a.xp6(4),a.Q6J("ngIf",s.data.isWelcome)("ngIfElse",n),a.xp6(3),a.ekj("fade-out",!s.texturesStillLoading),a.Q6J("value",s.progress),a.xp6(2),a.Q6J("disabled",s.texturesStillLoading),a.xp6(1),a.Q6J("ngIf",s.data.isWelcome)("ngIfElse",o)}},directives:[R.O5,F.xY,Z,F.H8,w.lW,F.ZT,Et,Ye,rt,at],pipes:[R.JJ],styles:[".dialog-header[_ngcontent-%COMP%]{text-align:center}.progress[_ngcontent-%COMP%]{opacity:1;transition:opacity .5s}.progress.fade-out[_ngcontent-%COMP%]{opacity:0}"]}),i})(),Lt=(()=>{class i{constructor(t,s,e){this.textureManager=t,this.dialogRef=s,this.data=e,this.texturesStillLoading=!0,this.progress=100,this.textureManager.LevelTexturesLoaded.subscribe(()=>{this.texturesStillLoading=!1}),this.textureManager.LevelTextureLoadProgress.subscribe(n=>{this.progress=n})}onCloseGameOver(){this.data.restartLevel=!1,this.data.startOver=!0,this.dialogRef.close(this.data)}onCloseRestartLevel(){this.data.restartLevel=!0,this.data.startOver=!1,this.dialogRef.close(this.data)}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(E),a.Y36(F.so),a.Y36(F.WI))},i.\u0275cmp=a.Xpm({type:i,selectors:[["wgl-game-over"]],decls:12,vars:6,consts:[[1,"progress",3,"value"],["align","center"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,s){1&t&&(a.TgZ(0,"h2"),a._uU(1,"No More Moves"),a.qZA(),a.TgZ(2,"mat-dialog-content"),a.TgZ(3,"p"),a._uU(4,"You have exhausted your supply of moves!"),a.qZA(),a._UZ(5,"mat-progress-bar",0),a.qZA(),a._UZ(6,"hr"),a.TgZ(7,"mat-dialog-actions",1),a.TgZ(8,"button",2),a.NdJ("click",function(){return s.onCloseRestartLevel()}),a._uU(9),a.qZA(),a.TgZ(10,"button",2),a.NdJ("click",function(){return s.onCloseGameOver()}),a._uU(11," Start Over "),a.qZA(),a.qZA()),2&t&&(a.xp6(5),a.ekj("fade-out",!s.texturesStillLoading),a.Q6J("value",s.progress),a.xp6(3),a.Q6J("disabled",s.texturesStillLoading),a.xp6(1),a.hij(" Start Again at Level ",s.data.level," "),a.xp6(1),a.Q6J("disabled",s.texturesStillLoading))},directives:[F.xY,Z,F.H8,w.lW],styles:[".progress[_ngcontent-%COMP%]{opacity:1;transition:opacity .5s}.progress.fade-out[_ngcontent-%COMP%]{opacity:0}"]}),i})();var Pe,Y={Linear:{None:function(i){return i}},Quadratic:{In:function(i){return i*i},Out:function(i){return i*(2-i)},InOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)}},Cubic:{In:function(i){return i*i*i},Out:function(i){return--i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)}},Quartic:{In:function(i){return i*i*i*i},Out:function(i){return 1- --i*i*i*i},InOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)}},Quintic:{In:function(i){return i*i*i*i*i},Out:function(i){return--i*i*i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)}},Sinusoidal:{In:function(i){return 1-Math.cos(i*Math.PI/2)},Out:function(i){return Math.sin(i*Math.PI/2)},InOut:function(i){return.5*(1-Math.cos(Math.PI*i))}},Exponential:{In:function(i){return 0===i?0:Math.pow(1024,i-1)},Out:function(i){return 1===i?1:1-Math.pow(2,-10*i)},InOut:function(i){return 0===i?0:1===i?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(2-Math.pow(2,-10*(i-1)))}},Circular:{In:function(i){return 1-Math.sqrt(1-i*i)},Out:function(i){return Math.sqrt(1- --i*i)},InOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}},Elastic:{In:function(i){return 0===i?0:1===i?1:-Math.pow(2,10*(i-1))*Math.sin(5*(i-1.1)*Math.PI)},Out:function(i){return 0===i?0:1===i?1:Math.pow(2,-10*i)*Math.sin(5*(i-.1)*Math.PI)+1},InOut:function(i){return 0===i?0:1===i?1:(i*=2)<1?-.5*Math.pow(2,10*(i-1))*Math.sin(5*(i-1.1)*Math.PI):.5*Math.pow(2,-10*(i-1))*Math.sin(5*(i-1.1)*Math.PI)+1}},Back:{In:function(i){var r=1.70158;return i*i*((r+1)*i-r)},Out:function(i){var r=1.70158;return--i*i*((r+1)*i+r)+1},InOut:function(i){var r=2.5949095;return(i*=2)<1?i*i*((r+1)*i-r)*.5:.5*((i-=2)*i*((r+1)*i+r)+2)}},Bounce:{In:function(i){return 1-Y.Bounce.Out(1-i)},Out:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},InOut:function(i){return i<.5?.5*Y.Bounce.In(2*i):.5*Y.Bounce.Out(2*i-1)+.5}}};Pe="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()};var i,Te=Pe,je=function(){function i(){this._tweens={},this._tweensAddedDuringUpdate={}}return i.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(t){return r._tweens[t]})},i.prototype.removeAll=function(){this._tweens={}},i.prototype.add=function(r){this._tweens[r.getId()]=r,this._tweensAddedDuringUpdate[r.getId()]=r},i.prototype.remove=function(r){delete this._tweens[r.getId()],delete this._tweensAddedDuringUpdate[r.getId()]},i.prototype.update=function(r,t){void 0===r&&(r=Te()),void 0===t&&(t=!1);var s=Object.keys(this._tweens);if(0===s.length)return!1;for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var e=0;e<s.length;e++){var n=this._tweens[s[e]];n&&!1===n.update(r,!t)&&!t&&delete this._tweens[s[e]]}s=Object.keys(this._tweensAddedDuringUpdate)}return!0},i}(),pe={Linear:function(i,r){var t=i.length-1,s=t*r,e=Math.floor(s),n=pe.Utils.Linear;return r<0?n(i[0],i[1],s):r>1?n(i[t],i[t-1],t-s):n(i[e],i[e+1>t?t:e+1],s-e)},Bezier:function(i,r){for(var t=0,s=i.length-1,e=Math.pow,n=pe.Utils.Bernstein,o=0;o<=s;o++)t+=e(1-r,s-o)*e(r,o)*i[o]*n(s,o);return t},CatmullRom:function(i,r){var t=i.length-1,s=t*r,e=Math.floor(s),n=pe.Utils.CatmullRom;return i[0]===i[t]?(r<0&&(e=Math.floor(s=t*(1+r))),n(i[(e-1+t)%t],i[e],i[(e+1)%t],i[(e+2)%t],s-e)):r<0?i[0]-(n(i[0],i[0],i[1],i[1],-s)-i[0]):r>1?i[t]-(n(i[t],i[t],i[t-1],i[t-1],s-t)-i[t]):n(i[e?e-1:0],i[e],i[t<e+1?t:e+1],i[t<e+2?t:e+2],s-e)},Utils:{Linear:function(i,r,t){return(r-i)*t+i},Bernstein:function(i,r){var t=pe.Utils.Factorial;return t(i)/t(r)/t(i-r)},Factorial:(i=[1],function(r){var t=1;if(i[r])return i[r];for(var s=r;s>1;s--)t*=s;return i[r]=t,t}),CatmullRom:function(i,r,t,s,e){var n=.5*(t-i),o=.5*(s-r),l=e*e;return(2*r-2*t+n+o)*(e*l)+(-3*r+3*t-2*n-o)*l+n*e+r}}},Ve=function(){function i(){}return i.nextId=function(){return i._nextId++},i._nextId=0,i}(),We=new je,le=function(){function i(r,t){void 0===t&&(t=We),this._object=r,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Y.Linear.None,this._interpolationFunction=pe.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Ve.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return i.prototype.getId=function(){return this._id},i.prototype.isPlaying=function(){return this._isPlaying},i.prototype.isPaused=function(){return this._isPaused},i.prototype.to=function(r,t){return this._valuesEnd=Object.create(r),void 0!==t&&(this._duration=t),this},i.prototype.duration=function(r){return this._duration=r,this},i.prototype.start=function(r){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==r?"string"==typeof r?Te()+parseFloat(r):r:Te(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},i.prototype._setupProperties=function(r,t,s,e){for(var n in s){var o=r[n],l=Array.isArray(o),h=l?"array":typeof o,u=!l&&Array.isArray(s[n]);if("undefined"!==h&&"function"!==h){if(u){var f=s[n];if(0===f.length)continue;f=f.map(this._handleRelativeValue.bind(this,o)),s[n]=[o].concat(f)}if("object"!==h&&!l||!o||u)void 0===t[n]&&(t[n]=o),l||(t[n]*=1),e[n]=u?s[n].slice().reverse():t[n]||0;else{for(var S in t[n]=l?[]:{},o)t[n][S]=o[S];e[n]=l?[]:{},this._setupProperties(o,t[n],s[n],e[n])}}}},i.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},i.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},i.prototype.pause=function(r){return void 0===r&&(r=Te()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=r,this._group&&this._group.remove(this)),this},i.prototype.resume=function(r){return void 0===r&&(r=Te()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},i.prototype.stopChainedTweens=function(){for(var r=0,t=this._chainedTweens.length;r<t;r++)this._chainedTweens[r].stop();return this},i.prototype.group=function(r){return this._group=r,this},i.prototype.delay=function(r){return this._delayTime=r,this},i.prototype.repeat=function(r){return this._initialRepeat=r,this._repeat=r,this},i.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},i.prototype.yoyo=function(r){return this._yoyo=r,this},i.prototype.easing=function(r){return this._easingFunction=r,this},i.prototype.interpolation=function(r){return this._interpolationFunction=r,this},i.prototype.chain=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return this._chainedTweens=r,this},i.prototype.onStart=function(r){return this._onStartCallback=r,this},i.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},i.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},i.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},i.prototype.onStop=function(r){return this._onStopCallback=r,this},i.prototype.update=function(r,t){if(void 0===r&&(r=Te()),void 0===t&&(t=!0),this._isPaused)return!0;var s,e;if(!this._goToEnd&&!this._isPlaying){if(r>this._startTime+this._duration)return!1;t&&this.start(r)}if(this._goToEnd=!1,r<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),e=(r-this._startTime)/this._duration;var o=this._easingFunction(e=0===this._duration||e>1?1:e);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,e),1===e){if(this._repeat>0){for(s in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)!this._yoyo&&"string"==typeof this._valuesEnd[s]&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime=void 0!==this._repeatDelayTime?r+this._repeatDelayTime:r+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var l=0,h=this._chainedTweens.length;l<h;l++)this._chainedTweens[l].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},i.prototype._updateProperties=function(r,t,s,e){for(var n in s)if(void 0!==t[n]){var o=t[n]||0,l=s[n],h=Array.isArray(r[n]),u=Array.isArray(l);!h&&u?r[n]=this._interpolationFunction(l,e):"object"==typeof l&&l?this._updateProperties(r[n],o,l,e):"number"==typeof(l=this._handleRelativeValue(o,l))&&(r[n]=o+(l-o)*e)}},i.prototype._handleRelativeValue=function(r,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?r+parseFloat(t):parseFloat(t)},i.prototype._swapEndStartRepeatValues=function(r){var t=this._valuesStartRepeat[r],s=this._valuesEnd[r];this._valuesStartRepeat[r]="string"==typeof s?this._valuesStartRepeat[r]+parseFloat(s):this._valuesEnd[r],this._valuesEnd[r]=t},i}(),ie=We,Me=(ie.getAll.bind(ie),ie.removeAll.bind(ie),ie.add.bind(ie),ie.remove.bind(ie),ie.update.bind(ie));class Dt{constructor(r,t,s,e){this._matchKey=r,s&&e&&(this._bumpTexture=s,this._material=new T.xoR({color:e,bumpMap:this._bumpTexture,bumpScale:.03})),t&&!e&&(this._texture=t,this._material=new T.vBJ({map:this._texture})),this._material&&(this._material.opacity=0,this._material.transparent=!0)}get MatchKey(){return this._matchKey}get Material(){return this._material}Dispose(){var r,t,s;null===(r=this._texture)||void 0===r||r.dispose(),null===(t=this._bumpTexture)||void 0===t||t.dispose(),null===(s=this._material)||void 0===s||s.dispose()}}class ft extends T.Tme{constructor(r,t,s,e,n){var o;super(),this._gamePieceMaterials=[],this._matchKeySequence=[1,2,0,3],this.IsMatch=!1,this._isRemoved=!1,this.position.set(r,t,s),this.rotateY(e),this._innerGeometry=new T.nvb(1,1,1),this.initMaterials(n),this._mesh=new T.Kj0(this._innerGeometry,this._gamePieceMaterials.map(l=>l.Material)),this.add(this._mesh),this._thetaStart=Math.abs(e),this._thetaOffset=this._thetaStart,this._matchKey=null===(o=this._gamePieceMaterials[this._matchKeySequence[0]])||void 0===o?void 0:o.MatchKey}get IsRemoved(){return this._isRemoved}set ThetaOffset(r){this._thetaOffset=this.mod(this._thetaStart-r,y.uo)}get ThetaOffset(){return this._thetaOffset}get MatchKey(){return this._matchKey}AnimateLevelChangeTween(r){this._levelChangeTween&&this._levelChangeTween.stop();const t=r?{o:0}:{o:1},s=r?{o:1}:{o:0};this._levelChangeTween=new le(t).to(s,r?2e3:3e3).delay(T.M8C.randInt(250,1e3)).onUpdate(()=>{this._gamePieceMaterials.forEach(e=>e.Material.opacity=t.o)}).start()}AnimateLock(r){if(!this._isRemoved&&!this.IsMatch){this._lockTween&&this._lockTween.stop();const t={x:1,y:1,z:1,o:1},s={x:.8,y:.8,z:.8,o:.4},e=r?t:s,n=r?s:t;this._lockTween=new le(e).to(n,500).onUpdate(()=>{this.scale.set(e.x,e.y,e.z),this._gamePieceMaterials.forEach(o=>o.Material.opacity=e.o)}),r&&(this._lockTween.easing(Y.Exponential.Out),this._lockTween.delay(T.M8C.randInt(50,500))),this._lockTween.start()}}InitSelectionTween(r){const t={x:1,y:1,z:1,o:1},s={x:1.5,y:1.25,z:1.25,o:1},e=r?t:s,n=r?s:t;return new le(e).to(n,300).easing(Y.Quintic.Out).onUpdate(()=>{this.scale.set(e.x,e.y,e.z)})}InitRemovalTween(){this._isRemoved=!0;const r={x:this.rotation.x,y:this.rotation.y,z:this.rotation.y,o:1},t={x:r.x+T.M8C.randFloat(-Math.PI,Math.PI),y:r.y+T.M8C.randFloat(-Math.PI,Math.PI),z:r.x+T.M8C.randFloat(-Math.PI,Math.PI),o:0};new le(r).to(t,T.M8C.randInt(250,750)).onUpdate(()=>{this.rotation.x=r.x,this.rotation.y=r.y,this.rotation.z=r.x,this.scale.setScalar(r.o),this._gamePieceMaterials.forEach(s=>s.Material.opacity=r.o)}).start()}InitFlipTween(r,t){const s={theta:this.rotation.z},e={theta:this.rotation.z+y.Tx*(t?-1:1)*r};for(let n=0;n<r;n++)this._matchKeySequence=this._matchKeySequence.concat(this._matchKeySequence.splice(0,t?this._matchKeySequence.length-1:1));return this._matchKey=this._gamePieceMaterials[this._matchKeySequence[0]].MatchKey,new le(s).to(e,500).easing(Y.Sinusoidal.InOut).onUpdate(()=>{this.rotation.z=s.theta}).start()}Dispose(){this._gamePieceMaterials.forEach(r=>r.Dispose()),this._innerGeometry.dispose()}initMaterials(r){for(let t=0;t<6;t++){const s=r[Math.floor(Math.random()*r.length)];let e;s&&(s.Texture&&(e=this.cloneRotateTexture(s.Texture,t)),this._gamePieceMaterials.push(new Dt(s.MatchKey,e,s.BumpTexture,s.Color)))}}cloneRotateTexture(r,t){if(r){const s=r.clone();if(s){switch(s.needsUpdate=!0,t){case 0:s.rotation=2*y.Tx;break;case 2:s.rotation=3*y.Tx;break;case 3:s.rotation=y.Tx}return s}}}mod(r,t){return(r%t+t)%t}}class Ze extends T.Tme{constructor(r,t,s){super(),this._theta=0,this._moveStartTheta=0,this.position.y=r,t.forEach(e=>{const n=new ft(e.polarCoords.x,0,e.polarCoords.z,e.rotationY,s);this.add(n)});for(let e=0;e<this.children.length;e++){const n=this.children[e];0===e?(n.Prev=this.children[this.children.length-1],n.Next=this.children[e+1]):e===this.children.length-1?(n.Prev=this.children[e-1],n.Next=this.children[0]):(n.Prev=this.children[e-1],n.Next=this.children[e+1])}}set Above(r){this._wheelAbove=r}get Above(){return this._wheelAbove}set Below(r){this._wheelBelow=r}get Below(){return this._wheelBelow}AnimateLevelStartTween(r,t,s){this._levelChangeTween&&this._levelChangeTween.stop();const e={y:this.position.y,theta:s?T.M8C.randInt(-20,20)*y.oE:this._theta},n={y:r,theta:s?0:T.M8C.randInt(-5,5)};this._levelChangeTween=new le(e).to(n,3e3).delay(t).easing(s?Y.Sinusoidal.Out:Y.Sinusoidal.In).onUpdate(()=>{this.position.y=e.y,this.rotation.y=e.theta,this._theta=e.theta}).start()}UpdateMoveStartTheta(){this._moveStartTheta=this._theta}UpdateTheta(r){this._theta+=r,Math.abs(this._theta)>=y.uo&&(this._theta=0),this.rotation.y=this._theta}SnapToGrid(){const r=Math.ceil(this._theta/y.oE),t=Math.abs(this._theta-r*y.oE),s=Math.abs(this._theta-(r-1)*y.oE);t<s?this._theta+=t:this._theta-=s;const e=Math.abs(this._theta-this._moveStartTheta)>=y.oE,n={r:this.rotation.y};new le(n).to({r:this._theta},500).easing(e?Y.Bounce.Out:Y.Cubic.InOut).onUpdate(()=>{this.rotation.y=n.r}).start();for(const o of this.children)o.ThetaOffset=this._theta;return e}ResetIsMatch(){for(const r of this.children)r.IsMatch=!1}Dispose(){for(const r of this.children)r.Dispose()}}var I=C(6678);C(4646);let he=(()=>{class i{constructor(t){this.textureManager=t}InitMaterials(){const t=[];let s=1,e=[];switch(this.textureManager.LevelType){case X.ColorBumpShape:e=this.initColorScheme(),e.forEach((o,l)=>{t.push({MatchKey:s++,BumpTexture:this.textureManager.Textures[l],Color:o})});break;case X.ColorBumpMaterial:e=this.initColorScheme();const n=this.textureManager.Textures[T.M8C.randInt(0,this.textureManager.Textures.length-1)];e.forEach(o=>{t.push({MatchKey:s++,BumpTexture:n,Color:o})});break;case X.Emoji:for(let o=0;o<y.Gz;o++)t.push({MatchKey:s++,Texture:this.textureManager.Textures[o]})}return t}initColorScheme(){const t=new ColorScheme,s=["contrast","triade","tetrade","analogic"],e=s[T.M8C.randInt(0,s.length-1)];return t.from_hue(T.M8C.randInt(0,359)).scheme(e).variation("hard"),t.colors().map(o=>`#${o}`).slice(0,y.Gz)}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(E))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();var ne=C(4830);let fe=(()=>{class i{constructor(){this._level=1,this._score=0,this._levelPieceTarget=0,this._levelProgress=0,this._playerMoves=0,this.ResetStats(),this.initLevelPieceTarget()}get Level(){return this._level}get Score(){return this._score}get LevelPieceTarget(){return this._levelPieceTarget}get LevelProgress(){return this._levelProgress}get PlayerMoves(){return this._playerMoves}get GameOver(){return 0===this._playerMoves}get LevelComplete(){return this.LevelProgress>=100}get LevelStats(){return this._levelStats}ResetTimer(){this._timeStart=performance.now()}StopTimer(){this._timeStop=performance.now()}NextLevel(){this._level++,this.initLevelPieceTarget(),this.ResetStats()}UpdateLevelProgress(){this._levelStats.pieceCount++,this._levelProgress=this.LevelStats.pieceCount/this._levelPieceTarget*100}UpdateScore(t){const s=this._timeStop-this._timeStart;s<this._levelStats.fastestMatchMs&&(this._levelStats.fastestMatchMs=s);let e=0;e=t*this._level;const n=Math.ceil(1e3/s*1e3);n>=y.MP&&(this._levelStats.fastMatchBonusTotal+=n,e+=n,this._levelStats.moveCountEarned++,this._playerMoves++),this._score+=e;const o=Math.floor(t/(y.TT+1));o&&(this._playerMoves+=o,this._levelStats.moveCountEarned+=o),this.ResetTimer()}UpdateMoveCount(){this._levelStats.moveCount++,this._playerMoves--}RestartGame(){this._level=1,this._score=0,this._playerMoves=0,this.initLevelPieceTarget(),this.ResetStats()}ResetStats(t=!1){0===this.PlayerMoves&&(this._playerMoves=y._p),t&&(this._score=0),this._levelProgress=0,this._levelStats={fastestMatchMs:Number.MAX_SAFE_INTEGER,fastMatchBonusTotal:0,moveCount:0,moveCountEarned:0,pieceCount:0},this._timeStart=Date.now()}initLevelPieceTarget(){this._levelPieceTarget=Math.ceil(Math.log2(this._level))+this._level+y._p}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),$=(()=>{class i{constructor(t,s){this.audioService=t,this.scoringService=s,this._selectionTweens=[],this.SelectionAnimationComplete=new a.vpe,this.LevelChangeAnimation=new a.vpe}AnimateLevelChangeAnimation(t,s,e,n){this.LevelChangeAnimation.next(!0);let o=[...s];n||(o=s.map(f=>-y.Gg));let l=0;t.forEach((f,S)=>{l+=100,f.AnimateLevelStartTween(o[S],l,n)}),t.forEach(f=>{for(const S of f.children)S.IsMatch||S.AnimateLevelChangeTween(n)}),this._levelChangeCameraTween&&this._levelChangeCameraTween.stop();const h={z:n?0:5,rotX:n?Math.PI/2:0},u={z:n?5:0,rotX:n?0:-Math.PI/2};this._levelChangeCameraTween=new le(h).to(u,n?1e3:2e3).delay(n?2e3:500).onUpdate(()=>{e.rotation.x=h.rotX,e.position.z=h.z}).onComplete(()=>{this.LevelChangeAnimation.next(!1),this.scoringService.ResetTimer()}).start()}AnimateLock(t,s){t.forEach(e=>{for(const n of e.children)n.IsMatch||n.AnimateLock(s)})}AnimateSelected(t,s){if(t.length){this._selectionTweens.forEach(o=>o.stop()),this._selectionTweens=[];const e=[...t];s||e.reverse();const n=e.length>=y.TT;n&&this.scoringService.StopTimer(),e.forEach(o=>this._selectionTweens.push(o.InitSelectionTween(s)));for(let o=0;o<this._selectionTweens.length-1;o++)this._selectionTweens[o].chain(this._selectionTweens[o+1]);this._selectionTweens[0].delay(250),this.audioService.StartProgression(),this._selectionTweens.forEach(o=>{o.onStart(()=>{n&&this.scoringService.UpdateLevelProgress(),this.audioService.PlayAudio(s?I.w.PIECE_SELECT:I.w.MATCH_FAIL,!!s)})}),this._selectionTweens[0].start(),this._selectionTweens[this._selectionTweens.length-1].onComplete(()=>{this.SelectionAnimationComplete.next(s),n&&this.scoringService.UpdateScore(e.length)})}}AnimateRemove(t){t.length&&t.forEach(s=>{s.InitRemovalTween(),this.audioService.PlayAudio(I.w.PIECE_REMOVE)})}AnimateFlip(t,s,e){t.InitFlipTween(Math.floor(s),e)}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(ne.X),a.LFG(fe))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),ee=(()=>{class i{constructor(t,s,e){this.materialManager=t,this.effectsManager=s,this.audioManager=e,this._piecePoints=[],this._verticalTargets=[],this._axle=[],this.LevelCompleted=new a.vpe,this._stack=new T.ZAu,this.initCoords()}get Axle(){return this._axle}SetCamera(t){this._perspectiveCamera=t}InitShapes(t){t&&!this._scene&&(this._scene=t),this.dispose();const s=this.materialManager.InitMaterials();switch(this._verticalTargets.forEach(()=>{const e=new Ze(y.Gg,this._piecePoints,s);this._axle.push(e),this._stack.add(e)}),this._scene.add(this._stack),this.assignIterationValues(),this._perspectiveCamera&&(this._perspectiveCamera.position.z=0,this._perspectiveCamera.rotation.x=Math.PI/2),this.effectsManager.AnimateLevelChangeAnimation(this._axle,this._verticalTargets,this._perspectiveCamera,!0),this.audioManager.StopLevelComplete(),T.M8C.randInt(1,5)){case 1:this.audioManager.PlayAudio(I.w.LEVEL_START_1);break;case 2:this.audioManager.PlayAudio(I.w.LEVEL_START_2);break;case 3:this.audioManager.PlayAudio(I.w.LEVEL_START_3);break;case 4:this.audioManager.PlayAudio(I.w.LEVEL_START_4);break;default:this.audioManager.PlayAudio(I.w.LEVEL_START_5)}}AnimateLevelComplete(){this.effectsManager.AnimateLevelChangeAnimation(this._axle,this._verticalTargets,this._perspectiveCamera,!1)}assignIterationValues(){for(let t=0;t<this._axle.length;t++)0===t?(this._axle[t].Above=this._axle[t+1],this._axle[t].Below=void 0):t===this._axle.length-1?(this._axle[t].Above=void 0,this._axle[t].Below=this._axle[t-1]):(this._axle[t].Above=this._axle[t+1],this._axle[t].Below=this._axle[t-1])}initCoords(){for(let t=0;t<y.ZO;t+=y.Dj){const s=T.M8C.degToRad(t),e=y.i8*Math.cos(s),n=y.i8*Math.sin(s);this._piecePoints.push({polarCoords:new T.Pa4(e,0,n),rotationY:-1*s})}for(let t=-3;t<=3;t++)this._verticalTargets.push(t*y.EH)}dispose(){this._axle.length&&this._axle.forEach(t=>t.Dispose()),this._axle=[],this._stack.clear()}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(he),a.LFG($),a.LFG(ne.X))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();var gt=C(9575),ce=(()=>(function(i){i.Up="Up",i.Down="Down",i.Next="Next",i.Prev="Prev"}(ce||(ce={})),ce))();let Oe=(()=>{class i{constructor(){this._matches=[]}FindMatches(t,s){for(const e of s)e.ResetIsMatch();return t.IsMatch=!0,this._matches=[t],this.directionalSearch(t),this._matches}directionalSearch(t){let s;for(const e in ce){switch(s=void 0,e){case ce.Next:s=this.matchNext(t);break;case ce.Prev:s=this.matchPrev(t);break;case ce.Up:s=this.matchAbove(t);break;case ce.Down:s=this.matchBelow(t)}s&&(s.IsMatch=!0,this._matches.push(s),this.directionalSearch(s))}}matchNext(t){if(!t.Next.IsMatch&&!t.Next.IsRemoved&&t.Next.MatchKey===t.MatchKey)return t.Next}matchPrev(t){if(!t.Prev.IsMatch&&!t.Prev.IsRemoved&&t.Prev.MatchKey===t.MatchKey)return t.Prev}matchAbove(t){const s=t.parent;return s.Above?s.Above.children.find(n=>!n.IsMatch&&!n.IsRemoved&&n.MatchKey===t.MatchKey&&Math.abs(n.ThetaOffset-t.ThetaOffset)<y.Ng):void 0}matchBelow(t){const s=t.parent;return s.Below?s.Below.children.find(n=>!n.IsMatch&&!n.IsRemoved&&n.MatchKey===t.MatchKey&&Math.abs(n.ThetaOffset-t.ThetaOffset)<y.Ng):void 0}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();var P=(()=>(function(i){i.PAN="pan",i.PAN_START="panstart",i.SWIPE="swipe",i.TAP="tap",i.PRESS="press"}(P||(P={})),P))();let Ee=(()=>{class i{constructor(t,s,e,n,o){this.objectManager=t,this.effectsManager=s,this.gameEngine=e,this.scoringManager=n,this.audioManager=o,this._x=0,this._panning=!1,this._matchingPieces=[],this._rayCaster=new T.iMs,this._pointerPos=new T.FM8}set CanvasRect(t){this._canvasRect=t}set Camera(t){this._camera=t}InitInteractions(t){this._hammer=new Hammer(t),this._hammer.get(P.SWIPE).set({direction:Hammer.DIRECTION_VERTICAL}),this.initPanStartEvent(),this.initPanEvent(),this.initTapAndPressEvents(),this.initSwipeEvent(),this.effectsManager.LevelChangeAnimation.subscribe(s=>{this.LockBoard(s)}),this.effectsManager.SelectionAnimationComplete.subscribe(s=>{s?this._matchingPieces.length>=y.TT?(this.effectsManager.AnimateRemove(this._matchingPieces),this.scoringManager.LevelComplete?(this.audioManager.PlayLevelComplete(),this.objectManager.AnimateLevelComplete(),this.LockBoard(!1),this.objectManager.LevelCompleted.next(!1)):(this.effectsManager.AnimateLock(this.objectManager.Axle,!1),this.LockBoard(!1))):(this.effectsManager.AnimateLock(this.objectManager.Axle,!1),this.effectsManager.AnimateSelected(this._matchingPieces,!1)):this.LockBoard(!1)})}LockBoard(t){this._hammer.get(P.SWIPE).set({enable:!t}),this._hammer.get(P.PAN).set({enable:!t}),this._hammer.get(P.TAP).set({enable:!t}),this._hammer.get(P.PRESS).set({enable:!t})}initPanStartEvent(){this._hammer.on(P.PAN_START,t=>{const s=this.getPickedGamePiece(t.center.x,t.center.y);s&&!(null==s?void 0:s.IsRemoved)&&(this._activeWheel=s.parent,this._activeWheel.UpdateMoveStartTheta())})}initPanEvent(){this._hammer.on(P.PAN,t=>{var s;this._panning?this.deviceCordRotation(t.center.x):this._panning=!0,t.isFinal&&(this._panning=!1,(null===(s=this._activeWheel)||void 0===s?void 0:s.SnapToGrid())?(this.audioManager.PlayAudio(I.w.PIECE_MOVE),this.scoringManager.UpdateMoveCount(),this.scoringManager.GameOver&&this.objectManager.LevelCompleted.next(!0)):this.audioManager.PlayAudio(I.w.PIECE_NON_MOVE),this._activeWheel=void 0),this._x=t.center.x})}initSwipeEvent(){this._hammer.on(P.SWIPE,t=>{const s=this.getPickedGamePiece(t.center.x,t.center.y-t.deltaY);s&&!(null==s?void 0:s.IsRemoved)&&(this.effectsManager.AnimateFlip(s,Math.abs(t.velocity),t.direction===gt.DIRECTION_UP),this.scoringManager.UpdateMoveCount(),this.scoringManager.GameOver&&this.objectManager.LevelCompleted.next(!0))})}initTapAndPressEvents(){this._hammer.on(P.TAP,t=>this.handleTapOrPress(t)),this._hammer.on(P.PRESS,t=>{this.handleTapOrPress(t)})}handleTapOrPress(t){this.LockBoard(!0);const s=this.getPickedGamePiece(t.center.x,t.center.y);s&&!(null==s?void 0:s.IsRemoved)?(this._matchingPieces=this.gameEngine.FindMatches(s,this.objectManager.Axle),this.effectsManager.AnimateSelected(this._matchingPieces,!0),this.effectsManager.AnimateLock(this.objectManager.Axle,!0)):this.LockBoard(!1)}deviceCordRotation(t){this._activeWheel&&this._activeWheel.UpdateTheta(T.M8C.degToRad(t-this._x)*(y.AG/this._canvasRect.width)*-1)}getPickedGamePiece(t,s){const n=this._canvasRect.bottom-this._canvasRect.top;this._pointerPos.x=(t-this._canvasRect.left)/(this._canvasRect.right-this._canvasRect.left)*2-1,this._pointerPos.y=-(s-this._canvasRect.top)/n*2+1,this._rayCaster.setFromCamera(this._pointerPos,this._camera);const o=this._rayCaster.intersectObjects(this.objectManager.Axle);if(o.length){const l=o[0].object;return l.parent instanceof ft?l.parent:l}}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(ee),a.LFG($),a.LFG(Oe),a.LFG(fe),a.LFG(ne.X))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Re=(()=>{class i{constructor(t,s){this.objectManager=t,this.interactionManager=s,this._width=0,this._height=0}get scene(){return this._scene}InitScene(){this._scene||(this._scene=new T.xsS,this._scene.background=new T.Ilk(252645135),this._pointLight=new T.cek(16777215,1),this._scene.add(this._pointLight),this.objectManager.InitShapes(this._scene))}UpdateSize(t,s){var e,n;this._width=t,this._height=s;const o=this._width/this._height;this._camera?(this._camera.aspect=o,this._camera.updateProjectionMatrix(),null===(n=this._pointLight)||void 0===n||n.position.copy(this._camera.position)):(this._camera=new T.cPb(45,o,1,75),this.objectManager.SetCamera(this._camera),null===(e=this._pointLight)||void 0===e||e.position.copy(this._camera.position),this._camera.rotation.x=Math.PI/2,this.interactionManager.Camera=this._camera),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}InitRenderer(t){t&&(this._renderer=new T.CP7({canvas:t,antialias:!0})),this._renderer&&this._renderer.setSize(this._width,this._height,!1)}RenderScene(){var t;null===(t=this._renderer)||void 0===t||t.render(this._scene,this._camera)}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(ee),a.LFG(Ee))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Fe=(()=>{class i{constructor(t){var s,e;this.document=t,this._targetHeight=0,this._targetWidth=0,this._gridTemplateColumns="",this._gridTemplateRows="",this._resizeObservable=(0,_.R)(window,"resize"),this.OnResize=new a.vpe,this.updateSize((null===(s=this.document.defaultView)||void 0===s?void 0:s.innerWidth)||0,(null===(e=this.document.defaultView)||void 0===e?void 0:e.innerHeight)||0),this._resizeSubscription=this._resizeObservable.subscribe(n=>{const o=n.target;this.updateSize(o.innerWidth,o.innerHeight)})}get Height(){return this._targetHeight}get Width(){return this._targetWidth}get GridTemplateColumns(){return this._gridTemplateColumns}get GridTemplateRows(){return this._gridTemplateRows}OnDestroy(){this._resizeSubscription.unsubscribe()}updateSize(t,s){this._targetHeight=Math.ceil((s-y.IJ)*y.K5),this._targetWidth=Math.ceil(this._targetHeight*y.qZ),this._targetWidth>=t&&(this._targetHeight=t*this._targetHeight/this._targetWidth,this._targetWidth=t),t>=y.a0?(this._gridTemplateColumns=`1fr ${this._targetWidth}px 1fr`,this._gridTemplateRows=""):(this._gridTemplateColumns="",this._gridTemplateRows=`1fr ${this._targetHeight}px 1fr`),this.OnResize.next()}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(R.K0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Qe=["mainCanvas"];let Je=(()=>{class i{constructor(t,s,e){this.sceneManager=t,this.interactionManager=s,this.layoutManager=e}ngAfterViewInit(){var t;const s=null===(t=this.canvas)||void 0===t?void 0:t.nativeElement;s&&(this.sceneManager.InitRenderer(s),this.interactionManager.InitInteractions(s)),this.sceneManager.UpdateSize(this.layoutManager.Width,this.layoutManager.Height),this.updateSize(),this.layoutManager.OnResize.subscribe(()=>{this.sceneManager.UpdateSize(this.layoutManager.Width,this.layoutManager.Height),this.updateSize()})}updateSize(){var t;const s=null===(t=this.canvas)||void 0===t?void 0:t.nativeElement.getBoundingClientRect();s&&(this.sceneManager.UpdateSize(s.width,s.height),this.interactionManager.CanvasRect=s)}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(Re),a.Y36(Ee),a.Y36(Fe))},i.\u0275cmp=a.Xpm({type:i,selectors:[["wgl-canvas"]],viewQuery:function(t,s){if(1&t&&a.Gf(Qe,5),2&t){let e;a.iGM(e=a.CRH())&&(s.canvas=e.first)}},decls:2,vars:0,consts:[[1,"main-canvas"],["mainCanvas",""]],template:function(t,s){1&t&&a._UZ(0,"canvas",0,1)},styles:[""]}),i})();const ye=[{path:"",component:(()=>{class i{constructor(t,s,e,n,o,l,h){this.ngZone=t,this.dialog=s,this.sceneManager=e,this.objectManager=n,this.textureManager=o,this.layoutManager=l,this.scoringManager=h,this._showWelcome=!0,this._isGameOver=!1,this.GridTemplateColumns="",this.GridTemplateRows=""}ngOnInit(){this.objectManager.LevelCompleted.subscribe(t=>{this._isGameOver=t,this.textureManager.InitLevelTextures(T.M8C.randInt(1,3))}),this.textureManager.LevelTextureLoadingStarted.subscribe(()=>{this._isGameOver?(this._dialogGameOverRef=this.dialog.open(Lt,{maxWidth:"25em",disableClose:!0,data:{level:this.scoringManager.Level}}),this._dialogGameOverRef.afterClosed().subscribe(t=>{t.startOver?this.scoringManager.RestartGame():this.scoringManager.ResetStats(t.restartLevel),this.objectManager.InitShapes()})):(this._dialogRef=this.dialog.open(Rt,this.diagConfig()),this._dialogRef.afterClosed().subscribe(()=>{this.handleLevelDialogCLosed()}))}),this.layoutManager.OnResize.subscribe(()=>{this.GridTemplateColumns=this.layoutManager.GridTemplateColumns,this.GridTemplateRows=this.layoutManager.GridTemplateRows}),this.GridTemplateColumns=this.layoutManager.GridTemplateColumns,this.GridTemplateRows=this.layoutManager.GridTemplateRows,this.textureManager.InitLevelTextures(T.M8C.randInt(1,3))}diagConfig(t=!1){return{maxWidth:"25em",disableClose:!0,data:{isWelcome:this._showWelcome,stats:this.scoringManager.LevelStats,restartLevel:t}}}handleLevelDialogCLosed(){this._showWelcome?(this.sceneManager.InitScene(),this.animate(),this._showWelcome=!1):(this.scoringManager.NextLevel(),this.objectManager.InitShapes())}animate(){Me(),this.ngZone.runOutsideAngular(()=>{this.sceneManager.RenderScene()}),requestAnimationFrame(()=>{this.animate()})}}return i.\u0275fac=function(t){return new(t||i)(a.Y36(a.R0b),a.Y36(F.uw),a.Y36(Re),a.Y36(ee),a.Y36(E),a.Y36(Fe),a.Y36(fe))},i.\u0275cmp=a.Xpm({type:i,selectors:[["wgl-game-container"]],decls:15,vars:14,consts:[[1,"game-container"],[1,"game-scoring"],[1,"game-canvas"],[1,"level-progress"],[3,"value"]],template:function(t,s){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"span"),a._uU(3),a.ALo(4,"number"),a.qZA(),a.TgZ(5,"span"),a._uU(6),a.qZA(),a.TgZ(7,"span"),a._uU(8),a.qZA(),a.qZA(),a._UZ(9,"wgl-canvas",2),a.TgZ(10,"div",3),a.TgZ(11,"div"),a._uU(12),a.ALo(13,"number"),a.qZA(),a._UZ(14,"mat-progress-bar",4),a.qZA(),a.qZA()),2&t&&(a.Udp("grid-template-rows",s.GridTemplateRows)("grid-template-columns",s.GridTemplateColumns),a.xp6(3),a.hij("Score: ",a.lcZ(4,9,s.scoringManager.Score),""),a.xp6(3),a.hij("Moves left: ",s.scoringManager.PlayerMoves,""),a.xp6(2),a.hij("Level: ",s.scoringManager.Level,""),a.xp6(4),a.hij("",a.xi3(13,11,s.scoringManager.LevelProgress,"1.0-0"),"%\xa0"),a.xp6(2),a.s9C("value",s.scoringManager.LevelProgress))},directives:[Je,Z],pipes:[R.JJ],styles:[".game-container[_ngcontent-%COMP%]{height:100%;display:grid}.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .5em}@media screen and (min-width: 600px){.game-container[_ngcontent-%COMP%]   .game-scoring[_ngcontent-%COMP%]{padding-top:.5em;flex-direction:column;justify-content:unset;align-items:flex-end}}.game-container[_ngcontent-%COMP%]   .game-canvas[_ngcontent-%COMP%]{display:flex;justify-content:center}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{display:flex;padding:0 .5em;align-items:center}.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{height:70%}@media screen and (min-width: 600px){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{height:2em}}@media screen and (min-width: 600px){.game-container[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{align-items:unset;padding-top:.5em}}"]}),i})()}];let Nt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[R.ez,L.Bz.forChild(ye)]]}),i})(),mt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Re,he,E,ee,Ee,Oe,fe,$],imports:[[R.ez,Nt,k,F.Is,w.ot,Ct]]}),i})()}}]);